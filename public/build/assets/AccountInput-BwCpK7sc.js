import{r as m,p as K,M as P,c as n,g as o,b as r,d as v,f as R,s as k,z as i,H as w}from"./vendor-_1bMFsGO.js";const q={class:"mb-4 md:mb-6"},z=["for"],M={key:1,class:"text-red-500"},A={class:"relative"},E=["id","value","placeholder","disabled"],H={key:0,class:"absolute left-3 md:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-base md:text-lg"},j=["title"],G={key:1,class:"mt-1 md:mt-2 text-xs md:text-sm text-red-500 flex items-center gap-1 md:gap-2"},J={key:2,class:"mt-1 md:mt-2 text-xs md:text-sm text-gray-500 flex items-center gap-1 md:gap-2"},O={__name:"AccountInput",props:{modelValue:[String,Number],label:String,placeholder:String,required:Boolean,disabled:Boolean,error:String,helper:String,id:String,showCurrency:{type:Boolean,default:!0},allowDecimal:{type:Boolean,default:!1},decimalPlaces:{type:Number,default:0},icon:{type:String,default:"üí∞"},iconClass:{type:String,default:"text-pink-400"},showCopyButton:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{expose:C,emit:V}){const a=e,S=V,b=m(null),u=m(!1),s=m(""),d=m(!1),f=t=>{if(t==null||t==="")return"";let l=Number(t);return isNaN(l)?"":new Intl.NumberFormat("id-ID",{minimumFractionDigits:a.allowDecimal?a.decimalPlaces:0,maximumFractionDigits:a.allowDecimal?a.decimalPlaces:0}).format(l)},h=K(()=>u.value&&s.value!==""?f(s.value):a.modelValue||a.modelValue===0?f(a.modelValue):""),p=t=>{let l=t.target.value;const x=t.target.selectionStart,y=l.replace(/[^\d]/g,"");s.value=y;const I=parseInt(y)||0;S("update:modelValue",I),w(()=>{const g=f(y);let c=x;if(g.length!==l.length){const T=g.length-l.length;c=x+T}c=Math.min(c,g.length),t.target.setSelectionRange(c,c)})},N=t=>{u.value=!0;const l=a.modelValue?Number(a.modelValue).toString():"";s.value=l.replace(/[^\d]/g,""),w(()=>t.target.select())},B=()=>{u.value=!1,s.value=""},D=t=>{[8,9,13,27,46,35,36,37,38,39,40].includes(t.keyCode)||(t.ctrlKey||t.metaKey)&&[65,67,86,88].includes(t.keyCode)||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.preventDefault()};P(()=>a.modelValue,t=>{if(!u.value){const l=Number(t);isNaN(l)||(s.value=l.toString())}},{immediate:!0});async function F(){try{await navigator.clipboard.writeText(a.modelValue??""),d.value=!0,setTimeout(()=>d.value=!1,1200)}catch(t){console.error(t)}}return C({focus:()=>b.value?.focus()}),(t,l)=>(o(),n("div",q,[e.label?(o(),n("label",{key:0,for:e.id,class:"block text-sm font-semibold text-gray-700 mb-2 md:mb-3 flex items-center gap-2"},[e.icon?(o(),n("span",{key:0,class:k(e.iconClass)},i(e.icon),3)):r("",!0),R(" "+i(e.label)+" ",1),e.required?(o(),n("span",M,"*")):r("",!0)],8,z)):r("",!0),v("div",A,[v("input",{ref_key:"inputRef",ref:b,id:e.id,type:"text",value:h.value,onInput:p,onFocus:N,onBlur:B,onKeydown:D,placeholder:e.placeholder,disabled:e.disabled,class:k(["w-full border border-gray-200 rounded-xl md:rounded-2xl p-3 md:p-4 focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-all duration-300 bg-white/50 backdrop-blur-sm font-mono text-sm md:text-base",{"pl-16":e.icon&&e.showCurrency,"pl-10":e.icon&&!e.showCurrency||!e.icon&&e.showCurrency,"pl-3":!e.icon&&!e.showCurrency,"opacity-50 cursor-not-allowed":e.disabled,"border-red-300":e.error}])},null,42,E),e.icon?(o(),n("div",H,i(e.icon),1)):r("",!0),e.showCopyButton&&h.value?(o(),n("button",{key:1,onClick:F,class:"absolute right-3 md:right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-pink-500 transition-colors text-sm",type:"button",title:d.value?"Tersalin!":"Salin ke clipboard"},i(d.value?"‚úÖ":"üìã"),9,j)):r("",!0)]),e.error?(o(),n("p",G," ‚ö†Ô∏è "+i(e.error),1)):r("",!0),e.helper?(o(),n("p",J," üí° "+i(e.helper),1)):r("",!0)]))}};export{O as _};
