import{C as B,i as E,j as b,f as g,d as l,a as e,h as d,I as M,k as s,t as c,l as i,e as h,J as y,b as z,w as A,g as w,z as D,v as L,n as R,F as q,y as J,o as n}from"./app-BIFzK2ru.js";const K={class:"space-y-8 px-4 sm:px-0"},G={class:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 overflow-hidden"},H={class:"relative bg-gradient-to-r from-pink-500/10 to-rose-500/10 py-6 px-4 text-center border-b border-pink-100"},O={class:"relative inline-block"},Q={class:"relative"},W=["src","alt"],X={class:"text-2xl font-bold text-gray-800 mt-6 mb-2"},Y={class:"text-gray-600 flex items-center justify-center gap-2"},Z={key:0,class:"text-green-500 text-sm flex items-center gap-1"},ee={key:0,class:"absolute top-full left-1/2 transform -translate-x-1/2 mt-4 w-48 bg-white rounded-xl shadow-2xl border border-gray-100 z-50 overflow-hidden"},te=["disabled"],se=["disabled"],oe={class:"p-4"},re={class:"mb-4"},ae={class:"relative"},le=["disabled"],ne={key:0,class:"mt-2 text-sm text-red-500 flex items-center gap-2"},ie={class:"mb-4"},de={class:"relative"},ue=["disabled"],pe={key:0,class:"mt-2 text-sm text-red-500 flex items-center gap-2"},me={key:1,class:"mt-4 p-4 bg-amber-50/80 border border-amber-200 rounded-2xl"},ce={class:"flex items-start gap-3"},be={class:"flex-1"},fe={class:"mt-2 p-2 bg-green-100 border border-green-300 rounded-xl"},xe={key:0,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-2xl text-red-600 text-sm flex items-center gap-2"},ge={class:"flex items-center justify-between pt-4 border-t border-gray-100"},he={class:"flex items-center"},ve={key:0,class:"flex items-center gap-2 text-green-600 font-medium text-sm bg-green-50 px-4 py-2 rounded-xl"},ke=["disabled"],ye={key:0,class:"flex items-center gap-1"},we={key:1,class:"flex items-center gap-1"},_e={key:0,class:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Pe={class:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl"},Ce={class:"relative"},je=["src","alt"],Fe={class:"p-6 bg-gradient-to-r from-pink-50 to-rose-50 text-center"},Se={class:"text-gray-600"},Te={__name:"UpdateProfileInformationForm",setup(Ve){const{props:_}=B(),a=_.auth.user,P=a?.theme?JSON.parse(a.theme):null,o=E({_method:"PUT",name:a.name,email:a.email,photo:null}),v=b(null),f=b(null),u=b(null),p=b(!1),x=b(!1),C=g(()=>{const r=P?.button;if(r?.from&&r?.to&&r?.shade_from&&r?.shade_to){const t=`bg-gradient-to-r from-${r.from}-${r.shade_from} to-${r.to}-${r.shade_to}`,m=r.text_color||"text-white";return`${t} ${m}`}return"bg-gradient-to-r from-pink-300 to-sky-300 text-white"}),j=g(()=>"bg-gray-300 text-gray-500 cursor-not-allowed");g(()=>"bg-gradient-to-br from-pink-50 via-white to-rose-50");const F=()=>{u.value&&(o.photo=u.value.files[0]),o.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>{k(),p.value=!1}})},S=()=>{v.value=!0},V=()=>{u.value.click(),p.value=!1},N=()=>{const r=u.value.files[0];if(!r)return;const t=new FileReader;t.onload=m=>{f.value=m.target.result},t.readAsDataURL(r)},T=()=>{J.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{f.value=null,k(),p.value=!1}})},k=()=>{u.value?.value&&(u.value.value=null)},U=()=>{p.value=!p.value},I=()=>{x.value=!0,p.value=!1},$=()=>{x.value=!1};return(r,t)=>(n(),l(q,null,[e("div",K,[t[24]||(t[24]=M('<div class="text-center mb-2"><div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full mb-4 shadow-lg"><span class="text-2xl text-white">💝</span></div><h1 class="text-2xl font-bold text-gray-800 mb-2">Profil Kita</h1><p class="text-lg text-gray-600 max-w-2xl mx-auto"> Rawat dan perbarui informasi khusus kita berdua dengan penuh cinta </p></div>',1)),e("div",G,[e("div",H,[e("div",O,[e("div",{class:"relative group cursor-pointer",onClick:U},[e("div",Q,[e("img",{src:f.value||s(a).profile_photo_url,alt:s(a).name,class:"w-40 h-40 rounded-full object-cover border-4 border-white shadow-2xl mx-auto transition-all duration-300 group-hover:scale-105 group-hover:border-pink-200"},null,8,W),t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-black/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"},[e("span",{class:"text-white text-sm font-medium bg-black/50 px-3 py-1 rounded-full"},"Ubah Foto")],-1))]),t[3]||(t[3]=e("div",{class:"absolute -top-2 -right-2 w-8 h-8 bg-pink-400 rounded-full flex items-center justify-center shadow-lg"},[e("span",{class:"text-white text-sm"},"✨")],-1)),t[4]||(t[4]=e("div",{class:"absolute -bottom-2 -left-2 w-6 h-6 bg-rose-300 rounded-full flex items-center justify-center shadow-lg"},[e("span",{class:"text-white text-xs"},"❤️")],-1))]),e("h2",X,c(s(a).name),1),e("p",Y,[t[5]||(t[5]=e("span",{class:"text-pink-400"},"📧",-1)),i(" "+c(s(a).email)+" ",1),s(a).email_verified_at?(n(),l("span",Z," ✓ Terverifikasi ")):d("",!0)]),p.value?(n(),l("div",ee,[e("button",{onClick:V,class:"w-full px-4 py-3 text-left hover:bg-pink-50 transition-colors flex items-center gap-3 text-gray-700",disabled:s(o).processing},[...t[6]||(t[6]=[e("span",{class:"text-lg"},"🖼️",-1),e("span",null,"Ganti Foto",-1)])],8,te),e("button",{onClick:I,class:"w-full px-4 py-3 text-left hover:bg-pink-50 transition-colors flex items-center gap-3 text-gray-700 border-t border-gray-100"},[...t[7]||(t[7]=[e("span",{class:"text-lg"},"👁️",-1),e("span",null,"Lihat Foto",-1)])]),s(a).profile_photo_path?(n(),l("button",{key:0,onClick:T,class:"w-full px-4 py-3 text-left hover:bg-red-50 transition-colors flex items-center gap-3 text-red-600 border-t border-gray-100",disabled:s(o).processing},[...t[8]||(t[8]=[e("span",{class:"text-lg"},"🗑️",-1),e("span",null,"Hapus Foto",-1)])],8,se)):d("",!0)])):d("",!0)]),e("input",{id:"photo",ref_key:"photoInput",ref:u,type:"file",class:"hidden",onChange:N,accept:"image/*"},null,544)]),e("div",oe,[e("div",re,[t[11]||(t[11]=e("label",{for:"name",class:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[e("span",{class:"text-pink-400"},"👤"),i(" Nama Lengkap ")],-1)),e("div",ae,[h(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=m=>s(o).name=m),type:"text",class:"w-full border border-gray-200 rounded-2xl p-2 pl-12 focus:ring-2 focus:ring-pink-300 focus:border-pink-300 transition-all duration-300 bg-white/50 backdrop-blur-sm",required:"",autocomplete:"name",disabled:s(o).processing,placeholder:"Masukkan nama lengkap Anda"},null,8,le),[[y,s(o).name]]),t[9]||(t[9]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," 💕 ",-1))]),s(o).errors.name?(n(),l("p",ne,[t[10]||(t[10]=e("span",null,"⚠️",-1)),i(" "+c(s(o).errors.name),1)])):d("",!0)]),e("div",ie,[t[19]||(t[19]=e("label",{for:"email",class:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[e("span",{class:"text-pink-400"},"📧"),i(" Alamat Email ")],-1)),e("div",de,[h(e("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=m=>s(o).email=m),type:"email",class:"w-full border border-gray-200 rounded-2xl p-2 pl-12 focus:ring-2 focus:ring-pink-300 focus:border-pink-300 transition-all duration-300 bg-white/50 backdrop-blur-sm",required:"",autocomplete:"username",disabled:s(o).processing,placeholder:"email@contoh.com"},null,8,ue),[[y,s(o).email]]),t[12]||(t[12]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," ✉️ ",-1))]),s(o).errors.email?(n(),l("p",pe,[t[13]||(t[13]=e("span",null,"⚠️",-1)),i(" "+c(s(o).errors.email),1)])):d("",!0),r.$page.props.jetstream.hasEmailVerification&&s(a).email_verified_at===null?(n(),l("div",me,[e("div",ce,[t[17]||(t[17]=e("span",{class:"text-amber-500 text-xl mt-1"},"⚠️",-1)),e("div",be,[t[15]||(t[15]=e("p",{class:"text-amber-800 font-medium mb-2"},"Email Belum Terverifikasi",-1)),t[16]||(t[16]=e("p",{class:"text-amber-700 text-sm mb-3"}," Untuk keamanan dan kenyamanan kita berdua, mohon verifikasi alamat email Anda. ",-1)),z(s(D),{href:r.route("verification.send"),method:"post",as:"button",class:"inline-flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-800 rounded-xl hover:bg-amber-200 transition-all duration-300 font-medium text-sm border border-amber-300",onClick:w(S,["prevent"]),disabled:s(o).processing},{default:A(()=>[...t[14]||(t[14]=[e("span",null,"📨",-1),i(" Kirim Ulang Email Verifikasi ",-1)])]),_:1},8,["href","disabled"])])]),h(e("div",fe,[...t[18]||(t[18]=[e("p",{class:"text-green-700 text-sm flex items-center gap-2"},[e("span",null,"✅"),i(" Tautan verifikasi baru telah dikirim ke alamat email Anda ")],-1)])],512),[[L,v.value]])])):d("",!0)]),s(o).errors.photo?(n(),l("p",xe,[t[20]||(t[20]=e("span",null,"❌",-1)),i(" "+c(s(o).errors.photo),1)])):d("",!0),e("div",ge,[e("div",he,[s(o).recentlySuccessful?(n(),l("div",ve,[...t[21]||(t[21]=[e("span",{class:"text-lg"},"✅",-1),e("span",null,"Perubahan tersimpan dengan penuh cinta 💖",-1)])])):d("",!0)]),e("button",{type:"submit",onClick:w(F,["prevent"]),class:R(["px-4 py-2 rounded-lg font-medium text-white shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 active:scale-95",s(o).processing?j.value:C.value]),disabled:s(o).processing},[s(o).processing?(n(),l("span",ye,[...t[22]||(t[22]=[e("span",{class:"animate-spin"},"⏳",-1),i(" Menyimpan... ",-1)])])):(n(),l("span",we,[...t[23]||(t[23]=[e("span",null,"💾",-1),i(" Simpan Perubahan ",-1)])]))],10,ke)])])])]),x.value?(n(),l("div",_e,[e("div",Pe,[e("div",Ce,[e("button",{onClick:$,class:"absolute top-4 right-4 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors z-10"}," ✕ "),e("img",{src:f.value||s(a).profile_photo_url,alt:s(a).name,class:"w-full h-auto max-h-[80vh] object-contain"},null,8,je)]),e("div",Fe,[e("p",Se,"Foto Profil "+c(s(a).name),1)])])])):d("",!0)],64))}};export{Te as default};
