import{r as w,M as Q,p as m,c as l,g as r,d as t,b as u,z as o,f as v,n as _,m as $,Q as G,F as P,y as M,k as T,w as p,N as J,l as S,s as D}from"./vendor-D_AUDOEP.js";import{B as V}from"./BaseModal-CX8wKl9t.js";import{_ as O}from"./app-BZKcdF5l.js";const R={class:"bg-white/80 backdrop-blur-sm rounded-xl md:rounded-2xl shadow-lg md:shadow-xl border border-white/50 overflow-hidden"},W={class:"bg-gradient-to-r from-pink-400/10 to-sky-400/10 py-3 md:py-4 px-3 md:px-4 border-b border-pink-100"},X={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-3"},Y={class:"flex-1 min-w-0"},Z={class:"text-lg md:text-xl lg:text-2xl font-bold bg-gradient-to-r from-pink-600 to-sky-600 bg-clip-text text-transparent mb-1 md:mb-2"},ee={class:"text-gray-600 flex items-center gap-2 text-xs md:text-sm"},te={class:"flex flex-nowrap items-center gap-2 w-full lg:w-auto"},se={key:0,class:"relative flex-1 lg:flex-none"},ae={class:"hidden xs:inline"},ne={class:"overflow-x-auto"},re={class:"w-full"},le={class:"bg-gradient-to-r from-pink-50/50 to-sky-50/50 border-b border-pink-100"},oe={class:"flex items-center gap-1 md:gap-2"},de={key:0,class:"text-pink-400 text-sm md:text-base"},ie={class:"truncate"},xe=["onClick"],ue={key:0,class:"px-3 md:px-4 lg:px-6 py-3 md:py-4 text-right text-xs md:text-sm font-semibold text-gray-700 whitespace-nowrap"},me={class:"divide-y divide-pink-100/50"},pe={key:0,class:"inline-flex"},ge={key:1,class:"text-base md:text-lg"},ce={key:2,class:"flex items-center gap-2 md:gap-3"},be={class:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-pink-300 to-sky-300 flex items-center justify-center text-white text-xs md:text-sm font-bold"},ye={class:"truncate max-w-[80px] md:max-w-none"},ve={key:3,class:"text-gray-600 text-xs md:text-sm"},fe={key:4,class:"text-gray-700 truncate max-w-[100px] md:max-w-none block"},ke={key:0,class:"px-3 md:px-4 lg:px-6 py-3 md:py-4 text-right whitespace-nowrap"},we={class:"flex justify-end gap-1 md:gap-2"},he={key:0,class:"text-center py-6 md:py-8"},Ce={class:"text-gray-500 mb-4 md:mb-6 text-xs md:text-sm max-w-md mx-auto px-2"},Be={key:1,class:"text-center py-6 md:py-8"},Pe={key:2,class:"bg-gradient-to-r from-pink-50/30 to-sky-50/30 px-3 md:px-4 py-3 border-t border-pink-100"},Me={class:"flex flex-col lg:flex-row justify-between items-center gap-3 md:gap-4"},De={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 md:gap-4 text-xs md:text-sm text-gray-600"},Ve={class:"flex items-center gap-2"},_e={class:"flex items-center gap-1 md:gap-2"},$e={class:"flex items-center gap-1 mx-1 md:mx-2"},Te={class:"font-semibold text-pink-600 text-xs md:text-sm"},Se={class:"text-xs md:text-sm text-gray-600"},je={key:0,class:"flex justify-center gap-1 mt-2 md:mt-3"},Ae=["onClick"],Ie={key:0,class:"px-1 md:px-2 text-gray-400 text-xs md:text-sm"},Ne={__name:"BaseTable",props:{title:{type:String,required:!0},description:{type:String,default:"Kelola data dengan mudah dan efisien"},emptyDescription:{type:String,default:""},columns:{type:Array,required:!0},data:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},showCreateButton:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0},pagination:{type:Boolean,default:!1},itemsPerPage:{type:Number,default:10}},emits:["create","edit","delete"],setup(d,{emit:ze}){const f=d,h=w(""),c=w(""),b=w("asc"),i=w(1),g=w(f.itemsPerPage);Q(()=>f.data,()=>{i.value=1});const k=m(()=>{let a=[...f.data];if(h.value){const e=h.value.toLowerCase();a=a.filter(s=>f.columns.some(x=>{const n=x.key.split(".");let B=s;for(const H of n)B=B?B[H]:"";return String(B||"").toLowerCase().includes(e)}))}return c.value&&a.sort((e,s)=>{const x=e[c.value],n=s[c.value];return x<n?b.value==="asc"?-1:1:x>n?b.value==="asc"?1:-1:0}),a}),C=m(()=>k.value.length),y=m(()=>Math.ceil(C.value/g.value)),j=m(()=>(i.value-1)*g.value+1),A=m(()=>{const a=i.value*g.value;return a>C.value?C.value:a}),I=m(()=>{if(!f.pagination)return k.value;const a=(i.value-1)*g.value,e=a+g.value;return k.value.slice(a,e)}),N=m(()=>{const a=[];let s=Math.max(1,i.value-Math.floor(2.5)),x=Math.min(y.value,s+5-1);x-s+1<5&&(s=Math.max(1,x-5+1));for(let n=s;n<=x;n++)a.push(n);return a}),z=m(()=>y.value>5&&(i.value<y.value-2||i.value>3)),L=a=>{c.value===a?b.value=b.value==="asc"?"desc":"asc":(c.value=a,b.value="asc"),i.value=1},E=(a,e="default")=>{const s={default:{active:"bg-green-100 text-green-800 border border-green-200",inactive:"bg-red-100 text-red-800 border border-red-200",pending:"bg-yellow-100 text-yellow-800 border border-yellow-200",success:"bg-emerald-100 text-emerald-800 border border-emerald-200",warning:"bg-amber-100 text-amber-800 border border-amber-200",info:"bg-blue-100 text-blue-800 border border-blue-200"},romantic:{active:"bg-pink-100 text-pink-800 border border-pink-200",inactive:"bg-gray-100 text-gray-800 border border-gray-200",pending:"bg-sky-100 text-sky-800 border border-sky-200",success:"bg-green-100 text-green-800 border border-green-200",warning:"bg-orange-100 text-orange-800 border border-orange-200",info:"bg-purple-100 text-purple-800 border border-purple-200"}};return(s[e]||s.default)[a]||"bg-gray-100 text-gray-800 border border-gray-200"},U=(a,e={})=>({...{active:"Aktif",inactive:"Nonaktif",pending:"Tertunda",success:"Sukses",warning:"Peringatan",info:"Info"},...e})[a]||a,q=(a,e={})=>({...{active:"âœ…",inactive:"âŒ",pending:"â³",success:"ðŸŽ‰",warning:"âš ï¸",info:"ðŸ’¡"},...e})[a]||"ðŸ“„",F=a=>a?a.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"??",K=a=>a?new Date(a).toLocaleDateString("id-ID"):"-";return(a,e)=>(r(),l("div",R,[t("div",W,[t("div",X,[t("div",Y,[t("h2",Z,o(d.title),1),t("p",ee,[e[7]||(e[7]=t("span",{class:"text-pink-400"},"ðŸ“Š",-1)),v(" "+o(d.description),1)])]),t("div",te,[d.searchable?(r(),l("div",se,[$(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>h.value=s),type:"text",placeholder:"Cari...",class:"pl-10 md:pl-12 pr-3 md:pr-4 py-2 border border-gray-200 rounded-lg md:rounded-xl focus:ring-2 focus:ring-pink-300 focus:border-pink-300 transition-all duration-300 bg-white/50 backdrop-blur-sm w-full lg:w-48 xl:w-64 text-sm md:text-base"},null,512),[[G,h.value]]),e[8]||(e[8]=t("div",{class:"absolute left-3 md:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-base md:text-lg"}," ðŸ” ",-1))])):u("",!0),_(a.$slots,"header-action",{},()=>[d.showCreateButton?(r(),T(V,{key:0,onClick:e[1]||(e[1]=s=>a.$emit("create")),class:"whitespace-nowrap flex-shrink-0 text-xs md:text-sm",size:"sm"},{icon:p(()=>[...e[9]||(e[9]=[v("âž•",-1)])]),default:p(()=>[t("span",ae,"Tambah "+o(d.title),1),e[10]||(e[10]=t("span",{class:"xs:hidden"},"Tambah",-1))]),_:1})):u("",!0)],!0)])])]),t("div",ne,[t("table",re,[t("thead",null,[t("tr",le,[(r(!0),l(P,null,M(d.columns,s=>(r(),l("th",{key:s.key,class:D(["px-3 md:px-4 lg:px-6 py-3 md:py-4 text-left text-xs md:text-sm font-semibold text-gray-700 whitespace-nowrap",s.class])},[t("div",oe,[s.icon?(r(),l("span",de,o(s.icon),1)):u("",!0),t("span",ie,o(s.label),1),s.sortable?(r(),l("button",{key:1,onClick:x=>L(s.key),class:"text-gray-400 hover:text-pink-500 transition-colors text-xs md:text-sm ml-1"},o(c.value===s.key?b.value==="asc"?"â†‘":"â†“":"â†•"),9,xe)):u("",!0)])],2))),128)),d.showActions?(r(),l("th",ue,[...e[11]||(e[11]=[t("div",{class:"flex items-center gap-1 md:gap-2 justify-end"},[t("span",{class:"text-pink-400 text-sm md:text-base"},"âš¡"),t("span",{class:"truncate"},"Aksi")],-1)])])):u("",!0)])]),t("tbody",me,[(r(!0),l(P,null,M(I.value,(s,x)=>(r(),l("tr",{key:s.id||x,class:"hover:bg-gradient-to-r from-pink-50/30 to-sky-50/30 transition-all duration-200 group"},[(r(!0),l(P,null,M(d.columns,n=>(r(),l("td",{key:n.key,class:D(["px-3 md:px-4 lg:px-6 py-3 md:py-4 text-xs md:text-sm text-gray-700 whitespace-nowrap",n.class])},[_(a.$slots,`column-${n.key}`,{item:s},()=>[n.type==="badge"?(r(),l("div",pe,[t("span",{class:D(["px-2 md:px-3 py-1 rounded-full text-xs font-medium shadow-sm",E(s[n.key],n.badgeVariant)])},o(U(s[n.key],n.badgeMap)),3)])):n.type==="icon"?(r(),l("div",ge,o(q(s[n.key],n.iconMap)),1)):n.type==="avatar"?(r(),l("div",ce,[t("div",be,o(F(s[n.key])),1),t("span",ye,o(s[n.key]),1)])):n.type==="date"?(r(),l("div",ve,o(K(s[n.key])),1)):(r(),l("span",fe,o(s[n.key]),1))],!0)],2))),128)),d.showActions?(r(),l("td",ke,[t("div",we,[_(a.$slots,"actions",{item:s},void 0,!0)])])):u("",!0)]))),128))])])]),k.value.length===0&&!d.loading?(r(),l("div",he,[e[14]||(e[14]=t("div",{class:"text-4xl md:text-6xl mb-3 md:mb-4 text-gray-300"},"ðŸ“",-1)),e[15]||(e[15]=t("h3",{class:"text-base md:text-lg font-medium text-gray-900 mb-1 md:mb-2"},"Data belum tersedia",-1)),t("p",Ce,o(d.emptyDescription||`Belum ada data ${d.title.toLowerCase()} yang tersedia. Mulai dengan menambahkan data pertama Anda.`),1),d.showCreateButton?(r(),T(V,{key:0,onClick:e[2]||(e[2]=s=>a.$emit("create")),size:"md",class:"text-xs md:text-sm"},{icon:p(()=>[...e[12]||(e[12]=[v("âž•",-1)])]),default:p(()=>[e[13]||(e[13]=v(" Tambah Data Pertama ",-1))]),_:1})):u("",!0)])):u("",!0),d.loading?(r(),l("div",Be,[...e[16]||(e[16]=[t("div",{class:"animate-spin text-3xl md:text-4xl mb-3 md:mb-4 text-pink-400"},"â³",-1),t("p",{class:"text-gray-500 text-xs md:text-sm"},"Memuat data...",-1)])])):u("",!0),d.pagination&&k.value.length>0?(r(),l("div",Pe,[t("div",Me,[t("div",De,[t("span",null,"Menampilkan "+o(j.value)+" - "+o(A.value)+" dari "+o(C.value)+" data",1),t("div",Ve,[e[18]||(e[18]=t("span",null,"Tampilkan:",-1)),$(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),class:"border border-gray-300 rounded-lg px-2 py-1 text-xs md:text-sm focus:ring-2 focus:ring-pink-300 focus:border-pink-300",onChange:e[4]||(e[4]=s=>i.value=1)},[...e[17]||(e[17]=[t("option",{value:"5"},"5",-1),t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1)])],544),[[J,g.value]]),e[19]||(e[19]=t("span",{class:"hidden sm:inline"},"per halaman",-1))])]),t("div",_e,[S(V,{variant:"secondary",size:"sm",disabled:i.value===1,onClick:e[5]||(e[5]=s=>i.value--),class:"!px-2 md:!px-3 !py-1 text-xs"},{icon:p(()=>[...e[20]||(e[20]=[v("â¬…ï¸",-1)])]),default:p(()=>[e[21]||(e[21]=t("span",{class:"hidden xs:inline"},"Sebelumnya",-1))]),_:1},8,["disabled"]),t("div",$e,[e[22]||(e[22]=t("span",{class:"text-xs md:text-sm text-gray-600"},"Halaman",-1)),t("span",Te,o(i.value),1),t("span",Se,"dari "+o(y.value),1)]),S(V,{variant:"secondary",size:"sm",disabled:i.value>=y.value,onClick:e[6]||(e[6]=s=>i.value++),class:"!px-2 md:!px-3 !py-1 text-xs"},{icon:p(()=>[...e[23]||(e[23]=[v("âž¡ï¸",-1)])]),default:p(()=>[e[24]||(e[24]=t("span",{class:"hidden xs:inline"},"Selanjutnya",-1))]),_:1},8,["disabled"])])]),y.value>1?(r(),l("div",je,[(r(!0),l(P,null,M(N.value,s=>(r(),l("button",{key:s,onClick:x=>i.value=s,class:D(["w-6 h-6 md:w-8 md:h-8 rounded text-xs md:text-sm transition-all duration-200",s===i.value?"bg-gradient-to-r from-pink-500 to-sky-500 text-white font-bold":"bg-white text-gray-600 hover:bg-pink-50 border border-gray-200"])},o(s),11,Ae))),128)),z.value?(r(),l("span",Ie,"...")):u("",!0)])):u("",!0)])):u("",!0)]))}},qe=O(Ne,[["__scopeId","data-v-bfc560b7"]]);export{qe as B};
