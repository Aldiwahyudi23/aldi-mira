import{A as me}from"./AppLayout-gieJcwVc.js";import{I as xe,r as _,M as ce,t as be,p as f,o as ye,k as fe,g,w as o,d as e,c as p,b as D,l as c,s as v,z as n,f as l,K as ve,x as i,D as _e}from"./vendor-D_AUDOEP.js";import{B as he}from"./BaseTable-BfA64rbO.js";import{B as j,a as W}from"./BaseModal-9V5i1c82.js";import{S as ke}from"./SelectInput-BCjCidYQ.js";import{_ as we}from"./AccountInput-ChwpvfZQ.js";import{_ as X}from"./DateInput-Csttyi47.js";import{_ as Be}from"./app-drKAwCSa.js";/* empty css            */const De={class:"py-2 min-h-screen relative overflow-hidden"},Se={class:"w-full px-3 sm:px-4 lg:px-6 relative z-10"},Te={class:"flex items-center justify-between"},Me={class:"flex items-center gap-2 md:gap-3"},Ce={class:"text-lg md:text-xl"},je={class:"font-medium text-sm md:text-base"},Ie={class:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4"},Pe={class:"bg-white/90 backdrop-blur-md shadow-lg rounded-xl md:rounded-2xl p-3 md:p-4 hover:scale-[1.02] transition transform border border-blue-100"},$e={class:"text-center"},Ae={class:"text-base md:text-lg lg:text-xl font-bold text-gray-800 mb-1"},Ee={class:"bg-white/90 backdrop-blur-md shadow-lg rounded-xl md:rounded-2xl p-3 md:p-4 hover:scale-[1.02] transition transform border border-orange-100"},Ve={class:"text-center"},Ue={class:"text-base md:text-lg lg:text-xl font-bold text-gray-800 mb-1"},Fe={class:"text-xs text-gray-500 mt-1"},Ke={class:"bg-white/90 backdrop-blur-md shadow-lg rounded-xl md:rounded-2xl p-3 md:p-4 hover:scale-[1.02] transition transform border border-green-100"},ze={class:"text-center"},Ne={class:"text-base md:text-lg lg:text-xl font-bold text-gray-800 mb-1"},Oe={class:"bg-white/90 backdrop-blur-md shadow-lg rounded-xl md:rounded-2xl p-3 md:p-4 hover:scale-[1.02] transition transform border border-purple-100"},Re={class:"text-center"},He={class:"text-base md:text-lg lg:text-xl font-bold text-gray-800 mb-1"},qe={class:"flex justify-center gap-1 mt-1"},Le=["title"],Ge=["title"],Je=["title"],Ye={class:"flex items-center gap-2 md:gap-3 min-w-[150px] md:min-w-[200px]"},Qe={class:"flex-1 min-w-0"},We={class:"font-semibold text-gray-900 text-xs md:text-sm truncate"},Xe={class:"flex items-center gap-1 md:gap-2 mt-1"},Ze={class:"text-xs text-gray-500 truncate hidden md:inline"},et={class:"flex items-center gap-2 md:gap-3"},tt={class:"font-medium text-gray-700 text-xs md:text-sm"},st={class:"space-y-1"},at={class:"flex items-center gap-2"},nt={class:"font-semibold text-gray-900 text-xs md:text-sm"},rt={class:"flex items-center gap-1 md:gap-2 text-xs text-gray-500"},ot={class:"hidden md:inline"},lt={class:"hidden md:inline"},dt={key:1,class:"flex items-center gap-1 text-xs text-red-600"},it={class:"text-right"},ut={class:"font-bold text-gray-900 text-xs md:text-sm"},gt={class:"text-right"},pt={key:0,class:"text-xs"},mt={class:"text-right"},xt={key:0,class:"text-xs"},ct={key:1,class:"text-xs"},bt={class:"space-y-1 md:space-y-2 min-w-[100px] md:min-w-[120px]"},yt={class:"flex justify-between items-center text-xs"},ft={class:"font-semibold text-gray-700"},vt={class:"text-gray-500 hidden md:inline"},_t={class:"w-full bg-gray-200 rounded-full h-2 md:h-2.5 shadow-inner"},ht={class:"flex justify-between items-center text-xs text-gray-600 hidden md:flex"},kt={class:"flex flex-col items-center gap-1 md:gap-2"},wt={class:"text-base md:text-lg"},Bt={class:"hidden xs:inline"},Dt={key:0,class:"text-xs text-red-600 font-medium flex items-center gap-1"},St={class:"hidden md:inline"},Tt={key:1,class:"text-xs text-orange-600 font-medium flex items-center gap-1"},Mt={key:2,class:"text-xs text-gray-500 flex items-center gap-1"},Ct={key:3,class:"text-xs text-blue-500 flex items-center gap-1"},jt={key:4,class:"text-xs text-green-500 flex items-center gap-1"},It={class:"flex flex-col gap-1 md:gap-2 min-w-[120px] md:min-w-[140px]"},Pt={class:"flex gap-1"},$t={key:1,class:"text-center mt-6"},At={class:"bg-white/80 backdrop-blur-md rounded-xl md:rounded-2xl shadow-lg p-6 md:p-8 border border-gray-100"},Et={class:"space-y-3 md:space-y-4 max-h-[50vh] md:max-h-[60vh] overflow-y-auto pr-2"},Vt={key:0,class:"p-2 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl md:rounded-2xl"},Ut={class:"space-y-3 md:space-y-4"},Ft={key:0,class:"p-3 md:p-4 bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-xl md:rounded-2xl"},Kt={class:"grid grid-cols-1 xs:grid-cols-2 gap-3 md:gap-4 text-xs md:text-sm"},zt={class:"font-medium text-gray-800 truncate"},Nt={class:"font-medium text-gray-800"},Ot={class:"font-medium text-gray-800"},Rt={class:"font-bold text-gray-800"},Ht={class:"font-bold text-orange-600"},qt={class:"font-medium text-gray-800"},Lt={class:"font-medium text-gray-800"},Gt={__name:"Index",setup(Jt){const F=xe(),K=F.props.auth.user,Z=K?.partner?.name??"Pasangan",z=`${K?.name??""} üíï ${Z}`,m=_([]),I=_([]),P=_(!1),$=_(!1),k=_(!1),S=_(!1),y=_(null),u=_(null),x=_(null);ce(()=>F.props.flash,a=>{(a.success||a.error)&&(x.value={message:a.success||a.error,type:a.type||(a.success?"success":"error")},setTimeout(()=>{x.value=null},5e3))},{immediate:!0});const r=be({category_id:"",period_start:"",period_end:"",target_amount:0}),ee=[{key:"category.name",label:"Kategori",icon:"üìÅ",sortable:!0},{key:"category.budget_type",label:"Jenis",icon:"üí∞",sortable:!0,type:"badge"},{key:"period",label:"Periode",icon:"üìÖ",sortable:!0},{key:"target_amount",label:"Target",icon:"üéØ",sortable:!0,type:"currency"},{key:"spent_amount",label:"Terpakai",icon:"üí∞",sortable:!0,type:"currency"},{key:"remaining_amount",label:"Sisa",icon:"üìä",sortable:!0,type:"currency"},{key:"usage_percentage",label:"Progress",icon:"üìà",sortable:!0,type:"progress"},{key:"status",label:"Status",icon:"üü¢",sortable:!0,type:"badge"}],T=async()=>{P.value=!0;try{const a=await axios.get(route("budgets.index"));m.value=a.data.budgets||a.data,console.log("Budgets loaded:",m.value)}catch(a){console.error("Error loading budgets:",a),x.value={message:"Gagal memuat data budget",type:"error"}}finally{P.value=!1}},N=async()=>{try{const a=await axios.get(route("budgets.api.categories"));I.value=a.data,console.log("Categories loaded:",I.value)}catch(a){console.error("Error loading categories:",a),x.value={message:"Gagal memuat data kategori",type:"error"}}},A=()=>{const a=new Date,t=new Date(a.getFullYear(),a.getMonth(),1),s=new Date(a.getFullYear(),a.getMonth()+1,0);r.period_start=t.toISOString().split("T")[0],r.period_end=s.toISOString().split("T")[0]},O=async()=>{y.value=null,r.reset(),A(),k.value=!0,await N()},R=async a=>{y.value=a,r.category_id=a.category_id,r.period_start=a.period_start,r.period_end=a.period_end,r.target_amount=a.target_amount,k.value=!0,await N()},H=a=>{u.value=a,S.value=!0},te=()=>{y.value?r.put(route("budgets.update",y.value.id),{preserveScroll:!0,onSuccess:()=>{k.value=!1,T(),r.reset(),y.value=null},onError:a=>{console.error("Update error:",a)}}):r.post(route("budgets.store"),{preserveScroll:!0,onSuccess:()=>{k.value=!1,T(),r.reset(),A()},onError:a=>{console.error("Create error:",a)}})},se=()=>{u.value&&($.value=!0,_e.delete(route("budgets.destroy",u.value.id),{preserveScroll:!0,onSuccess:()=>{S.value=!1,T(),u.value=null,$.value=!1},onError:a=>{console.error("Delete error:",a),S.value=!1,$.value=!1}}))},ae=()=>{k.value=!1,y.value=null,r.clearErrors(),r.reset(),A()},ne=async a=>{try{await axios.post(route("budgets.next-month",a.id)),T(),x.value={message:"Budget untuk bulan depan berhasil dibuat!",type:"success"}}catch(t){console.error("Error creating next month budget:",t),x.value={message:"Gagal membuat budget bulan depan",type:"error"}}},re=async a=>{try{await axios.post(route("budgets.update-spent",a.id)),T(),x.value={message:"Data pengeluaran berhasil diupdate!",type:"success"}}catch(t){console.error("Error updating spent amount:",t)}},b=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),q=(a,t)=>{const s=new Date(a).toLocaleDateString("id-ID",{month:"short",year:"numeric"}),B=new Date(t).toLocaleDateString("id-ID",{month:"short",year:"numeric"});return`${s} - ${B}`},L=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),V=a=>({expense:"Pengeluaran",savings:"Tabungan",income:"Pemasukan"})[a]||a,G=a=>({expense:"üí∏",savings:"üè¶",income:"üí∞"})[a]||"üìä";f(()=>m.value.filter(a=>a.isActive)),f(()=>m.value.filter(a=>a.isExpired)),f(()=>m.value.filter(a=>a.isUpcoming));const E=f(()=>m.value.reduce((a,t)=>a+parseFloat(t.target_amount||0),0)),U=f(()=>m.value.reduce((a,t)=>a+parseFloat(t.spent_amount||0),0)),oe=f(()=>E.value-U.value),le=f(()=>E.value>0?U.value/E.value*100:0),de=f(()=>m.value.filter(a=>a.isOverBudget).length),ie=f(()=>m.value.filter(a=>(a.usage_percentage||0)>=80&&(a.usage_percentage||0)<100).length),ue=f(()=>m.value.filter(a=>(a.usage_percentage||0)<80).length),M=a=>{if(!a.period_end)return 0;const B=new Date(a.period_end)-new Date;return Math.ceil(B/(1e3*60*60*24))},ge=a=>{const t=d(a);return t>=100?"üí∏":t>=80?"‚ö†Ô∏è":t>=50?"üî∂":"‚úÖ"},d=a=>{const t=parseFloat(a.spent_amount||0),s=parseFloat(a.target_amount||0);return!s||s===0?0:t/s*100},h=a=>{const t=parseFloat(a.spent_amount||0);return parseFloat(a.target_amount||0)-t},w=a=>parseFloat(a.spent_amount||0),C=a=>parseFloat(a.target_amount||0),J=a=>w(a)>C(a),pe=a=>{if(!a.period_start||!a.period_end)return!1;const t=new Date().toISOString().split("T")[0];return t>=a.period_start&&t<=a.period_end},Y=a=>a.period_end?new Date().toISOString().split("T")[0]>a.period_end:!1,Q=a=>{const t=d(a);return t>=100?"Melebihi Budget":t>=80?"Perhatian":t>=50?"Moderat":"Aman"};return ye(()=>{T(),A()}),(a,t)=>(g(),fe(me,{title:"Kelola Budget"},{header:o(()=>[e("div",{class:"flex flex-col md:flex-row md:items-center justify-between gap-2 md:gap-0"},[e("h2",{class:"font-semibold text-xl md:text-2xl text-gray-800 leading-tight flex items-center gap-2"}," üéØ Kelola Budget Keuangan "+n(z)),t[8]||(t[8]=e("span",{class:"text-xs md:text-sm text-gray-500 italic text-center md:text-right"}," Rencanakan pengeluaran dan tabungan untuk keuangan yang lebih terkontrol üíû ",-1))])]),default:o(()=>[e("div",De,[e("div",Se,[x.value?(g(),p("div",{key:0,class:v(["mb-4 md:mb-6 p-3 md:p-4 rounded-xl md:rounded-2xl border backdrop-blur-sm transition-all duration-300",{"bg-green-50 border-green-200 text-green-800":x.value.type==="success","bg-red-50 border-red-200 text-red-800":x.value.type==="error"}])},[e("div",Te,[e("div",Me,[e("span",Ce,n(x.value.type==="success"?"‚úÖ":"‚ö†Ô∏è"),1),e("span",je,n(x.value.message),1)]),e("button",{onClick:t[0]||(t[0]=s=>x.value=null),class:"text-gray-500 hover:text-gray-700 transition-colors text-lg"}," ‚úï ")])],2)):D("",!0),t[55]||(t[55]=e("div",{class:"text-center mb-4"},[e("h1",{class:"text-xl md:text-2xl lg:text-3xl font-extrabold text-rose-600 drop-shadow-md mb-2 md:mb-3"}," Kelola Budget Keuangan "),e("p",{class:"text-gray-600 text-xs md:text-sm leading-relaxed px-2"},[l(" Rencanakan dan pantau "),e("span",{class:"text-orange-500 font-semibold"},"target pengeluaran"),l(" dan "),e("span",{class:"text-blue-500 font-semibold"},"tabungan"),l(" kita berdua. Budget yang baik adalah kunci keuangan yang sehat üí´ ")])],-1)),e("div",Ie,[e("div",Pe,[e("div",$e,[t[9]||(t[9]=e("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-lg md:rounded-xl flex items-center justify-center mx-auto mb-2 md:mb-3 shadow-md"},[e("span",{class:"text-lg md:text-xl text-white"},"üéØ")],-1)),e("h3",Ae,n(b(E.value)),1),t[10]||(t[10]=e("p",{class:"text-xs md:text-sm text-gray-600"},"Total Target",-1))])]),e("div",Ee,[e("div",Ve,[t[11]||(t[11]=e("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-orange-400 to-red-500 rounded-lg md:rounded-xl flex items-center justify-center mx-auto mb-2 md:mb-3 shadow-md"},[e("span",{class:"text-lg md:text-xl text-white"},"üí∞")],-1)),e("h3",Ue,n(b(U.value)),1),t[12]||(t[12]=e("p",{class:"text-xs md:text-sm text-gray-600"},"Total Terpakai",-1)),e("p",Fe,n(le.value.toFixed(1))+"%",1)])]),e("div",Ke,[e("div",ze,[t[13]||(t[13]=e("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-lg md:rounded-xl flex items-center justify-center mx-auto mb-2 md:mb-3 shadow-md"},[e("span",{class:"text-lg md:text-xl text-white"},"üìä")],-1)),e("h3",Ne,n(b(oe.value)),1),t[14]||(t[14]=e("p",{class:"text-xs md:text-sm text-gray-600"},"Sisa Budget",-1))])]),e("div",Oe,[e("div",Re,[t[15]||(t[15]=e("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-purple-400 to-pink-500 rounded-lg md:rounded-xl flex items-center justify-center mx-auto mb-2 md:mb-3 shadow-md"},[e("span",{class:"text-lg md:text-xl text-white"},"üìà")],-1)),e("h3",He,n(m.value.length),1),t[16]||(t[16]=e("p",{class:"text-xs md:text-sm text-gray-600"},"Total Budget",-1)),e("div",qe,[e("span",{class:"w-2 h-2 bg-green-500 rounded-full",title:`${ue.value} Aman`},null,8,Le),e("span",{class:"w-2 h-2 bg-yellow-500 rounded-full",title:`${ie.value} Perhatian`},null,8,Ge),e("span",{class:"w-2 h-2 bg-red-500 rounded-full",title:`${de.value} Melebihi`},null,8,Je)])])])]),c(he,{title:"Data Budget",description:"Kelola semua budget pengeluaran dan tabungan kita berdua",columns:ee,data:m.value,loading:P.value,"show-actions":!0,pagination:!0,"items-per-page":10,onCreate:O,onEdit:R,onDelete:H},{"column-category.name":o(({item:s})=>[e("div",Ye,[e("div",{class:v(["flex-shrink-0 w-8 h-8 md:w-10 md:h-10 rounded-lg md:rounded-xl flex items-center justify-center text-white text-base md:text-lg shadow-md",{"bg-gradient-to-r from-blue-500 to-cyan-500":s.category?.type==="joint","bg-gradient-to-r from-gray-500 to-gray-700":s.category?.type!=="joint"}])},n(G(s.category?.budget_type)),3),e("div",Qe,[e("p",We,n(s.category?.name),1),e("div",Xe,[e("span",{class:v(["text-xs px-1 md:px-2 py-0.5 md:py-1 rounded-full font-medium",{"bg-blue-100 text-blue-700":s.category?.type==="joint","bg-gray-100 text-gray-700":s.category?.type!=="joint"}])},n(s.category?.type==="joint"?"üë•":"üë§"),3),t[17]||(t[17]=e("span",{class:"text-xs text-gray-500 hidden md:inline"},"‚Ä¢",-1)),e("span",Ze,n(s.category?.user?.name||"Unknown"),1)])])])]),"column-category.budget_type":o(({item:s})=>[e("div",et,[e("div",{class:v(["w-6 h-6 md:w-8 md:h-8 rounded-md md:rounded-lg flex items-center justify-center text-base md:text-lg",{"bg-green-100 text-green-600":s.category?.budget_type==="savings","bg-orange-100 text-orange-600":s.category?.budget_type==="expense","bg-blue-100 text-blue-600":s.category?.budget_type==="income"}])},n(G(s.category?.budget_type)),3),e("span",tt,n(V(s.category?.budget_type)),1)])]),"column-period":o(({item:s})=>[e("div",st,[e("div",at,[t[18]||(t[18]=e("span",{class:"text-base md:text-lg"},"üìÖ",-1)),e("span",nt,n(q(s.period_start,s.period_end)),1)]),e("div",rt,[e("span",ot,n(L(s.period_start)),1),t[19]||(t[19]=e("span",{class:"text-xs"},"‚Üí",-1)),e("span",lt,n(L(s.period_end)),1)]),M(s)>=0?(g(),p("div",{key:0,class:v(["flex items-center gap-1 text-xs",{"text-green-600":M(s)>7,"text-orange-600":M(s)<=7&&M(s)>0,"text-red-600":M(s)<=0}])},[t[20]||(t[20]=e("span",null,"‚è≥",-1)),e("span",null,n(M(s))+" hari",1)],2)):(g(),p("div",dt,[...t[21]||(t[21]=[e("span",null,"‚åõ",-1),e("span",null,"Berakhir",-1)])]))])]),"column-target_amount":o(({item:s})=>[e("div",it,[e("div",ut,n(b(C(s))),1),t[22]||(t[22]=e("div",{class:"text-xs text-gray-500 mt-1 hidden md:block"},"Target",-1))])]),"column-spent_amount":o(({item:s})=>[e("div",gt,[e("div",{class:v(["font-bold text-xs md:text-sm flex items-center justify-end gap-1",{"text-red-600":w(s)>C(s),"text-orange-600":w(s)<=C(s)}])},[l(n(b(w(s)))+" ",1),w(s)>C(s)?(g(),p("span",pt,"‚ö†Ô∏è")):D("",!0)],2),t[23]||(t[23]=e("div",{class:"text-xs text-gray-500 mt-1 hidden md:block"},"Terpakai",-1))])]),"column-remaining_amount":o(({item:s})=>[e("div",mt,[e("div",{class:v(["font-bold text-xs md:text-sm flex items-center justify-end gap-1",{"text-red-600":h(s)<0,"text-green-600":h(s)>=0}])},[l(n(b(h(s)))+" ",1),h(s)<0?(g(),p("span",xt,"üí∏")):h(s)>0?(g(),p("span",ct,"üí™")):D("",!0)],2),t[24]||(t[24]=e("div",{class:"text-xs text-gray-500 mt-1 hidden md:block"},"Sisa",-1))])]),"column-usage_percentage":o(({item:s})=>[e("div",bt,[e("div",yt,[e("span",ft,n(d(s).toFixed(1))+"%",1),e("span",vt,n(Math.min(d(s),100).toFixed(1))+"%",1)]),e("div",_t,[e("div",{class:v(["h-2 md:h-2.5 rounded-full transition-all duration-500 shadow-md",{"bg-gradient-to-r from-red-500 to-red-600":d(s)>=100,"bg-gradient-to-r from-orange-400 to-orange-500":d(s)>=80&&d(s)<100,"bg-gradient-to-r from-yellow-400 to-yellow-500":d(s)>=50&&d(s)<80,"bg-gradient-to-r from-green-500 to-emerald-500":d(s)<50}]),style:ve({width:Math.min(d(s),100)+"%"})},null,6)]),e("div",ht,[t[25]||(t[25]=e("span",null,"Terkumpul",-1)),e("span",null,n(b(w(s))),1)])])]),"column-status":o(({item:s})=>[e("div",kt,[e("span",{class:v(["px-2 py-1 md:px-3 md:py-1.5 rounded-full text-xs font-semibold border shadow-sm flex items-center gap-1 md:gap-2 min-w-[80px] md:min-w-[120px] justify-center",{"bg-gradient-to-r from-red-100 to-red-50 text-red-800 border-red-200":J(s),"bg-gradient-to-r from-orange-100 to-orange-50 text-orange-800 border-orange-200":d(s)>=80&&d(s)<100,"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-800 border-yellow-200":d(s)>=50&&d(s)<80,"bg-gradient-to-r from-green-100 to-green-50 text-green-800 border-green-200":d(s)<50,"bg-gradient-to-r from-gray-100 to-gray-50 text-gray-800 border-gray-200":Y(s)}])},[e("span",wt,n(ge(s)),1),e("span",Bt,n(Q(s)),1)],2),J(s)?(g(),p("div",Dt,[t[26]||(t[26]=e("span",null,"üí∏",-1)),e("span",St,"Melebihi "+n(b(Math.abs(h(s)))),1)])):d(s)>=80?(g(),p("div",Tt,[...t[27]||(t[27]=[e("span",null,"‚ö†Ô∏è",-1),e("span",{class:"hidden md:inline"},"Hati-hati!",-1)])])):D("",!0),Y(s)?(g(),p("div",Mt,[...t[28]||(t[28]=[e("span",null,"‚åõ",-1),e("span",{class:"hidden md:inline"},"Berakhir",-1)])])):pe(s)?(g(),p("div",jt,[...t[30]||(t[30]=[e("span",null,"üü¢",-1),e("span",{class:"hidden md:inline"},"Aktif",-1)])])):(g(),p("div",Ct,[...t[29]||(t[29]=[e("span",null,"üìÖ",-1),e("span",{class:"hidden md:inline"},"Akan datang",-1)])]))])]),actions:o(({item:s})=>[e("div",It,[c(j,{onClick:B=>re(s),variant:"primary",size:"sm",class:"!px-2 md:!px-3 !py-1 md:!py-2 w-full justify-center text-xs",title:"Update data pengeluaran terkini",loading:s.updating},{icon:o(()=>[...t[31]||(t[31]=[l("üîÑ",-1)])]),default:o(()=>[t[32]||(t[32]=e("span",{class:"hidden xs:inline"},"Update",-1))]),_:1},8,["onClick","loading"]),e("div",Pt,[c(j,{onClick:B=>ne(s),variant:"secondary",size:"xs",class:"!px-1 md:!px-2 !py-1 flex-1 text-xs",title:"Buat budget untuk bulan depan"},{icon:o(()=>[...t[33]||(t[33]=[l("üìÖ",-1)])]),default:o(()=>[t[34]||(t[34]=e("span",{class:"hidden xs:inline"},"Next",-1))]),_:1},8,["onClick"]),c(j,{onClick:B=>R(s),variant:"secondary",size:"xs",class:"!px-1 md:!px-2 !py-1 flex-1 text-xs",title:"Edit budget"},{icon:o(()=>[...t[35]||(t[35]=[l("‚úèÔ∏è",-1)])]),default:o(()=>[t[36]||(t[36]=e("span",{class:"hidden xs:inline"},"Edit",-1))]),_:1},8,["onClick"]),c(j,{onClick:B=>H(s),variant:"danger",size:"xs",class:"!px-1 md:!px-2 !py-1 flex-1 text-xs",title:"Hapus budget"},{icon:o(()=>[...t[37]||(t[37]=[l("üóëÔ∏è",-1)])]),default:o(()=>[t[38]||(t[38]=e("span",{class:"hidden xs:inline"},"Hapus",-1))]),_:1},8,["onClick"])])])]),_:1},8,["data","loading"]),m.value.length===0&&!P.value?(g(),p("div",$t,[e("div",At,[t[41]||(t[41]=e("div",{class:"text-4xl md:text-6xl mb-4"},"üéØ",-1)),t[42]||(t[42]=e("h3",{class:"text-lg md:text-xl font-bold text-gray-800 mb-2"},"Belum ada budget",-1)),e("p",{class:"text-gray-600 mb-6 text-sm md:text-base max-w-md mx-auto"}," Mulai dengan membuat budget pertama untuk merencanakan pengeluaran dan tabungan "+n(z)),c(j,{onClick:O,class:"px-4 py-2 md:px-6 md:py-3 text-sm md:text-base"},{icon:o(()=>[...t[39]||(t[39]=[l("‚ûï",-1)])]),default:o(()=>[t[40]||(t[40]=l(" Buat Budget Pertama ",-1))]),_:1})])])):D("",!0),c(W,{show:k.value,"onUpdate:show":t[5]||(t[5]=s=>k.value=s),title:y.value?"Edit Budget":"Buat Budget Baru",description:y.value?"Perbarui informasi budget pengeluaran/tabungan kita":"Buat budget baru untuk merencanakan pengeluaran dan tabungan bersama",icon:y.value?"‚úèÔ∏è":"‚ûï","confirm-text":y.value?"Perbarui":"Simpan","confirm-loading":i(r).processing,onConfirm:te,onClose:ae,size:"lg"},{default:o(()=>[e("div",Et,[c(ke,{modelValue:i(r).category_id,"onUpdate:modelValue":t[1]||(t[1]=s=>i(r).category_id=s),label:"Kategori",placeholder:"Pilih kategori untuk budget",options:I.value.map(s=>({value:s.id,label:`${s.name} ${s.type==="joint"?"üë•":"üë§"} (${V(s.budget_type)})`})),error:i(r).errors.category_id,icon:"üìÅ",required:"",disabled:i(r).processing||I.value.length===0},null,8,["modelValue","options","error","disabled"]),c(X,{modelValue:i(r).period_start,"onUpdate:modelValue":t[2]||(t[2]=s=>i(r).period_start=s),label:"Periode Mulai",error:i(r).errors.period_start,icon:"üìÖ",required:"",disabled:i(r).processing},null,8,["modelValue","error","disabled"]),c(X,{modelValue:i(r).period_end,"onUpdate:modelValue":t[3]||(t[3]=s=>i(r).period_end=s),label:"Periode Berakhir",error:i(r).errors.period_end,icon:"üìÖ",required:"",disabled:i(r).processing},null,8,["modelValue","error","disabled"]),c(we,{modelValue:i(r).target_amount,"onUpdate:modelValue":t[4]||(t[4]=s=>i(r).target_amount=s),label:"Target Budget",placeholder:"Contoh: 5000000 (5 juta)",error:i(r).errors.target_amount,icon:"üéØ","account-type":"account_number",required:"",disabled:i(r).processing},null,8,["modelValue","error","disabled"]),t[44]||(t[44]=e("div",{class:"p-3 md:p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl md:rounded-2xl border border-blue-200"},[e("p",{class:"text-xs md:text-sm text-blue-700 flex items-start gap-2"},[e("span",{class:"text-base md:text-lg mt-0.5"},"üí°"),e("span",null,[e("strong",{class:"block"},"Tips Budgeting:"),l(" ‚Ä¢ Budget bisa dibuat untuk "),e("strong",null,"Pengeluaran"),l(" (makan, transport, dll) dan "),e("strong",null,"Tabungan"),l(" (rumah, liburan, dll)"),e("br"),l(" ‚Ä¢ Buat budget realistis berdasarkan kebutuhan sebelumnya"),e("br"),l(" ‚Ä¢ Monitor progress secara berkala"),e("br"),l(" ‚Ä¢ Sesuaikan budget jika diperlukan ")])])],-1)),i(r).hasErrors?(g(),p("div",Vt,[...t[43]||(t[43]=[e("p",{class:"text-xs md:text-sm text-red-600 flex items-center gap-2"},[e("span",null,"‚ö†Ô∏è"),l(" Terdapat kesalahan dalam pengisian form. Silakan periksa kembali input Anda. ")],-1)])])):D("",!0)])]),_:1},8,["show","title","description","icon","confirm-text","confirm-loading"]),c(W,{show:S.value,"onUpdate:show":t[6]||(t[6]=s=>S.value=s),title:"Hapus Budget",description:u.value?`Apakah Anda yakin ingin menghapus budget untuk ${u.value.category?.name}?`:"Apakah Anda yakin ingin menghapus budget ini?",icon:"üóëÔ∏è","confirm-text":"Hapus","cancel-text":"Batal","confirm-variant":"danger","confirm-loading":$.value,onConfirm:se,onClose:t[7]||(t[7]=s=>S.value=!1)},{default:o(()=>[e("div",Ut,[t[54]||(t[54]=e("div",{class:"p-3 md:p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl md:rounded-2xl"},[e("p",{class:"text-xs md:text-sm text-red-600 flex items-start gap-2"},[e("span",{class:"text-base md:text-lg mt-0.5"},"‚ö†Ô∏è"),e("span",null,[e("strong",{class:"block"},"Tindakan ini tidak dapat dibatalkan!"),l(" Data progress pengeluaran untuk budget ini akan hilang. ")])])],-1)),u.value?(g(),p("div",Ft,[t[53]||(t[53]=e("h4",{class:"font-semibold text-gray-800 text-sm md:text-base mb-2"},"Detail Budget:",-1)),e("div",Kt,[e("div",null,[t[45]||(t[45]=e("span",{class:"text-gray-600"},"Kategori:",-1)),e("p",zt,n(u.value.category?.name),1)]),e("div",null,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"Jenis:",-1)),e("p",Nt,n(V(u.value.category?.budget_type)),1)]),e("div",null,[t[47]||(t[47]=e("span",{class:"text-gray-600"},"Periode:",-1)),e("p",Ot,n(q(u.value.period_start,u.value.period_end)),1)]),e("div",null,[t[48]||(t[48]=e("span",{class:"text-gray-600"},"Target:",-1)),e("p",Rt,n(b(C(u.value))),1)]),e("div",null,[t[49]||(t[49]=e("span",{class:"text-gray-600"},"Terpakai:",-1)),e("p",Ht,n(b(w(u.value))),1)]),e("div",null,[t[50]||(t[50]=e("span",{class:"text-gray-600"},"Sisa:",-1)),e("p",{class:v(["font-bold",h(u.value)<0?"text-red-600":"text-green-600"])},n(b(h(u.value))),3)]),e("div",null,[t[51]||(t[51]=e("span",{class:"text-gray-600"},"Progress:",-1)),e("p",qt,n(d(u.value).toFixed(1))+"%",1)]),e("div",null,[t[52]||(t[52]=e("span",{class:"text-gray-600"},"Status:",-1)),e("p",Lt,n(Q(u.value)),1)])])])):D("",!0)])]),_:1},8,["show","description","confirm-loading"])])])]),_:1}))}},rs=Be(Gt,[["__scopeId","data-v-6e5b21f7"]]);export{rs as default};
