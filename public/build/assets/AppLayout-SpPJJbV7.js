import{r as $,o as M,p as h,I as _,c as m,g as b,l as i,e as I,d as e,b as k,x as o,A as B,s,z as f,F as N,y as P,w as x,f as w,E as v,n as S}from"./vendor-_1bMFsGO.js";import{_ as T,P as V}from"./app-CRGJ1xHn.js";const D={class:"flex items-center gap-2"},E={class:"hidden md:flex items-center space-x-2"},F={class:"relative hidden md:flex items-center"},H=["src"],R={key:0,class:"absolute right-0 mt-3 bg-white shadow-xl rounded-lg py-2 w-48 border border-pink-100 animate-fadeIn"},U={class:"md:hidden flex justify-end w-full"},J={key:0,class:"fixed top-12 md:top-16 left-1/2 transform -translate-x-1/2 z-40 mt-2 md:mt-4 mx-2 md:mx-4 max-w-[90vw] md:max-w-md w-full transition-all duration-300 animate-fadeIn"},K={class:"flex items-center justify-between"},O={class:"flex items-center gap-2 md:gap-3"},Z={class:"text-base md:text-xl"},q={class:"font-medium"},Q={class:"md:hidden fixed bottom-0 left-0 right-0 z-50"},X={class:"relative"},Y={class:"absolute bottom-0 left-0 w-full h-20 drop-shadow-md",viewBox:"0 0 1440 120",xmlns:"http://www.w3.org/2000/svg"},tt=["src"],et={class:"flex-grow pt-12 md:pt-16 pb-20 md:pb-6 transition-all duration-300 relative z-10"},at={__name:"AppLayout",props:{title:String},setup(A){const G=$(!1);M(()=>{const t=()=>{G.value=window.innerWidth<768};t(),window.addEventListener("resize",t)}),M(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js")});const d=h(()=>_().props.flash?.message||null),C=()=>{_().props.flash.message=null},{url:p,props:L}=_(),u=L.auth?.user||{name:"Guest",profile_photo_url:"/images/default-avatar.png",theme:null},n={background:"bg-gradient-to-br from-pink-300 via-white to-sky-300",navbar:"bg-white/60",text:"text-gray-700",logoGradient:"bg-gradient-to-r from-pink-500 to-sky-500",nameGradient:"text-gray-700",menuActive:"bg-gradient-to-r from-pink-400 to-sky-400",buttonGradient:"bg-gradient-to-r from-pink-400 to-sky-400 text-white",mobileMenu:{background:"bg-white/80",text:"text-gray-500",textActive:"text-pink-500",border:"border-pink-200"}},l=h(()=>{try{return u.theme?JSON.parse(u.theme):null}catch{return null}}),r=h(()=>{if(!l.value)return n;const t=l.value;return{background:t.background?`bg-gradient-to-br from-${t.background.from}-${t.background.shade_from} via-white to-${t.background.to}-${t.background.shade_to}`:n.background,navbar:t.navbar?`bg-gradient-to-r from-${t.navbar.from}-${t.navbar.shade_from} to-${t.navbar.to}-${t.navbar.shade_to}`:n.navbar,logoGradient:t.navbar?`bg-gradient-to-r from-${t.navbar.logo_color_from}-${t.navbar.logo_color_shade_from} to-${t.navbar.logo_color_to}-${t.navbar.logo_color_shade_to}`:n.logoGradient,nameGradient:t.navbar?`bg-gradient-to-r from-${t.navbar.name_color_from}-${t.navbar.name_color_shade_from} to-${t.navbar.name_color_to}-${t.navbar.name_color_shade_to}`:n.nameGradient,menuActive:t.menu?`bg-gradient-to-r from-${t.menu.from}-${t.menu.shade_from} to-${t.menu.to}-${t.menu.shade_to}`:n.menuActive,buttonGradient:t.button?`bg-gradient-to-r from-${t.button.from}-${t.button.shade_from} to-${t.button.to}-${t.button.shade_to} ${t.button.text_color}`:n.buttonGradient,text:t.menu?.text_color||n.text,mobileMenu:{background:t.menu?`bg-gradient-to-r from-${t.menu.from}-${t.menu.shade_from} to-${t.menu.to}-${t.menu.shade_to}`:n.mobileMenu.background,text:t.menu?.text_color||n.mobileMenu.text,textActive:"text-white font-bold",border:"border-white/20"}}}),W=t=>{const a=p.startsWith(t);return l.value?[l.value.menu?.text_color||n.text,a?"text-pink-600 font-bold":"hover:text-pink-600"]:[n.text,a?"text-pink-600 font-bold":"hover:text-pink-600"]},y=t=>{const a=p.startsWith(t);return!l.value||!l.value.menu?[a?"text-pink-500 font-bold":"text-gray-500 hover:text-pink-400"]:[a?r.value.mobileMenu.textActive:r.value.mobileMenu.text]},g=$(!1),j=()=>{g.value=!g.value},z=[{name:"Home",href:"/dashboard",icon:"🏠"},{name:"Kategory",href:"/master-data/categories",icon:"📝"},{name:"Bank",href:"/master-data/accounts",icon:"📝"},{name:"Transaksi",href:"/transactions",icon:"📝"},{name:"Rencana",href:"/projects",icon:"📝"},{name:"Budget",href:"/budgets",icon:"📝"}];return(t,a)=>(b(),m("div",{class:s([r.value.background,"min-h-screen flex flex-col transition-all duration-500 relative overflow-hidden"])},[i(o(B),{title:A.title},null,8,["title"]),a[6]||(a[6]=I('<div class="absolute inset-0 overflow-hidden pointer-events-none" data-v-edfd3ba9><div class="animate-bounce-slow absolute text-rose-300 text-4xl top-10 left-5 opacity-20" data-v-edfd3ba9>💗</div><div class="animate-bounce-slow2 absolute text-pink-300 text-5xl bottom-20 right-5 opacity-25" data-v-edfd3ba9>💖</div><div class="animate-bounce-slow3 absolute text-rose-200 text-3xl top-1/4 right-10 opacity-15" data-v-edfd3ba9>💕</div><div class="animate-bounce-slow4 absolute text-pink-200 text-6xl bottom-1/3 left-10 opacity-20" data-v-edfd3ba9>💘</div><div class="animate-bounce-slow5 absolute text-rose-100 text-2xl top-3/4 left-1/4 opacity-10" data-v-edfd3ba9>💝</div><div class="animate-bounce-slow6 absolute text-pink-100 text-4xl top-1/2 right-1/4 opacity-15" data-v-edfd3ba9>💓</div><div class="animate-bounce-slow absolute text-rose-300 text-7xl top-10 left-10 opacity-25" data-v-edfd3ba9>💗</div><div class="animate-bounce-slow2 absolute text-pink-300 text-8xl bottom-20 right-10 opacity-25" data-v-edfd3ba9>💖</div></div>',1)),e("nav",{class:s(["fixed top-0 left-0 right-0 backdrop-blur-md shadow-md z-50 flex items-center justify-between px-3 sm:px-4 h-12 md:h-16 transition-all",r.value.navbar])},[e("div",D,[a[1]||(a[1]=e("span",{class:"text-lg md:text-2xl"},"💞",-1)),e("h1",{class:s(["text-base md:text-2xl font-bold text-transparent bg-clip-text select-none tracking-wide",r.value.logoGradient])},f(o(u).family?.name??"ALMIR"),3)]),e("div",E,[(b(),m(N,null,P(z,c=>i(o(v),{key:c.name,href:c.href,class:s(["relative font-semibold transition-all px-3 py-2 rounded-lg text-sm",W(c.href)])},{default:x(()=>[w(f(c.name)+" ",1),o(p).startsWith(c.href)?(b(),m("span",{key:0,class:s(["absolute left-0 bottom-[-6px] w-full h-[3px] rounded-full",r.value.menuActive])},null,2)):k("",!0)]),_:2},1032,["href","class"])),64))]),e("div",F,[e("button",{onClick:j,class:"flex items-center space-x-2 focus:outline-none hover:opacity-80 transition"},[e("img",{src:o(u).profile_photo_url,alt:"User",class:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-pink-400 object-cover"},null,8,H),e("span",{class:s(["font-semibold text-sm md:text-base",l.value&&l.value.navbar?"text-transparent bg-clip-text "+r.value.nameGradient:r.value.nameGradient])},f(o(u).name),3)]),g.value?(b(),m("div",R,[i(o(v),{href:"/user/profile",class:"block px-4 py-2 text-gray-700 hover:bg-pink-50 transition flex items-center gap-2 text-sm",onClick:a[0]||(a[0]=c=>g.value=!1)},{default:x(()=>[...a[2]||(a[2]=[e("span",{class:"text-lg"},"👤",-1),w(" Profile ",-1)])]),_:1}),i(o(v),{href:"/logout",method:"post",as:"button",class:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-pink-50 transition flex items-center gap-2 text-sm"},{default:x(()=>[...a[3]||(a[3]=[e("span",{class:"text-lg"},"🚪",-1),w(" Logout ",-1)])]),_:1})])):k("",!0)]),e("div",U,[e("span",{class:s(["font-bold text-xs truncate max-w-[80px] text-right",l.value&&l.value.navbar?"text-transparent bg-clip-text "+r.value.nameGradient:"text-pink-600"])},f(o(u).name),3)])],2),d.value?(b(),m("div",J,[e("div",{class:s(["p-2 md:p-4 rounded-xl md:rounded-2xl border backdrop-blur-sm shadow-lg text-xs md:text-base",{"bg-green-50 border-green-200 text-green-800":d.value.type==="success","bg-red-50 border-red-200 text-red-800":d.value.type==="error","bg-blue-50 border-blue-200 text-blue-800":!d.value.type}])},[e("div",K,[e("div",O,[e("span",Z,f(d.value.type==="success"?"✅":d.value.type==="error"?"⚠️":"ℹ️"),1),e("span",q,f(d.value.message),1)]),e("button",{onClick:C,class:"text-gray-500 hover:text-gray-700 transition-colors flex-shrink-0 ml-2 text-base"}," ✕ ")])],2)])):k("",!0),e("nav",Q,[e("div",X,[(b(),m("svg",Y,[e("path",{class:s(r.value.mobileMenu.background),d:"M0,80 L480,80 C560,80 640,40 720,40 C800,40 880,80 960,80 L1440,80 L1440,120 L0,120 Z"},null,2)])),e("div",{class:s(["absolute bottom-0 left-0 right-0 backdrop-blur-md border-t shadow-lg flex justify-around items-end py-2 rounded-t-2xl",[r.value.mobileMenu.background,r.value.mobileMenu.border]])},[i(o(v),{href:"/dashboard",class:s(["flex flex-col items-center text-[10px] font-medium transition-all pb-1",y("/dashboard")])},{default:x(()=>[e("div",{class:s(["text-xl transition-transform",o(p).startsWith("/dashboard")?"scale-110":""])}," 🏠 ",2),a[4]||(a[4]=e("span",{class:"mt-1"},"Home",-1))]),_:1},8,["class"]),i(o(v),{href:"/user/profile",class:"relative -mt-10 bg-white rounded-full p-1 border-4 border-white shadow-md hover:scale-110 transition-transform"},{default:x(()=>[e("img",{src:o(u).profile_photo_url,alt:"User",class:"w-16 h-16 rounded-full object-cover"},null,8,tt)]),_:1}),i(o(v),{href:"/transactions",class:s(["flex flex-col items-center text-[10px] font-medium transition-all pb-1",y("/transactions")])},{default:x(()=>[e("div",{class:s(["text-xl transition-transform",o(p).startsWith("/transactions")?"scale-110":""])}," 📝 ",2),a[5]||(a[5]=e("span",{class:"mt-1"},"Transaksi",-1))]),_:1},8,["class"])],2)])]),e("main",et,[S(t.$slots,"default",{},void 0,!0)]),i(V)],2))}},nt=T(at,[["__scopeId","data-v-edfd3ba9"]]);export{nt as A};
