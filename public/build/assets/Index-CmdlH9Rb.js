import{A as xe}from"./AppLayout-BgOVO345.js";import{C as me,j as _,G as ye,i as be,f,s as fe,c as ve,w as o,a as e,d as c,h as S,b as g,o as p,n as v,t as n,l,E as _e,k as i,y as ke}from"./app-BIFzK2ru.js";import{_ as V,a as we}from"./BaseCard-Or1BuTQ0.js";import{_ as j,B as X,S as he}from"./SelectInput-T2IrN6JD.js";import{_ as Be}from"./AccountInput-DcIA036O.js";import{_ as Z}from"./DateInput-C-WTgSBF.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Se={class:"py-2 min-h-screen relative overflow-hidden"},Te={class:"w-full px-4 sm:px-6 lg:px-8 relative z-10"},Me={class:"flex items-center justify-between"},Ce={class:"flex items-center gap-3"},je={class:"text-xl"},$e={class:"font-medium"},Pe={class:"grid grid-cols-2 lg:grid-cols-4 gap-2 mb-4"},Ie={class:"p-4"},Ee={class:"text-xl font-bold text-gray-800 mb-1"},Ae={class:"p-4"},Ve={class:"text-xl font-bold text-gray-800 mb-1"},Ue={class:"text-xs text-gray-500 mt-1"},Fe={class:"p-4"},Ke={class:"text-xl font-bold text-gray-800 mb-1"},Ne={class:"p-4"},ze={class:"text-xl font-bold text-gray-800 mb-1"},Re={class:"flex justify-center gap-1 mt-1"},Oe=["title"],He=["title"],qe=["title"],Ge={class:"flex items-center gap-3 min-w-[200px]"},Le={class:"flex-1 min-w-0"},Je={class:"font-semibold text-gray-900 text-sm truncate"},Ye={class:"flex items-center gap-2 mt-1"},Qe={class:"text-xs text-gray-500"},We={class:"flex items-center gap-3"},Xe={class:"font-medium text-gray-700 text-sm"},Ze={class:"space-y-1"},et={class:"flex items-center gap-2"},tt={class:"font-semibold text-gray-900 text-sm"},at={class:"flex items-center gap-2 text-xs text-gray-500"},st={key:1,class:"flex items-center gap-1 text-xs text-red-600"},nt={class:"text-right"},rt={class:"font-bold text-gray-900 text-sm"},ot={class:"text-right"},lt={key:0,class:"text-xs"},dt={class:"text-right"},it={key:0,class:"text-xs"},ut={key:1,class:"text-xs"},gt={class:"space-y-2 min-w-[120px]"},pt={class:"flex justify-between items-center text-xs"},ct={class:"font-semibold text-gray-700"},xt={class:"text-gray-500"},mt={class:"w-full bg-gray-200 rounded-full h-2.5 shadow-inner"},yt={class:"flex justify-between items-center text-xs text-gray-600"},bt={class:"flex flex-col items-center gap-2"},ft={class:"text-lg"},vt={key:0,class:"text-xs text-red-600 font-medium flex items-center gap-1"},_t={key:1,class:"text-xs text-orange-600 font-medium flex items-center gap-1"},kt={key:2,class:"text-xs text-green-600 font-medium flex items-center gap-1"},wt={key:3,class:"text-xs text-gray-500 flex items-center gap-1"},ht={key:4,class:"text-xs text-blue-500 flex items-center gap-1"},Bt={key:5,class:"text-xs text-green-500 flex items-center gap-1"},Dt={class:"flex flex-col gap-2 min-w-[140px]"},St={class:"flex gap-1"},Tt={key:1,class:"text-center mt-6"},Mt={class:"bg-white/80 backdrop-blur-md rounded-3xl shadow-lg p-8 border border-gray-100"},Ct={class:"space-y-4 max-h-[60vh] overflow-y-auto pr-2"},jt={key:0,class:"p-2 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl"},$t={class:"space-y-4"},Pt={key:0,class:"p-4 bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-2xl"},It={class:"grid grid-cols-2 gap-4 text-sm"},Et={class:"font-medium text-gray-800"},At={class:"font-medium text-gray-800"},Vt={class:"font-medium text-gray-800"},Ut={class:"font-bold text-gray-800"},Ft={class:"font-bold text-orange-600"},Kt={class:"font-medium text-gray-800"},Nt={class:"font-medium text-gray-800"},zt={__name:"Index",setup(Rt){const K=me(),N=K.props.auth.user,ee=N?.partner?.name??"Pasangan",z=`${N?.name??""} 💕 ${ee}`,x=_([]),$=_([]),P=_(!1),I=_(!1),w=_(!1),T=_(!1),b=_(null),u=_(null),m=_(null);ye(()=>K.props.flash,s=>{(s.success||s.error)&&(m.value={message:s.success||s.error,type:s.type||(s.success?"success":"error")},setTimeout(()=>{m.value=null},5e3))},{immediate:!0});const r=be({category_id:"",period_start:"",period_end:"",target_amount:0}),te=[{key:"category.name",label:"Kategori",icon:"📁",sortable:!0},{key:"category.budget_type",label:"Jenis",icon:"💰",sortable:!0,type:"badge"},{key:"period",label:"Periode",icon:"📅",sortable:!0},{key:"target_amount",label:"Target",icon:"🎯",sortable:!0,type:"currency"},{key:"spent_amount",label:"Terpakai",icon:"💰",sortable:!0,type:"currency"},{key:"remaining_amount",label:"Sisa",icon:"📊",sortable:!0,type:"currency"},{key:"usage_percentage",label:"Progress",icon:"📈",sortable:!0,type:"progress"},{key:"status",label:"Status",icon:"🟢",sortable:!0,type:"badge"}],M=async()=>{P.value=!0;try{const s=await axios.get(route("budgets.index"));x.value=s.data.budgets||s.data,console.log("Budgets loaded:",x.value)}catch(s){console.error("Error loading budgets:",s),m.value={message:"Gagal memuat data budget",type:"error"}}finally{P.value=!1}},R=async()=>{try{const s=await axios.get(route("budgets.api.categories"));$.value=s.data,console.log("Categories loaded:",$.value)}catch(s){console.error("Error loading categories:",s),m.value={message:"Gagal memuat data kategori",type:"error"}}},E=()=>{const s=new Date,t=new Date(s.getFullYear(),s.getMonth(),1),a=new Date(s.getFullYear(),s.getMonth()+1,0);r.period_start=t.toISOString().split("T")[0],r.period_end=a.toISOString().split("T")[0]},O=async()=>{b.value=null,r.reset(),E(),w.value=!0,await R()},H=async s=>{b.value=s,r.category_id=s.category_id,r.period_start=s.period_start,r.period_end=s.period_end,r.target_amount=s.target_amount,w.value=!0,await R()},q=s=>{u.value=s,T.value=!0},ae=()=>{b.value?r.put(route("budgets.update",b.value.id),{preserveScroll:!0,onSuccess:()=>{w.value=!1,M(),r.reset(),b.value=null},onError:s=>{console.error("Update error:",s)}}):r.post(route("budgets.store"),{preserveScroll:!0,onSuccess:()=>{w.value=!1,M(),r.reset(),E()},onError:s=>{console.error("Create error:",s)}})},se=()=>{u.value&&(I.value=!0,ke.delete(route("budgets.destroy",u.value.id),{preserveScroll:!0,onSuccess:()=>{T.value=!1,M(),u.value=null,I.value=!1},onError:s=>{console.error("Delete error:",s),T.value=!1,I.value=!1}}))},ne=()=>{w.value=!1,b.value=null,r.clearErrors(),r.reset(),E()},re=async s=>{try{await axios.post(route("budgets.next-month",s.id)),M(),m.value={message:"Budget untuk bulan depan berhasil dibuat!",type:"success"}}catch(t){console.error("Error creating next month budget:",t),m.value={message:"Gagal membuat budget bulan depan",type:"error"}}},oe=async s=>{try{await axios.post(route("budgets.update-spent",s.id)),M(),m.value={message:"Data pengeluaran berhasil diupdate!",type:"success"}}catch(t){console.error("Error updating spent amount:",t)}},y=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),G=(s,t)=>{const a=new Date(s).toLocaleDateString("id-ID",{month:"short",year:"numeric"}),D=new Date(t).toLocaleDateString("id-ID",{month:"short",year:"numeric"});return`${a} - ${D}`},L=s=>new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),U=s=>({expense:"Pengeluaran",savings:"Tabungan",income:"Pemasukan"})[s]||s,J=s=>({expense:"💸",savings:"🏦",income:"💰"})[s]||"📊";f(()=>x.value.filter(s=>s.isActive)),f(()=>x.value.filter(s=>s.isExpired)),f(()=>x.value.filter(s=>s.isUpcoming));const A=f(()=>x.value.reduce((s,t)=>s+parseFloat(t.target_amount||0),0)),F=f(()=>x.value.reduce((s,t)=>s+parseFloat(t.spent_amount||0),0)),le=f(()=>A.value-F.value),de=f(()=>A.value>0?F.value/A.value*100:0),ie=f(()=>x.value.filter(s=>s.isOverBudget).length),ue=f(()=>x.value.filter(s=>(s.usage_percentage||0)>=80&&(s.usage_percentage||0)<100).length),ge=f(()=>x.value.filter(s=>(s.usage_percentage||0)<80).length),h=s=>{if(!s.period_end)return 0;const D=new Date(s.period_end)-new Date;return Math.ceil(D/(1e3*60*60*24))},pe=s=>{const t=d(s);return t>=100?"💸":t>=80?"⚠️":t>=50?"🔶":"✅"},d=s=>{const t=parseFloat(s.spent_amount||0),a=parseFloat(s.target_amount||0);return!a||a===0?0:t/a*100},k=s=>{const t=parseFloat(s.spent_amount||0);return parseFloat(s.target_amount||0)-t},B=s=>parseFloat(s.spent_amount||0),C=s=>parseFloat(s.target_amount||0),Y=s=>B(s)>C(s),ce=s=>{if(!s.period_start||!s.period_end)return!1;const t=new Date().toISOString().split("T")[0];return t>=s.period_start&&t<=s.period_end},Q=s=>s.period_end?new Date().toISOString().split("T")[0]>s.period_end:!1,W=s=>{const t=d(s);return t>=100?"Melebihi Budget":t>=80?"Perhatian":t>=50?"Moderat":"Aman"};return fe(()=>{M(),E()}),(s,t)=>(p(),ve(xe,{title:"Kelola Budget"},{header:o(()=>[e("div",{class:"flex items-center justify-between"},[e("h2",{class:"font-semibold text-2xl text-gray-800 leading-tight flex items-center gap-2"}," 🎯 Kelola Budget Keuangan "+n(z)),t[8]||(t[8]=e("span",{class:"text-sm text-gray-500 italic"},"Rencanakan pengeluaran dan tabungan untuk keuangan yang lebih terkontrol 💞",-1))])]),default:o(()=>[e("div",Se,[e("div",Te,[m.value?(p(),c("div",{key:0,class:v(["mb-6 p-4 rounded-2xl border backdrop-blur-sm transition-all duration-300",{"bg-green-50 border-green-200 text-green-800":m.value.type==="success","bg-red-50 border-red-200 text-red-800":m.value.type==="error"}])},[e("div",Me,[e("div",Ce,[e("span",je,n(m.value.type==="success"?"✅":"⚠️"),1),e("span",$e,n(m.value.message),1)]),e("button",{onClick:t[0]||(t[0]=a=>m.value=null),class:"text-gray-500 hover:text-gray-700 transition-colors"}," ✕ ")])],2)):S("",!0),t[56]||(t[56]=e("div",{class:"text-center mb-4"},[e("h1",{class:"text-3xl md:text-4xl font-extrabold text-rose-600 drop-shadow-md mb-3"}," Kelola Budget Keuangan "),e("p",{class:"text-gray-600 text-lg max-w-2xl mx-auto"},[l(" Rencanakan dan pantau "),e("span",{class:"text-orange-500 font-semibold"},"target pengeluaran"),l(" dan "),e("span",{class:"text-blue-500 font-semibold"},"tabungan"),l(" kita berdua. Budget yang baik adalah kunci keuangan yang sehat 💫 ")])],-1)),e("div",Pe,[g(V,{class:"text-center hover:scale-[1.02] transition transform border border-blue-100"},{default:o(()=>[e("div",Ie,[t[9]||(t[9]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"🎯")],-1)),e("h3",Ee,n(y(A.value)),1),t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"},"Total Target",-1))])]),_:1}),g(V,{class:"text-center hover:scale-[1.02] transition transform border border-orange-100"},{default:o(()=>[e("div",Ae,[t[11]||(t[11]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"💰")],-1)),e("h3",Ve,n(y(F.value)),1),t[12]||(t[12]=e("p",{class:"text-sm text-gray-600"},"Total Terpakai",-1)),e("p",Ue,n(de.value.toFixed(1))+"%",1)])]),_:1}),g(V,{class:"text-center hover:scale-[1.02] transition transform border border-green-100"},{default:o(()=>[e("div",Fe,[t[13]||(t[13]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"📊")],-1)),e("h3",Ke,n(y(le.value)),1),t[14]||(t[14]=e("p",{class:"text-sm text-gray-600"},"Sisa Budget",-1))])]),_:1}),g(V,{class:"text-center hover:scale-[1.02] transition transform border border-purple-100"},{default:o(()=>[e("div",Ne,[t[15]||(t[15]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"📈")],-1)),e("h3",ze,n(x.value.length),1),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600"},"Total Budget",-1)),e("div",Re,[e("span",{class:"w-2 h-2 bg-green-500 rounded-full",title:`${ge.value} Aman`},null,8,Oe),e("span",{class:"w-2 h-2 bg-yellow-500 rounded-full",title:`${ue.value} Perhatian`},null,8,He),e("span",{class:"w-2 h-2 bg-red-500 rounded-full",title:`${ie.value} Melebihi`},null,8,qe)])])]),_:1})]),g(we,{title:"Data Budget",description:"Kelola semua budget pengeluaran dan tabungan kita berdua",columns:te,data:x.value,loading:P.value,"show-actions":!0,pagination:!0,"items-per-page":10,onCreate:O,onEdit:H,onDelete:q},{"column-category.name":o(({item:a})=>[e("div",Ge,[e("div",{class:v(["flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg shadow-md",{"bg-gradient-to-r from-blue-500 to-cyan-500":a.category?.type==="joint","bg-gradient-to-r from-gray-500 to-gray-700":a.category?.type!=="joint"}])},n(J(a.category?.budget_type)),3),e("div",Le,[e("p",Je,n(a.category?.name),1),e("div",Ye,[e("span",{class:v(["text-xs px-2 py-1 rounded-full font-medium",{"bg-blue-100 text-blue-700":a.category?.type==="joint","bg-gray-100 text-gray-700":a.category?.type!=="joint"}])},n(a.category?.type==="joint"?"👥 Bersama":"👤 Pribadi"),3),t[17]||(t[17]=e("span",{class:"text-xs text-gray-500"},"•",-1)),e("span",Qe,n(a.category?.user?.name||"Unknown"),1)])])])]),"column-category.budget_type":o(({item:a})=>[e("div",We,[e("div",{class:v(["w-8 h-8 rounded-lg flex items-center justify-center text-lg",{"bg-green-100 text-green-600":a.category?.budget_type==="savings","bg-orange-100 text-orange-600":a.category?.budget_type==="expense","bg-blue-100 text-blue-600":a.category?.budget_type==="income"}])},n(J(a.category?.budget_type)),3),e("span",Xe,n(U(a.category?.budget_type)),1)])]),"column-period":o(({item:a})=>[e("div",Ze,[e("div",et,[t[18]||(t[18]=e("span",{class:"text-lg"},"📅",-1)),e("span",tt,n(G(a.period_start,a.period_end)),1)]),e("div",at,[e("span",null,n(L(a.period_start)),1),t[19]||(t[19]=e("span",null,"→",-1)),e("span",null,n(L(a.period_end)),1)]),h(a)>=0?(p(),c("div",{key:0,class:v(["flex items-center gap-1 text-xs",{"text-green-600":h(a)>7,"text-orange-600":h(a)<=7&&h(a)>0,"text-red-600":h(a)<=0}])},[t[20]||(t[20]=e("span",null,"⏳",-1)),e("span",null,n(h(a))+" hari lagi",1)],2)):(p(),c("div",st,[t[21]||(t[21]=e("span",null,"⌛",-1)),e("span",null,"Berakhir "+n(Math.abs(h(a)))+" hari lalu",1)]))])]),"column-target_amount":o(({item:a})=>[e("div",nt,[e("div",rt,n(y(C(a))),1),t[22]||(t[22]=e("div",{class:"text-xs text-gray-500 mt-1"},"Target",-1))])]),"column-spent_amount":o(({item:a})=>[e("div",ot,[e("div",{class:v(["font-bold text-sm flex items-center justify-end gap-1",{"text-red-600":B(a)>C(a),"text-orange-600":B(a)<=C(a)}])},[l(n(y(B(a)))+" ",1),B(a)>C(a)?(p(),c("span",lt,"⚠️")):S("",!0)],2),t[23]||(t[23]=e("div",{class:"text-xs text-gray-500 mt-1"},"Terpakai",-1))])]),"column-remaining_amount":o(({item:a})=>[e("div",dt,[e("div",{class:v(["font-bold text-sm flex items-center justify-end gap-1",{"text-red-600":k(a)<0,"text-green-600":k(a)>=0}])},[l(n(y(k(a)))+" ",1),k(a)<0?(p(),c("span",it,"💸")):k(a)>0?(p(),c("span",ut,"💪")):S("",!0)],2),t[24]||(t[24]=e("div",{class:"text-xs text-gray-500 mt-1"},"Sisa",-1))])]),"column-usage_percentage":o(({item:a})=>[e("div",gt,[e("div",pt,[e("span",ct,n(d(a).toFixed(1))+"%",1),e("span",xt,n(Math.min(d(a),100).toFixed(1))+"%",1)]),e("div",mt,[e("div",{class:v(["h-2.5 rounded-full transition-all duration-500 shadow-md",{"bg-gradient-to-r from-red-500 to-red-600":d(a)>=100,"bg-gradient-to-r from-orange-400 to-orange-500":d(a)>=80&&d(a)<100,"bg-gradient-to-r from-yellow-400 to-yellow-500":d(a)>=50&&d(a)<80,"bg-gradient-to-r from-green-500 to-emerald-500":d(a)<50}]),style:_e({width:Math.min(d(a),100)+"%"})},null,6)]),e("div",yt,[t[25]||(t[25]=e("span",null,"Terkumpul",-1)),e("span",null,n(y(B(a))),1)])])]),"column-status":o(({item:a})=>[e("div",bt,[e("span",{class:v(["px-3 py-1.5 rounded-full text-xs font-semibold border shadow-sm flex items-center gap-2 min-w-[120px] justify-center",{"bg-gradient-to-r from-red-100 to-red-50 text-red-800 border-red-200":Y(a),"bg-gradient-to-r from-orange-100 to-orange-50 text-orange-800 border-orange-200":d(a)>=80&&d(a)<100,"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-800 border-yellow-200":d(a)>=50&&d(a)<80,"bg-gradient-to-r from-green-100 to-green-50 text-green-800 border-green-200":d(a)<50,"bg-gradient-to-r from-gray-100 to-gray-50 text-gray-800 border-gray-200":Q(a)}])},[e("span",ft,n(pe(a)),1),l(" "+n(W(a)),1)],2),Y(a)?(p(),c("div",vt,[t[26]||(t[26]=e("span",null,"💸",-1)),e("span",null,"Melebihi "+n(y(Math.abs(k(a)))),1)])):d(a)>=80?(p(),c("div",_t,[...t[27]||(t[27]=[e("span",null,"⚠️",-1),e("span",null,"Hati-hati!",-1)])])):d(a)<50?(p(),c("div",kt,[...t[28]||(t[28]=[e("span",null,"✅",-1),e("span",null,"Masih aman",-1)])])):S("",!0),Q(a)?(p(),c("div",wt,[...t[29]||(t[29]=[e("span",null,"⌛",-1),e("span",null,"Berakhir",-1)])])):ce(a)?(p(),c("div",Bt,[...t[31]||(t[31]=[e("span",null,"🟢",-1),e("span",null,"Aktif",-1)])])):(p(),c("div",ht,[...t[30]||(t[30]=[e("span",null,"📅",-1),e("span",null,"Akan datang",-1)])]))])]),actions:o(({item:a})=>[e("div",Dt,[g(j,{onClick:D=>oe(a),variant:"primary",size:"sm",class:"!px-3 !py-2 w-full justify-center",title:"Update data pengeluaran terkini",loading:a.updating},{icon:o(()=>[...t[32]||(t[32]=[l("🔄",-1)])]),default:o(()=>[t[33]||(t[33]=l(" Update Real-time ",-1))]),_:1},8,["onClick","loading"]),e("div",St,[g(j,{onClick:D=>re(a),variant:"secondary",size:"xs",class:"!px-2 !py-1 flex-1",title:"Buat budget untuk bulan depan"},{icon:o(()=>[...t[34]||(t[34]=[l("📅",-1)])]),default:o(()=>[t[35]||(t[35]=l(" Next ",-1))]),_:1},8,["onClick"]),g(j,{onClick:D=>H(a),variant:"secondary",size:"xs",class:"!px-2 !py-1 flex-1",title:"Edit budget"},{icon:o(()=>[...t[36]||(t[36]=[l("✏️",-1)])]),default:o(()=>[t[37]||(t[37]=l(" Edit ",-1))]),_:1},8,["onClick"]),g(j,{onClick:D=>q(a),variant:"danger",size:"xs",class:"!px-2 !py-1 flex-1",title:"Hapus budget"},{icon:o(()=>[...t[38]||(t[38]=[l("🗑️",-1)])]),default:o(()=>[t[39]||(t[39]=l(" Hapus ",-1))]),_:1},8,["onClick"])])])]),_:1},8,["data","loading"]),x.value.length===0&&!P.value?(p(),c("div",Tt,[e("div",Mt,[t[42]||(t[42]=e("div",{class:"text-6xl mb-4"},"🎯",-1)),t[43]||(t[43]=e("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Belum ada budget",-1)),e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"}," Mulai dengan membuat budget pertama untuk merencanakan pengeluaran dan tabungan "+n(z)),g(j,{onClick:O,class:"px-6 py-3"},{icon:o(()=>[...t[40]||(t[40]=[l("➕",-1)])]),default:o(()=>[t[41]||(t[41]=l(" Buat Budget Pertama ",-1))]),_:1})])])):S("",!0),g(X,{show:w.value,"onUpdate:show":t[5]||(t[5]=a=>w.value=a),title:b.value?"Edit Budget":"Buat Budget Baru",description:b.value?"Perbarui informasi budget pengeluaran/tabungan kita":"Buat budget baru untuk merencanakan pengeluaran dan tabungan bersama",icon:b.value?"✏️":"➕","confirm-text":b.value?"Perbarui":"Simpan","confirm-loading":i(r).processing,onConfirm:ae,onClose:ne,size:"lg"},{default:o(()=>[e("div",Ct,[g(he,{modelValue:i(r).category_id,"onUpdate:modelValue":t[1]||(t[1]=a=>i(r).category_id=a),label:"Kategori",placeholder:"Pilih kategori untuk budget",options:$.value.map(a=>({value:a.id,label:`${a.name} ${a.type==="joint"?"👥":"👤"} (${U(a.budget_type)})`})),error:i(r).errors.category_id,icon:"📁",required:"",disabled:i(r).processing||$.value.length===0},null,8,["modelValue","options","error","disabled"]),g(Z,{modelValue:i(r).period_start,"onUpdate:modelValue":t[2]||(t[2]=a=>i(r).period_start=a),label:"Periode Mulai",error:i(r).errors.period_start,icon:"📅",required:"",disabled:i(r).processing},null,8,["modelValue","error","disabled"]),g(Z,{modelValue:i(r).period_end,"onUpdate:modelValue":t[3]||(t[3]=a=>i(r).period_end=a),label:"Periode Berakhir",error:i(r).errors.period_end,icon:"📅",required:"",disabled:i(r).processing},null,8,["modelValue","error","disabled"]),g(Be,{modelValue:i(r).target_amount,"onUpdate:modelValue":t[4]||(t[4]=a=>i(r).target_amount=a),label:"Target Budget",placeholder:"Contoh: 5000000 (5 juta)",error:i(r).errors.target_amount,icon:"🎯","account-type":"account_number",required:"",disabled:i(r).processing},null,8,["modelValue","error","disabled"]),t[45]||(t[45]=e("div",{class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200"},[e("p",{class:"text-sm text-blue-700 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"💡"),e("span",null,[e("strong",{class:"block"},"Tips Budgeting:"),l(" • Budget bisa dibuat untuk "),e("strong",null,"Pengeluaran"),l(" (makan, transport, dll) dan "),e("strong",null,"Tabungan"),l(" (rumah, liburan, dll)"),e("br"),l(" • Buat budget realistis berdasarkan kebutuhan sebelumnya"),e("br"),l(" • Monitor progress secara berkala"),e("br"),l(" • Sesuaikan budget jika diperlukan ")])])],-1)),i(r).hasErrors?(p(),c("div",jt,[...t[44]||(t[44]=[e("p",{class:"text-sm text-red-600 flex items-center gap-2"},[e("span",null,"⚠️"),l(" Terdapat kesalahan dalam pengisian form. Silakan periksa kembali input Anda. ")],-1)])])):S("",!0)])]),_:1},8,["show","title","description","icon","confirm-text","confirm-loading"]),g(X,{show:T.value,"onUpdate:show":t[6]||(t[6]=a=>T.value=a),title:"Hapus Budget",description:u.value?`Apakah Anda yakin ingin menghapus budget untuk ${u.value.category?.name}?`:"Apakah Anda yakin ingin menghapus budget ini?",icon:"🗑️","confirm-text":"Hapus","cancel-text":"Batal","confirm-variant":"danger","confirm-loading":I.value,onConfirm:se,onClose:t[7]||(t[7]=a=>T.value=!1)},{default:o(()=>[e("div",$t,[t[55]||(t[55]=e("div",{class:"p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl"},[e("p",{class:"text-sm text-red-600 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"⚠️"),e("span",null,[e("strong",{class:"block"},"Tindakan ini tidak dapat dibatalkan!"),l(" Data progress pengeluaran untuk budget ini akan hilang. ")])])],-1)),u.value?(p(),c("div",Pt,[t[54]||(t[54]=e("h4",{class:"font-semibold text-gray-800 mb-2"},"Detail Budget:",-1)),e("div",It,[e("div",null,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"Kategori:",-1)),e("p",Et,n(u.value.category?.name),1)]),e("div",null,[t[47]||(t[47]=e("span",{class:"text-gray-600"},"Jenis:",-1)),e("p",At,n(U(u.value.category?.budget_type)),1)]),e("div",null,[t[48]||(t[48]=e("span",{class:"text-gray-600"},"Periode:",-1)),e("p",Vt,n(G(u.value.period_start,u.value.period_end)),1)]),e("div",null,[t[49]||(t[49]=e("span",{class:"text-gray-600"},"Target:",-1)),e("p",Ut,n(y(C(u.value))),1)]),e("div",null,[t[50]||(t[50]=e("span",{class:"text-gray-600"},"Terpakai:",-1)),e("p",Ft,n(y(B(u.value))),1)]),e("div",null,[t[51]||(t[51]=e("span",{class:"text-gray-600"},"Sisa:",-1)),e("p",{class:v(["font-bold",k(u.value)<0?"text-red-600":"text-green-600"])},n(y(k(u.value))),3)]),e("div",null,[t[52]||(t[52]=e("span",{class:"text-gray-600"},"Progress:",-1)),e("p",Kt,n(d(u.value).toFixed(1))+"%",1)]),e("div",null,[t[53]||(t[53]=e("span",{class:"text-gray-600"},"Status:",-1)),e("p",Nt,n(W(u.value)),1)])])])):S("",!0)])]),_:1},8,["show","description","confirm-loading"])])])]),_:1}))}},Wt=De(zt,[["__scopeId","data-v-8a98b6ce"]]);export{Wt as default};
