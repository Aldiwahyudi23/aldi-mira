import{r as m,p as K,L as P,c as o,g as n,b as r,d as k,f as R,s as x,z as s,H as w}from"./vendor-CaulYgOW.js";const q={class:"mb-6"},z=["for"],A={key:1,class:"text-red-500"},E={class:"relative"},H=["id","value","placeholder","disabled"],L={key:0,class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"},M=["title"],j={key:1,class:"mt-2 text-sm text-red-500 flex items-center gap-2"},G={key:2,class:"mt-2 text-sm text-gray-500 flex items-center gap-2"},O={__name:"AccountInput",props:{modelValue:[String,Number],label:String,placeholder:String,required:Boolean,disabled:Boolean,error:String,helper:String,id:String,showCurrency:{type:Boolean,default:!0},allowDecimal:{type:Boolean,default:!1},decimalPlaces:{type:Number,default:0},icon:{type:String,default:"üí∞"},iconClass:{type:String,default:"text-pink-400"},showCopyButton:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{expose:C,emit:V}){const a=e,S=V,h=m(null),u=m(!1),i=m(""),d=m(!1),f=t=>{if(t==null||t==="")return"";let l=Number(t);return isNaN(l)?"":new Intl.NumberFormat("id-ID",{minimumFractionDigits:a.allowDecimal?a.decimalPlaces:0,maximumFractionDigits:a.allowDecimal?a.decimalPlaces:0}).format(l)},b=K(()=>u.value&&i.value!==""?f(i.value):a.modelValue||a.modelValue===0?f(a.modelValue):""),p=t=>{let l=t.target.value;const v=t.target.selectionStart,y=l.replace(/[^\d]/g,"");i.value=y;const I=parseInt(y)||0;S("update:modelValue",I),w(()=>{const g=f(y);let c=v;if(g.length!==l.length){const T=g.length-l.length;c=v+T}c=Math.min(c,g.length),t.target.setSelectionRange(c,c)})},N=t=>{u.value=!0;const l=a.modelValue?Number(a.modelValue).toString():"";i.value=l.replace(/[^\d]/g,""),w(()=>t.target.select())},B=()=>{u.value=!1,i.value=""},D=t=>{[8,9,13,27,46,35,36,37,38,39,40].includes(t.keyCode)||(t.ctrlKey||t.metaKey)&&[65,67,86,88].includes(t.keyCode)||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.preventDefault()};P(()=>a.modelValue,t=>{if(!u.value){const l=Number(t);isNaN(l)||(i.value=l.toString())}},{immediate:!0});async function F(){try{await navigator.clipboard.writeText(a.modelValue??""),d.value=!0,setTimeout(()=>d.value=!1,1200)}catch(t){console.error(t)}}return C({focus:()=>h.value?.focus()}),(t,l)=>(n(),o("div",q,[e.label?(n(),o("label",{key:0,for:e.id,class:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[e.icon?(n(),o("span",{key:0,class:x(e.iconClass)},s(e.icon),3)):r("",!0),R(" "+s(e.label)+" ",1),e.required?(n(),o("span",A,"*")):r("",!0)],8,z)):r("",!0),k("div",E,[k("input",{ref_key:"inputRef",ref:h,id:e.id,type:"text",value:b.value,onInput:p,onFocus:N,onBlur:B,onKeydown:D,placeholder:e.placeholder,disabled:e.disabled,class:x(["w-full border border-gray-200 rounded-2xl p-4 focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-all duration-300 bg-white/50 backdrop-blur-sm font-mono",{"pl-20":e.icon&&e.showCurrency,"pl-12":e.icon&&!e.showCurrency||!e.icon&&e.showCurrency,"opacity-50 cursor-not-allowed":e.disabled,"border-red-300":e.error}])},null,42,H),e.icon?(n(),o("div",L,s(e.icon),1)):r("",!0),e.showCopyButton&&b.value?(n(),o("button",{key:1,onClick:F,class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-pink-500 transition-colors",type:"button",title:d.value?"Tersalin!":"Salin ke clipboard"},s(d.value?"‚úÖ":"üìã"),9,M)):r("",!0)]),e.error?(n(),o("p",j," ‚ö†Ô∏è "+s(e.error),1)):r("",!0),e.helper?(n(),o("p",G," üí° "+s(e.helper),1)):r("",!0)]))}};export{O as _};
