import{c,g as m,d as e,s as P,b as f,z as o,r as I,p as V,L as oe,f as u,K as ie,l as b,M as se,w as _,F as R,y as G,m as L,N as Z,q as xe,H as ye,o as ce,t as ve,a as fe,k as le,x as p,E as re,R as ke,O as he,C as _e,D as de}from"./vendor-CaulYgOW.js";import{A as we}from"./AppLayout-C9Lt9nJP.js";import{_ as T,S as H,B as pe}from"./SelectInput-CCmOdJSq.js";/* empty css                                                                         */import{_ as ae}from"./app-BXVwXSr1.js";import{_ as je}from"./TextInput-DiiruTXj.js";import{_ as ue}from"./TextInput-X0I6SgWH.js";import{_ as ne}from"./TextAreaInput-c3gpLd2_.js";import{_ as te}from"./AccountInput-DNx9eD28.js";import{_ as me}from"./DateInput-Xi_yGRfh.js";/* empty css            */const $e={class:"flex items-start gap-3 select-none"},Ie=["disabled"],Ve={class:"flex flex-col"},Pe={key:0,class:"text-xs text-gray-500 mt-0.5"},Ce={__name:"ToggleInput",props:{modelValue:{type:Boolean,required:!0},label:{type:String,default:""},description:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:x}){const k=a,M=x,v=()=>{k.disabled||M("update:modelValue",!k.modelValue)};return(s,S)=>(m(),c("div",$e,[e("button",{type:"button",class:P(["relative inline-flex items-center justify-center w-12 h-7 rounded-full transition-all duration-300 focus:outline-none",[a.modelValue?"bg-gradient-to-r from-pink-400 to-rose-500 shadow-md":"bg-gray-200",a.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-[1.05]"]]),onClick:v,disabled:a.disabled},[e("span",{class:P(["absolute left-1 top-1 w-5 h-5 bg-white rounded-full shadow-md transform transition-all duration-300",{"translate-x-5":a.modelValue}])},null,2)],10,Ie),e("div",Ve,[e("label",{class:P(["text-sm font-medium",[a.disabled?"text-gray-400":a.modelValue?"text-pink-600":"text-gray-800"]]),onClick:v},o(a.label),3),a.description?(m(),c("p",Pe,o(a.description),1)):f("",!0)])]))}},Te=ae(Ce,[["__scopeId","data-v-b59521a2"]]),Me={class:"checklist-manager bg-gradient-to-br from-white via-pink-50 to-rose-50 rounded-3xl shadow-sm p-4 border border-pink-100"},Se={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2"},De={class:"flex items-center gap-3"},Be={class:"text-sm text-gray-600"},Ue={class:"font-semibold text-pink-600"},Ae={class:"text-rose-500 font-semibold ml-1"},qe={class:"flex items-center gap-3"},Ee={class:"text-right"},Oe={class:"text-sm font-semibold text-gray-700"},Le={class:"w-28 bg-gray-200 rounded-full h-2 overflow-hidden"},Fe={class:"mb-4"},Ke={class:"flex flex-row flex-wrap items-center gap-3 bg-white/70 backdrop-blur-sm border border-pink-100 rounded-2xl p-4"},ze={class:"space-y-3"},Je={key:0,class:"text-center py-4 bg-white/60 backdrop-blur-sm rounded-2xl border border-pink-100"},Ne={class:"text-gray-600 max-w-md mx-auto"},Re={class:"flex flex-col sm:flex-row sm:items-center gap-4"},Ge={key:0,class:"flex-1 flex items-center gap-3"},He=["onKeypress","onBlur"],Qe={class:"flex gap-2"},We={key:1,class:"flex flex-row flex-wrap items-center justify-between gap-2 bg-white/70 border border-pink-100 rounded-2xl p-3 group transition-all"},Xe={class:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},Ye={key:0,class:"flex items-center gap-2 mt-2 pl-1 text-xs text-green-600"},Ze={key:0,class:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 backdrop-blur-sm"},et={class:"flex gap-3 justify-center"},tt={class:"bg-white rounded-3xl p-8 text-center max-w-sm mx-4 animate-bounce shadow-lg"},at={__name:"ChecklistManager",props:{projectItem:Object,checklists:Array,itemName:String},emits:["checklist-updated"],setup(a,{emit:x}){const k=a,M=x,v=I(k.checklists||[]),s=I(""),S=I(!1),U=I(null),A=I(null),q=I(null),C=I(""),$=I(!1),j=I(!1),h=I(null),F=I(null),K=V(()=>v.value.length),Q=V(()=>v.value.filter(y=>y.is_completed).length),D=V(()=>K.value>0?Math.round(Q.value/K.value*100):0),W=V(()=>[...v.value].sort((y,d)=>y.is_completed&&!d.is_completed?1:!y.is_completed&&d.is_completed?-1:new Date(y.created_at)-new Date(d.created_at)));oe(D,(y,d)=>{y===100&&d<100&&K.value>0&&($.value=!0,setTimeout(()=>$.value=!1,3e3))});const B=async()=>{if(s.value.trim()){S.value=!0;try{const y=await axios.post(route("project-items.checklists.store",{projectItem:k.projectItem.id}),{task_description:s.value.trim()});y.data.success&&(v.value.push(y.data.checklist),s.value="",M("checklist-updated"))}catch(y){console.error("Error adding checklist:",y),alert("Gagal menambahkan checklist")}finally{S.value=!1}}},E=async y=>{U.value=y.id;try{const d=await axios.patch(route("project-items.checklists.toggle",{projectItem:k.projectItem.id,checklist:y.id}));if(d.data.success){const w=v.value.findIndex(r=>r.id===y.id);w!==-1&&(v.value[w]=d.data.checklist),M("checklist-updated")}}catch(d){console.error("Error toggling checklist:",d),y.is_completed=!y.is_completed}finally{U.value=null}},N=y=>{q.value=y.id,C.value=y.task_description,ye(()=>{F.value&&(F.value.focus(),F.value.select())})},z=async y=>{if(!C.value.trim()){J();return}try{const d=await axios.put(route("project-items.checklists.update",{projectItem:k.projectItem.id,checklist:y.id}),{task_description:C.value.trim()});if(d.data.success){const w=v.value.findIndex(r=>r.id===y.id);w!==-1&&(v.value[w]=d.data.checklist),M("checklist-updated")}}catch(d){console.error("Error updating checklist:",d),alert("Gagal memperbarui checklist")}finally{q.value=null,C.value=""}},J=()=>{q.value=null,C.value=""},ee=y=>{h.value=y,j.value=!0},X=()=>{j.value=!1,h.value=null},Y=async()=>{if(h.value){A.value=h.value.id;try{(await axios.delete(route("project-items.checklists.destroy",{projectItem:k.projectItem.id,checklist:h.value.id}))).data.success&&(v.value=v.value.filter(d=>d.id!==h.value.id),M("checklist-updated"))}catch(y){console.error("Error deleting checklist:",y),alert("Gagal menghapus checklist")}finally{A.value=null,j.value=!1,h.value=null}}},O=y=>new Date(y).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return(y,d)=>(m(),c("div",Me,[e("div",Se,[e("div",De,[d[7]||(d[7]=e("div",{class:"w-10 h-10 bg-gradient-to-r from-pink-400 to-rose-500 rounded-xl flex items-center justify-center shadow-md"},[e("span",{class:"text-lg text-white"},"ðŸ“‹")],-1)),e("div",null,[d[6]||(d[6]=e("h3",{class:"font-bold text-gray-800 text-lg"},"Checklist Detail",-1)),e("p",Be,[d[5]||(d[5]=u(" Kelola langkah-langkah detail untuk ",-1)),e("span",Ue,o(a.itemName),1),e("span",Ae,"("+o(D.value)+"%)",1)])])]),e("div",qe,[e("div",Ee,[e("div",Oe,o(Q.value)+" / "+o(K.value)+" selesai ",1),e("div",Le,[e("div",{class:"h-2 rounded-full transition-all duration-500 bg-gradient-to-r from-pink-400 to-rose-500",style:ie({width:D.value+"%"})},null,4)])])])]),e("div",Fe,[e("div",Ke,[b(je,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=w=>s.value=w),onKeypress:se(B,["enter"]),placeholder:"Tambahkan langkah baru... (contoh: Konfirmasi menu, Kirim DP, dll)",class:"flex-1 min-w-[180px] px-4 py-3 rounded-xl border border-pink-200 focus:ring-2 focus:ring-pink-400 focus:border-transparent bg-white transition-all",disabled:S.value},null,8,["modelValue","disabled"]),b(T,{onClick:B,loading:S.value,class:"!px-6 !py-3 bg-gradient-to-r from-pink-400 to-rose-500 text-white shadow-md hover:shadow-lg whitespace-nowrap"},{icon:_(()=>[...d[8]||(d[8]=[u("âž•",-1)])]),default:_(()=>[d[9]||(d[9]=u(" Tambah ",-1))]),_:1},8,["loading"])])]),e("div",ze,[v.value.length===0?(m(),c("div",Je,[d[10]||(d[10]=e("div",{class:"text-6xl mb-2"},"ðŸ“",-1)),d[11]||(d[11]=e("h4",{class:"text-lg font-semibold text-gray-700 mb-2"},"Belum ada checklist",-1)),e("p",Ne," Tambahkan langkah-langkah romantis untuk mencapai tujuan "+o(a.itemName.toLowerCase())+" ini ðŸ’– ",1)])):f("",!0),(m(!0),c(R,null,G(W.value,w=>(m(),c("div",{key:w.id,class:P(["group bg-white/80 backdrop-blur-sm rounded-2xl p-4 border-2 transition-all duration-300 hover:shadow-lg",[w.is_completed?"border-green-200 bg-gradient-to-r from-green-50 to-emerald-50":"border-pink-100 hover:border-pink-200"]])},[e("div",Re,[q.value===w.id?(m(),c("div",Ge,[L(e("input",{ref_for:!0,ref_key:"editInput",ref:F,"onUpdate:modelValue":d[1]||(d[1]=r=>C.value=r),onKeypress:[se(r=>z(w),["enter"]),se(J,["escape"])],onBlur:r=>z(w),class:"flex-1 px-3 py-2 rounded-lg border border-blue-300 focus:ring-2 focus:ring-blue-400 focus:border-transparent"},null,40,He),[[Z,C.value]]),e("div",Qe,[b(T,{onClick:r=>z(w),class:"w-8 h-8 rounded-full flex items-center justify-center bg-green-500 text-white hover:bg-green-600",title:"Simpan"},{default:_(()=>[...d[12]||(d[12]=[u(" âœ“ ",-1)])]),_:1},8,["onClick"]),b(T,{onClick:J,class:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-500 text-white hover:bg-gray-600",title:"Batal"},{default:_(()=>[...d[13]||(d[13]=[u(" âœ• ",-1)])]),_:1})])])):(m(),c("div",We,[b(Te,{modelValue:w.is_completed,"onUpdate:modelValue":[r=>w.is_completed=r,r=>E(w)],label:w.task_description,description:w.is_completed?"Selesai dikerjakan ðŸ’«":"Belum selesai",class:"flex-1 min-w-[200px]"},null,8,["modelValue","onUpdate:modelValue","label","description"]),e("div",Xe,[b(T,{onClick:r=>N(w),class:"w-8 h-8 rounded-full flex items-center justify-center text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Edit checklist"},{default:_(()=>[...d[14]||(d[14]=[u(" âœï¸ ",-1)])]),_:1},8,["onClick"]),b(T,{onClick:r=>ee(w),disabled:A.value===w.id,class:"w-8 h-8 rounded-full flex items-center justify-center text-gray-500 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Hapus checklist"},{default:_(()=>[...d[15]||(d[15]=[u(" ðŸ—‘ï¸ ",-1)])]),_:1},8,["onClick","disabled"])])]))]),w.is_completed&&w.completed_at?(m(),c("div",Ye,[e("span",null,"âœ… Selesai: "+o(O(w.completed_at)),1)])):f("",!0)],2))),128))]),j.value?(m(),c("div",Ze,[e("div",{class:"bg-white rounded-3xl p-6 text-center max-w-sm mx-4 shadow-lg",onClick:d[2]||(d[2]=xe(()=>{},["stop"]))},[d[19]||(d[19]=e("div",{class:"text-4xl mb-4"},"âš ï¸",-1)),d[20]||(d[20]=e("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Hapus Checklist?",-1)),d[21]||(d[21]=e("p",{class:"text-gray-600 mb-6"},"Apakah Anda yakin ingin menghapus checklist ini? Tindakan ini tidak dapat dibatalkan.",-1)),e("div",et,[b(T,{onClick:X,class:"!px-6 bg-gray-500 text-white hover:bg-gray-600"},{default:_(()=>[...d[16]||(d[16]=[u(" Batal ",-1)])]),_:1}),b(T,{onClick:Y,loading:A.value===h.value?.id,class:"!px-6 bg-gradient-to-r from-red-400 to-red-500 text-white hover:from-red-500 hover:to-red-600"},{icon:_(()=>[...d[17]||(d[17]=[u("ðŸ—‘ï¸",-1)])]),default:_(()=>[d[18]||(d[18]=u(" Hapus ",-1))]),_:1},8,["loading"])])])])):f("",!0),$.value?(m(),c("div",{key:1,class:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 backdrop-blur-sm",onClick:d[4]||(d[4]=w=>$.value=!1)},[e("div",tt,[d[24]||(d[24]=e("div",{class:"text-6xl mb-4"},"ðŸŽ‰",-1)),d[25]||(d[25]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Selamat! ðŸŽŠ",-1)),d[26]||(d[26]=e("p",{class:"text-gray-600 mb-4"},"Semua checklist sudah selesai ðŸ’–",-1)),b(T,{onClick:d[3]||(d[3]=w=>$.value=!1),class:"!px-6 bg-gradient-to-r from-pink-400 to-rose-500 text-white shadow"},{icon:_(()=>[...d[22]||(d[22]=[u("âœ¨",-1)])]),default:_(()=>[d[23]||(d[23]=u(" Lanjutkan ",-1))]),_:1})])])):f("",!0)]))}},st=ae(at,[["__scopeId","data-v-d4f87d86"]]),lt={class:"payment-manager bg-gradient-to-br from-white via-blue-50 to-indigo-50 rounded-3xl shadow-sm p-4 border border-blue-100"},ot={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2"},nt={class:"flex items-center gap-3"},it={class:"text-sm text-gray-600"},rt={class:"font-semibold text-blue-600"},dt={class:"flex items-center gap-4"},ut={class:"text-right"},mt={key:0,class:"space-y-1"},ct={key:0,class:"text-xs text-green-600 font-medium"},pt={key:1,class:"text-xs text-red-600 font-medium"},gt={key:2,class:"text-xs text-gray-500"},bt={key:1},xt={class:"text-sm font-semibold text-gray-700 mb-1"},yt={class:"w-32 bg-gray-200 rounded-full h-2"},vt={class:"text-xs text-gray-500 mt-1"},ft={key:0,class:"mb-4"},kt={key:1,class:"mb-4"},ht={class:"bg-white/70 backdrop-blur-sm border border-green-100 rounded-2xl p-4"},_t={class:"grid grid-cols-2 md:grid-cols-2 gap-2 mb-4"},wt={class:"flex justify-end mt-4"},jt={key:2,class:"mb-6"},$t={class:"bg-white/70 backdrop-blur-sm border border-orange-100 rounded-2xl p-4"},It={class:"text-sm text-gray-600 mb-4"},Vt={class:"grid grid-cols-2 md:grid-cols-2 gap-2 mb-4"},Pt={class:"flex justify-end mt-4"},Ct={key:3,class:"mb-4"},Tt={class:"bg-white/70 backdrop-blur-sm border border-green-100 rounded-2xl p-6 text-center"},Mt={class:"text-gray-600 mb-4"},St={class:"mt-4"},Dt={key:0,class:"text-center py-4 bg-white/60 backdrop-blur-sm rounded-2xl border border-blue-100"},Bt={key:1,class:"space-y-3"},Ut={class:"flex flex-row items-center justify-between gap-3 bg-white/70 border border-pink-100 rounded-2xl p-3 group transition-all flex-wrap sm:flex-nowrap"},At={class:"flex items-center gap-3 flex-1 min-w-[200px]"},qt={class:"text-sm"},Et={class:"flex flex-col justify-center truncate"},Ot={class:"flex items-center flex-wrap gap-2 mb-1"},Lt={class:"font-semibold text-gray-800 truncate max-w-[160px] sm:max-w-[200px]"},Ft={class:"text-sm text-gray-600 space-y-1 truncate"},Kt={key:0},zt={key:1,class:"text-blue-600 truncate"},Jt={class:"text-xs text-gray-500"},Nt={class:"flex items-center gap-3 flex-shrink-0"},Rt={class:"text-right"},Gt={class:"text-xs text-gray-500"},Ht={class:"opacity-0 group-hover:opacity-100 transition-opacity"},Qt={class:"space-y-4"},Wt={key:0,class:"p-4 bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-2xl"},Xt={class:"grid grid-cols-2 gap-4 text-sm"},Yt={class:"font-medium text-gray-800"},Zt={class:"font-medium text-gray-800"},ea={class:"font-medium text-gray-800"},ta={class:"font-medium text-gray-800"},aa={key:0},sa={class:"font-medium text-gray-800"},la={__name:"PaymentManager",props:{projectItem:Object},emits:["payment-updated"],setup(a,{emit:x}){const k=a,M=x,v=I([]),s=I([]),S=I(!1),U=I(!1),A=I(!1),q=I(!1),C=I(!1),$=I(null),j=I({amount:"",account_id:"",payment_method:"transfer",transaction_date:new Date().toISOString().split("T")[0],note:""}),h=I({amount:"",account_id:"",payment_method:"transfer",transaction_date:new Date().toISOString().split("T")[0],note:""}),F=V(()=>({pending:"Belum Dimulai",in_progress:"Dalam Progress",ready:"Siap Belanja",complete:"Selesai"})[k.projectItem.status]||k.projectItem.status),K=V(()=>({pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",ready:"bg-orange-100 text-orange-800",complete:"bg-green-100 text-green-800"})[k.projectItem.status]||"bg-gray-100 text-gray-800"),Q=V(()=>k.projectItem.status==="complete"?"bg-green-500":k.projectItem.status==="ready"?"bg-orange-500":"bg-blue-500"),D=V(()=>s.value.length?s.value.map(i=>({value:i.id,label:`${i.name} - ${i.formatted_balance}${i.type==="joint"?" ðŸ‘¥":" ðŸ‘¤"}`,metadata:{type:i.type,balance:i.current_balance,balance_status:i.balance_status,balance_status_color:i.balance_status_color,balance_status_text:i.balance_status_text}})):[]),W=V(()=>[{value:"transfer",label:"Transfer Bank"},{value:"cash",label:"Tunai"}]),B=V(()=>{const i={};return!j.value.amount||j.value.amount<=0?i.amount="Jumlah tabungan harus lebih dari 0":j.value.amount>k.projectItem.remaining_amount&&(i.amount=`Jumlah tabungan tidak boleh melebihi ${r(k.projectItem.remaining_amount)}`),j.value.account_id||(i.account_id="Akun tujuan harus dipilih"),j.value.payment_method||(i.payment_method="Metode pembayaran harus dipilih"),j.value.transaction_date||(i.transaction_date="Tanggal transaksi harus diisi"),i}),E=V(()=>{const i={};return!h.value.amount||h.value.amount<=0?i.amount="Jumlah pembelian harus lebih dari 0":h.value.amount>k.projectItem.actual_spent&&(i.amount=`Jumlah pembelian tidak boleh melebihi ${r(k.projectItem.actual_spent)}`),h.value.account_id||(i.account_id="Akun sumber harus dipilih"),h.value.payment_method||(i.payment_method="Metode pembayaran harus dipilih"),h.value.transaction_date||(i.transaction_date="Tanggal pembelian harus diisi"),i}),N=V(()=>Object.keys(B.value).length===0&&j.value.amount>0&&j.value.account_id&&j.value.payment_method&&j.value.transaction_date),z=V(()=>Object.keys(E.value).length===0&&h.value.amount>0&&h.value.account_id&&h.value.payment_method&&h.value.transaction_date),J=async()=>{try{const i=await axios.get(route("project-items.payments.index",{projectItem:k.projectItem.id}));i.data.success&&(v.value=i.data.payments,Object.assign(k.projectItem,i.data.project_item))}catch(i){console.error("Error loading payments:",i)}},ee=async()=>{S.value=!0;try{const i=await axios.get(route("project-items.api.accounts"));s.value=i.data,console.log("Accounts loaded from project API:",s.value)}catch(i){console.error("Error loading accounts from project API:",i);try{const l=await axios.get("/api/accounts");s.value=l.data,console.log("Accounts loaded from fallback API:",s.value)}catch(l){console.error("Fallback also failed:",l),alert("Gagal memuat data akun. Silakan refresh halaman.")}}finally{S.value=!1}},X=async()=>{if(N.value){U.value=!0;try{const i=await axios.post(route("project-items.payments.store",{projectItem:k.projectItem.id}),j.value);i.data.success&&(v.value.unshift(i.data.payment),Object.assign(k.projectItem,i.data.project_item),d(),M("payment-updated"))}catch(i){console.error("Error adding savings:",i),alert(i.response?.data?.error||"Gagal menambah tabungan")}finally{U.value=!1}}},Y=async()=>{if(z.value){A.value=!0;try{const i=await axios.post(route("project-items.payments.purchase",{projectItem:k.projectItem.id}),h.value);i.data.success&&(v.value.unshift(i.data.payment),Object.assign(k.projectItem,i.data.project_item),w(),M("payment-updated"))}catch(i){console.error("Error making purchase:",i),alert(i.response?.data?.error||"Gagal melakukan pembelian")}finally{A.value=!1}}},O=i=>{$.value=i,C.value=!0},y=async()=>{if($.value){q.value=!0;try{(await axios.delete(route("project-items.payments.destroy",{projectItem:k.projectItem.id,payment:$.value.id}))).data.success&&(v.value=v.value.filter(l=>l.id!==$.value.id),await J(),M("payment-updated"))}catch(i){console.error("Error deleting payment:",i),alert("Gagal menghapus transaksi")}finally{q.value=!1,C.value=!1,$.value=null}}},d=()=>{j.value={amount:"",account_id:"",payment_method:"transfer",transaction_date:new Date().toISOString().split("T")[0],note:""}},w=()=>{h.value={amount:"",account_id:"",payment_method:"transfer",transaction_date:new Date().toISOString().split("T")[0],note:""}},r=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(i)),t=(i,l="full")=>{const g=new Date(i);return l==="time"?g.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):g.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},n=i=>({transfer:"Transfer",cash:"Tunai"})[i]||i;return V(()=>k.projectItem.planned_amount-k.projectItem.actual_spent),ce(()=>{J(),ee()}),(i,l)=>(m(),c("div",lt,[e("div",ot,[e("div",nt,[l[14]||(l[14]=e("div",{class:"w-10 h-10 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center shadow-md"},[e("span",{class:"text-lg text-white"},"ðŸ’°")],-1)),e("div",null,[l[13]||(l[13]=e("h3",{class:"font-bold text-gray-800 text-lg"},"Tabungan Proyek",-1)),e("p",it,[l[12]||(l[12]=u(" Progress tabungan untuk ",-1)),e("span",rt,o(a.projectItem.item_name),1)])])]),e("div",dt,[e("div",ut,[a.projectItem.status==="complete"?(m(),c("div",mt,[a.projectItem.actual_spent>0?(m(),c("div",ct," ðŸ’° Sisa: "+o(r(a.projectItem.actual_spent)),1)):a.projectItem.actual_spent<0?(m(),c("div",pt," âš ï¸ Kurang: "+o(r(Math.abs(a.projectItem.actual_spent))),1)):(m(),c("div",gt," âœ… Terpakai semua "))])):(m(),c("div",bt,[e("div",xt,o(r(a.projectItem.actual_spent))+" / "+o(r(a.projectItem.planned_amount)),1),e("div",yt,[e("div",{class:P(["h-2 rounded-full transition-all duration-500",Q.value]),style:ie({width:Math.min(a.projectItem.savings_progress,100)+"%"})},null,6)]),e("div",vt,o(Math.round(a.projectItem.savings_progress))+"% tercapai ",1)]))]),e("div",{class:P([K.value,"px-3 py-1 rounded-full text-sm font-semibold"])},o(F.value),3)])]),S.value?(m(),c("div",ft,[...l[15]||(l[15]=[e("div",{class:"bg-white/70 backdrop-blur-sm border border-blue-100 rounded-2xl p-6 text-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e("p",{class:"text-gray-600"},"Memuat data akun...")],-1)])])):f("",!0),!a.projectItem.is_ready_for_purchase&&a.projectItem.status!=="complete"&&!S.value?(m(),c("div",kt,[e("div",ht,[l[18]||(l[18]=e("h4",{class:"font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ’°"),u(" Tambah Tabungan ")],-1)),e("div",_t,[b(te,{modelValue:j.value.amount,"onUpdate:modelValue":l[0]||(l[0]=g=>j.value.amount=g),label:"Jumlah Tabungan *",placeholder:`Contoh: ${Math.round(a.projectItem.remaining_amount/1e3)*1e3}`,icon:"ðŸ’°","account-type":"account_number",max:a.projectItem.remaining_amount,error:B.value.amount,required:""},null,8,["modelValue","placeholder","max","error"]),b(H,{modelValue:j.value.account_id,"onUpdate:modelValue":l[1]||(l[1]=g=>j.value.account_id=g),label:"Akun Tujuan *",placeholder:D.value.length>0?"Pilih akun untuk menabung":"Memuat akun...",options:D.value,error:B.value.account_id,icon:"ðŸ¦",disabled:D.value.length===0,required:""},null,8,["modelValue","placeholder","options","error","disabled"]),b(H,{modelValue:j.value.payment_method,"onUpdate:modelValue":l[2]||(l[2]=g=>j.value.payment_method=g),label:"Metode Pembayaran *",options:W.value,error:B.value.payment_method,icon:"ðŸ’³",required:""},null,8,["modelValue","options","error"]),b(me,{modelValue:j.value.transaction_date,"onUpdate:modelValue":l[3]||(l[3]=g=>j.value.transaction_date=g),label:"Tanggal Transaksi *",icon:"ðŸ“…",error:B.value.transaction_date,required:""},null,8,["modelValue","error"])]),b(ne,{modelValue:j.value.note,"onUpdate:modelValue":l[4]||(l[4]=g=>j.value.note=g),label:"Catatan (Opsional)",placeholder:"Contoh: Tabungan gaji bulanan, Bonus, dll...",icon:"ðŸ“",rows:2,"show-counter":!0,"max-length":255},null,8,["modelValue"]),e("div",wt,[b(T,{onClick:X,loading:U.value,disabled:!N.value||D.value.length===0,class:"!px-6 !py-3 bg-gradient-to-r from-green-400 to-emerald-500 text-white shadow-md hover:shadow-lg"},{icon:_(()=>[...l[16]||(l[16]=[u("ðŸ’°",-1)])]),default:_(()=>[l[17]||(l[17]=u(" Simpan Tabungan ",-1))]),_:1},8,["loading","disabled"])])])])):f("",!0),a.projectItem.is_ready_for_purchase&&a.projectItem.status!=="complete"&&!S.value?(m(),c("div",jt,[e("div",$t,[l[23]||(l[23]=e("h4",{class:"font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ›ï¸"),u(" Pembelian Item ")],-1)),e("p",It,[l[19]||(l[19]=u(" Tabungan sudah mencukupi! Silakan lakukan pembelian untuk item ",-1)),e("strong",null,o(a.projectItem.item_name),1),l[20]||(l[20]=u(". ",-1))]),e("div",Vt,[b(te,{modelValue:h.value.amount,"onUpdate:modelValue":l[5]||(l[5]=g=>h.value.amount=g),label:"Jumlah Pembelian *",placeholder:`Maksimal: ${r(a.projectItem.actual_spent)}`,icon:"ðŸ’°","account-type":"account_number",max:a.projectItem.actual_spent,error:E.value.amount,required:""},null,8,["modelValue","placeholder","max","error"]),b(H,{modelValue:h.value.account_id,"onUpdate:modelValue":l[6]||(l[6]=g=>h.value.account_id=g),label:"Akun Sumber *",placeholder:D.value.length>0?"Pilih akun untuk pembelian":"Memuat akun...",options:D.value,error:E.value.account_id,icon:"ðŸ¦",disabled:D.value.length===0,required:""},null,8,["modelValue","placeholder","options","error","disabled"]),b(H,{modelValue:h.value.payment_method,"onUpdate:modelValue":l[7]||(l[7]=g=>h.value.payment_method=g),label:"Metode Pembayaran *",options:W.value,error:E.value.payment_method,icon:"ðŸ’³",required:""},null,8,["modelValue","options","error"]),b(me,{modelValue:h.value.transaction_date,"onUpdate:modelValue":l[8]||(l[8]=g=>h.value.transaction_date=g),label:"Tanggal Pembelian *",icon:"ðŸ“…",error:E.value.transaction_date,required:""},null,8,["modelValue","error"])]),b(ne,{modelValue:h.value.note,"onUpdate:modelValue":l[9]||(l[9]=g=>h.value.note=g),label:"Catatan Pembelian",placeholder:"Contoh: Beli material, Bayar vendor, dll...",icon:"ðŸ“",rows:2,"show-counter":!0,"max-length":255},null,8,["modelValue"]),e("div",Pt,[b(T,{onClick:Y,loading:A.value,disabled:!z.value||D.value.length===0,class:"!px-6 !py-3 bg-gradient-to-r from-orange-400 to-red-500 text-white shadow-md hover:shadow-lg"},{icon:_(()=>[...l[21]||(l[21]=[u("ðŸ›ï¸",-1)])]),default:_(()=>[l[22]||(l[22]=u(" Proses Pembelian ",-1))]),_:1},8,["loading","disabled"])])])])):f("",!0),a.projectItem.status==="complete"?(m(),c("div",Ct,[e("div",Tt,[l[27]||(l[27]=e("div",{class:"text-4xl mb-4"},"ðŸŽ‰",-1)),l[28]||(l[28]=e("h4",{class:"text-xl font-bold text-gray-800 mb-2"},"Pembelian Selesai!",-1)),e("p",Mt,[l[24]||(l[24]=u(" Item ",-1)),e("strong",null,o(a.projectItem.item_name),1),l[25]||(l[25]=u(" telah berhasil dibeli dengan total ",-1)),e("strong",null,o(r(a.projectItem.actual_spent)),1),l[26]||(l[26]=u(". ",-1))]),l[29]||(l[29]=e("div",{class:"bg-green-50 text-green-700 px-4 py-3 rounded-lg"},[e("p",{class:"text-sm"},[u("Status: "),e("strong",null,"Completed")])],-1))])])):f("",!0),e("div",St,[l[33]||(l[33]=e("h4",{class:"font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ“Š"),u(" Riwayat Transaksi ")],-1)),v.value.length===0?(m(),c("div",Dt,[...l[30]||(l[30]=[e("div",{class:"text-6xl mb-2"},"ðŸ’¸",-1),e("h4",{class:"text-lg font-semibold text-gray-700 mb-2"},"Belum ada transaksi",-1),e("p",{class:"text-gray-600 max-w-md mx-auto"}," Mulai menabung untuk proyek ini ðŸ’– ",-1)])])):(m(),c("div",Bt,[(m(!0),c(R,null,G(v.value,g=>(m(),c("div",{key:g.id,class:P(["group bg-white/80 backdrop-blur-sm rounded-2xl p-4 border-2 transition-all duration-300 hover:shadow-lg",g.amount>0?"border-green-100":"border-red-100"])},[e("div",Ut,[e("div",At,[e("div",{class:P(["w-8 h-8 rounded-lg flex items-center justify-center text-white flex-shrink-0",g.amount>0?"bg-green-500":"bg-red-500"])},[e("span",qt,o(g.amount>0?"ðŸ’°":"ðŸ›ï¸"),1)],2),e("div",Et,[e("div",Ot,[e("h4",Lt,o(g.amount>0?"Tabungan":"Pembelian"),1),e("span",{class:P(["px-2 py-1 text-xs rounded-full font-medium whitespace-nowrap",g.amount>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(n(g.payment_method)),3)]),e("div",Ft,[g.transaction?(m(),c("p",Kt,[l[31]||(l[31]=e("span",{class:"font-medium"},"Akun:",-1)),u(" "+o(g.transaction.account.name),1)])):f("",!0),g.note?(m(),c("p",zt,"ðŸ“ "+o(g.note),1)):f("",!0),e("p",Jt,o(t(g.created_at)),1)])])]),e("div",Nt,[e("div",Rt,[e("div",{class:P(["text-lg font-bold",g.amount>0?"text-green-600":"text-red-600"])},o(g.amount>0?"+":"")+o(r(g.amount)),3),e("div",Gt,o(t(g.created_at,"time")),1)]),e("div",Ht,[b(T,{onClick:ge=>O(g),class:"w-8 h-8 rounded-full flex items-center justify-center text-gray-500 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Hapus transaksi"},{default:_(()=>[...l[32]||(l[32]=[u(" ðŸ—‘ï¸ ",-1)])]),_:1},8,["onClick"])])])])],2))),128))]))]),b(pe,{show:C.value,"onUpdate:show":l[10]||(l[10]=g=>C.value=g),title:"Hapus Transaksi",description:($.value,"Apakah Anda yakin ingin menghapus transaksi ini?"),icon:"ðŸ—‘ï¸","confirm-text":"Hapus","cancel-text":"Batal","confirm-variant":"danger","confirm-loading":q.value,onConfirm:y,onClose:l[11]||(l[11]=g=>C.value=!1)},{default:_(()=>[e("div",Qt,[l[41]||(l[41]=e("div",{class:"p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl"},[e("p",{class:"text-sm text-red-600 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"âš ï¸"),e("span",null,[e("strong",{class:"block"},"Tindakan ini tidak dapat dibatalkan!"),u(" Transaksi yang dihapus akan mempengaruhi saldo akun dan progress tabungan. ")])])],-1)),$.value?(m(),c("div",Wt,[l[40]||(l[40]=e("h4",{class:"font-semibold text-gray-800 mb-2"},"Detail Transaksi:",-1)),e("div",Xt,[e("div",null,[l[34]||(l[34]=e("span",{class:"text-gray-600"},"Jenis:",-1)),e("p",Yt,o($.value.amount>0?"Tabungan":"Pembelian"),1)]),e("div",null,[l[35]||(l[35]=e("span",{class:"text-gray-600"},"Jumlah:",-1)),e("p",{class:P(["font-bold",$.value.amount>0?"text-green-600":"text-red-600"])},o(r($.value.amount)),3)]),e("div",null,[l[36]||(l[36]=e("span",{class:"text-gray-600"},"Akun:",-1)),e("p",Zt,o($.value.transaction?.account?.name),1)]),e("div",null,[l[37]||(l[37]=e("span",{class:"text-gray-600"},"Metode:",-1)),e("p",ea,o(n($.value.payment_method)),1)]),e("div",null,[l[38]||(l[38]=e("span",{class:"text-gray-600"},"Tanggal:",-1)),e("p",ta,o(t($.value.created_at)),1)]),$.value.note?(m(),c("div",aa,[l[39]||(l[39]=e("span",{class:"text-gray-600"},"Catatan:",-1)),e("p",sa,o($.value.note),1)])):f("",!0)])])):f("",!0)])]),_:1},8,["show","description","confirm-loading"])]))}},oa=ae(la,[["__scopeId","data-v-eabc4509"]]),na={class:"py-2 min-h-screen relative overflow-hidden"},ia={class:"w-full px-4 sm:px-6 lg:px-8 relative z-10"},ra={class:"flex items-center justify-between"},da={class:"flex items-center gap-3"},ua={class:"text-xl"},ma={class:"font-medium"},ca={class:"flex mb-4","aria-label":"Breadcrumb"},pa={class:"flex items-center space-x-2 text-sm"},ga={class:"flex items-center"},ba={class:"flex items-center"},xa={class:"text-gray-700 font-medium"},ya={class:"relative overflow-hidden bg-gradient-to-br from-pink-50 via-white to-blue-50 rounded-3xl border border-pink-100/40 shadow-md p-4 mb-4"},va={class:"relative flex items-center justify-between mb-2"},fa={class:"flex items-center gap-4"},ka={class:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-2xl flex items-center justify-center shadow-md"},ha={class:"text-2xl text-white"},_a={class:"text-2xl font-bold text-gray-800"},wa={class:"flex items-center gap-3 mt-2"},ja={key:0,class:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800"},$a={class:"flex items-center gap-3"},Ia={key:1,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm"},Va={class:"relative grid grid-cols-3 md:grid-cols-4 gap-2 mt-4"},Pa={class:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-blue-200/50 shadow-sm"},Ca={class:"text-xl font-bold text-blue-700"},Ta={class:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-orange-200/50 shadow-sm"},Ma={class:"text-xl font-bold text-orange-700"},Sa={class:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-green-200/50 shadow-sm"},Da={class:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-purple-200/50 shadow-sm"},Ba={class:"text-xl font-bold text-purple-700"},Ua={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Aa={class:"lg:col-span-2 space-y-4"},qa={key:0,class:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100"},Ea={class:"grid grid-cols-2 gap-4"},Oa={class:"space-y-1"},La={class:"font-bold text-gray-800 text-lg"},Fa={class:"space-y-1"},Ka={class:"font-bold text-green-600 text-lg"},za={class:"col-span-2 space-y-1"},Ja={class:"bg-white/70 rounded-xl p-3 border border-gray-200"},Na={class:"flex items-center justify-between"},Ra={class:"text-sm text-gray-600"},Ga={class:"font-bold text-blue-600 text-lg"},Ha={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-lg"},Qa={class:"space-y-4"},Wa={class:"flex justify-between text-sm"},Xa={class:"font-medium text-gray-700"},Ya={class:"text-gray-600"},Za={class:"w-full bg-gray-200 rounded-full h-4"},es={class:"flex justify-between text-xs text-gray-500"},ts={key:0,class:"text-red-500 font-semibold"},as={key:1,class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-lg"},ss={class:"text-gray-700 leading-relaxed"},ls={key:2,class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-lg"},os={class:"space-y-4"},ns={key:0,class:"flex items-center justify-between p-4 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl border border-pink-200"},is={class:"font-medium text-gray-800 flex items-center gap-2"},rs={key:0,class:"text-lg"},ds={key:1,class:"text-lg"},us={key:1,class:"space-y-4"},ms={key:0,class:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-200"},cs={class:"text-lg"},ps={key:1,class:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200"},gs={class:"flex items-center justify-between mb-3"},bs={class:"text-xs text-gray-500 break-all bg-white/50 p-2 rounded-lg"},xs={key:2,class:"space-y-4"},ys={key:0,class:"p-4 bg-gradient-to-r from-purple-50 to-violet-50 rounded-xl border border-purple-200"},vs={class:"flex items-center justify-between mb-3"},fs={class:"text-xs text-gray-500 break-all bg-white/50 p-2 rounded-lg"},ks={key:1,class:"p-4 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200"},hs={class:"text-sm text-gray-700 bg-white/50 p-3 rounded-lg"},_s={key:3,class:"grid grid-cols-2 gap-2"},ws={key:0,class:"p-3 bg-white rounded-xl border border-gray-200 text-center hover:shadow-md transition-shadow"},js={class:"text-xs text-gray-500 block capitalize mb-2"},$s={class:"font-medium text-gray-800 text-sm"},Is={key:3,class:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg"},Vs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ps={class:"text-xs text-gray-500 block capitalize mb-2"},Cs={class:"font-medium text-gray-800 text-sm"},Ts={class:"space-y-4"},Ms={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-lg"},Ss={class:"space-y-4"},Ds={class:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl"},Bs={class:"font-medium text-gray-800"},Us={class:"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl"},As={class:"font-medium text-gray-800"},qs={class:"flex items-center justify-between p-3 bg-gradient-to-r from-purple-50 to-violet-50 rounded-xl"},Es={class:"font-medium text-gray-800 capitalize"},Os={class:"flex items-center justify-between p-3 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl"},Ls={class:"font-bold text-orange-700"},Fs={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-lg"},Ks={class:"space-y-3"},zs={key:1,class:"text-center p-3 bg-gray-50 rounded-xl"},Js={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-lg"},Ns={class:"space-y-4"},Rs={class:"flex items-center gap-3"},Gs={class:"text-xs text-gray-500"},Hs={class:"flex items-center gap-3"},Qs={class:"text-xs text-gray-500"},Ws={class:"space-y-6 max-h-[70vh] overflow-y-auto pr-2"},Xs={class:"space-y-4"},Ys={class:"flex items-center justify-between"},Zs={key:0,class:"flex gap-2"},el={key:0},tl={class:"text-xs text-gray-500 mt-1"},al={key:1},sl={key:0,class:"text-xs text-gray-500 mt-1"},ll={key:0,class:"space-y-4"},ol={class:"grid grid-cols-2 gap-4"},nl={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-200"},il={class:"flex items-center justify-between"},rl={class:"text-xs text-gray-500"},dl={class:"text-right"},ul={class:"text-xl font-bold text-green-600"},ml={key:1,class:"grid grid-cols-1 gap-4"},cl={key:2,class:"space-y-4"},pl={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-4 border border-pink-100"},gl={class:"space-y-4"},bl={key:0,class:"space-y-3"},xl={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},yl={class:"text-lg"},vl={class:"flex gap-4"},fl=["value","onUpdate:modelValue"],kl={class:"text-sm font-medium text-gray-700"},hl={key:1,class:"space-y-2"},_l={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},wl={class:"text-lg"},jl=["onUpdate:modelValue"],$l={value:""},Il=["value"],Vl={key:2,class:"space-y-2"},Pl={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Cl={class:"text-lg"},Tl=["type","onUpdate:modelValue","placeholder"],Ml={key:3,class:"space-y-2"},Sl={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Dl={class:"text-lg"},Bl=["onUpdate:modelValue","placeholder"],Ul={key:4,class:"space-y-2"},Al={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},ql={class:"text-lg"},El=["onUpdate:modelValue","placeholder"],Ol={key:5,class:"space-y-2"},Ll={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Fl={class:"text-lg"},Kl=["onUpdate:modelValue"],zl={key:3,class:"p-2 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl"},Jl={__name:"Show",props:{item:Object,project:Object,canEdit:Boolean},setup(a){const x=a,k=I(!1);I(1),I(0);const M=I(!1),v=I([]);ce(()=>{q()});const s=ve({item_type:x.item.item_type,item_category:x.item.item_category||"",name:x.item.name,description:x.item.description||"",planned_amount:x.item.planned_amount,actual_spent:x.item.actual_spent,status:x.item.status,details:x.item.details||{}}),S=V(()=>v.value&&v.value.length>0),U=V(()=>M.value||!S.value),A=V(()=>!v.value||!Array.isArray(v.value)?[]:v.value.map(r=>({value:r,label:r}))),q=async()=>{try{console.log("Loading categories for project:",x.project.id);const r=await fe.get(route("projects.items.api.categories",{project:x.project.id}));console.log("Categories API response:",r.data),r.data&&r.data.success?v.value=r.data.categories||[]:Array.isArray(r.data)?v.value=r.data:r.data&&Array.isArray(r.data.categories)?v.value=r.data.categories:(console.warn("Unexpected categories response format:",r.data),v.value=[]),console.log("Final available categories:",v.value)}catch(r){console.error("Error loading categories:",r),v.value=[]}},C=V(()=>["goods","material"].includes(s.item_type)),$=V(()=>{if(!C.value)return s.planned_amount;const r=parseFloat(s.details.quantity)||0,t=parseFloat(s.details.unit_price)||0;return r*t}),j=V(()=>x.canEdit&&x.item.status!=="complete"),h=V(()=>["goods","material"].includes(x.item.item_type)),F=V(()=>x.item.details?["ukuran","warna","material","merk"].some(t=>x.item.details[t]):!1),K=V(()=>{if(!x.item.details)return!1;const r={...x.item.details};return delete r.quantity,delete r.unit_price,Object.keys(r).length>0}),Q=[{value:"goods",label:"ðŸ›ï¸ Barang"},{value:"service",label:"ðŸ‘¨â€ðŸ’¼ Jasa"},{value:"document",label:"ðŸ“„ Dokumen"},{value:"task",label:"âœ… Tugas"},{value:"material",label:"ðŸ—ï¸ Material"}],D=[{value:"needed",label:"â³ Diperlukan"},{value:"in_progress",label:"ðŸš§ Dalam Proses"},{value:"ready",label:"ðŸ“¦ Siap"},{value:"complete",label:"âœ… Selesai"},{value:"cancelled",label:"âŒ Dibatalkan"}],W=[{value:"online",label:"ðŸ›’ Beli Online"},{value:"store",label:"ðŸª Beli di Toko"}],B={shopee:{name:"Shopee",icon:"ðŸŸ ",color:"text-orange-500"},tokopedia:{name:"Tokopedia",icon:"ðŸŸ¢",color:"text-green-500"},lazada:{name:"Lazada",icon:"ðŸ”µ",color:"text-blue-500"},blibli:{name:"Blibli",icon:"ðŸ”´",color:"text-red-500"},bukalapak:{name:"Bukalapak",icon:"ðŸŸ¡",color:"text-yellow-500"},other:{name:"Lainnya",icon:"ðŸ›’",color:"text-gray-500"}},E=V(()=>({goods:[{key:"purchase_type",label:"Cara Pembelian",type:"radio",icon:"ðŸ›’",options:W},...s.details?.purchase_type==="online"?[{key:"ecommerce_platform",label:"Platform Online",type:"select",icon:"ðŸ“±",options:Object.entries(B).map(([t,n])=>({value:t,label:`${n.icon} ${n.name}`}))},{key:"online_link",label:"Link Produk",type:"url",icon:"ðŸ”—",placeholder:"https://..."}]:[],...s.details?.purchase_type==="store"?[{key:"store_maps",label:"Link Google Maps",type:"url",icon:"ðŸ—ºï¸",placeholder:"https://maps.google.com/..."},{key:"store_address",label:"Alamat Toko",type:"textarea",icon:"ðŸª",placeholder:"Alamat lengkap toko..."}]:[],{key:"ukuran",label:"Ukuran",type:"text",icon:"ðŸ“"},{key:"warna",label:"Warna",type:"text",icon:"ðŸŽ¨"},{key:"material",label:"Material",type:"text",icon:"âš™ï¸"},{key:"merk",label:"Merk",type:"text",icon:"ðŸ·ï¸"}],service:[{key:"vendor_kontak",label:"Kontak Vendor",type:"text",icon:"ðŸ“ž"},{key:"tanggal_kontrak",label:"Tanggal Kontrak",type:"date",icon:"ðŸ“…"},{key:"sisa_pembayaran",label:"Sisa Pembayaran",type:"number",icon:"ðŸ’°"},{key:"menu_pilihan",label:"Menu Pilihan",type:"text",icon:"ðŸ½ï¸"},{key:"lokasi",label:"Lokasi",type:"text",icon:"ðŸ“"}],document:[{key:"tanggal_kadaluarsa",label:"Tanggal Kadaluarsa",type:"date",icon:"ðŸ“…"},{key:"lokasi_fisik",label:"Lokasi Fisik",type:"text",icon:"ðŸ“"},{key:"status_legalitas",label:"Status Legalitas",type:"text",icon:"âš–ï¸"},{key:"nomor_dokumen",label:"Nomor Dokumen",type:"text",icon:"ðŸ”¢"}],task:[{key:"pihak_pengurus",label:"Pihak Pengurus",type:"text",icon:"ðŸ‘¤"},{key:"biaya_administrasi",label:"Biaya Administrasi",type:"number",icon:"ðŸ’°"},{key:"progress_persentase",label:"Progress (%)",type:"number",icon:"ðŸ“Š"},{key:"deadline",label:"Deadline",type:"date",icon:"â°"}],material:[{key:"kuantitas_target",label:"Kuantitas Target",type:"number",icon:"ðŸ“¦"},{key:"satuan",label:"Satuan",type:"text",icon:"âš–ï¸"},{key:"supplier_preferensi",label:"Supplier Preferensi",type:"text",icon:"ðŸª"},{key:"spesifikasi",label:"Spesifikasi",type:"text",icon:"ðŸ“‹"}]})[s.item_type]||[]);oe([()=>s.details.quantity,()=>s.details.unit_price],()=>{C.value&&(s.planned_amount=$.value)}),oe(()=>s.item_type,(r,t)=>{if(r!==t){if(r!=="goods"){const{purchase_type:n,ecommerce_platform:i,online_link:l,store_maps:g,store_address:ge,...be}=s.details;s.details=be}["goods","material"].includes(r)&&(s.details.quantity||(s.details.quantity=1),s.details.unit_price||(s.details.unit_price=0),s.planned_amount=$.value)}});const N=()=>{s.item_type=x.item.item_type,s.item_category=x.item.item_category||"",s.name=x.item.name,s.description=x.item.description||"",s.planned_amount=x.item.planned_amount,s.actual_spent=x.item.actual_spent,s.status=x.item.status,s.details=x.item.details||{},M.value=!0,["goods","material"].includes(x.item.item_type)&&(s.details.quantity=x.item.details?.quantity||1,s.details.unit_price=x.item.details?.unit_price||0),k.value=!0},z=()=>{s.put(route("projects.items.update",{project:x.project.id,item:x.item.id}),{preserveScroll:!0,onSuccess:()=>{k.value=!1,s.reset(),de.reload()},onError:r=>{console.error("Update error:",r)}})},J=()=>{k.value=!1,s.clearErrors(),s.reset()},ee=()=>{de.reload({only:["item"]})},X=r=>{r&&window.open(r,"_blank")},Y=()=>{C.value&&(s.planned_amount=$.value)},O=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),y=r=>({goods:"Barang",service:"Jasa",document:"Dokumen",task:"Tugas",material:"Material"})[r]||r,d=r=>({needed:"Diperlukan",in_progress:"Dalam Proses",ready:"Siap",complete:"Selesai",cancelled:"Dibatalkan"})[r]||r,w=r=>({planning:"Perencanaan",on_going:"Berjalan",completed:"Selesai",cancelled:"Dibatalkan"})[r]||r;return(r,t)=>(m(),le(we,{title:`${a.item.name} - ${a.project.name}`},{default:_(()=>[e("div",na,[e("div",ia,[r.$page.props.flash.message?(m(),c("div",{key:0,class:P(["mb-6 p-4 rounded-2xl border backdrop-blur-sm transition-all duration-300",{"bg-green-50 border-green-200 text-green-800":r.$page.props.flash.message.type==="success","bg-red-50 border-red-200 text-red-800":r.$page.props.flash.message.type==="error"}])},[e("div",ra,[e("div",da,[e("span",ua,o(r.$page.props.flash.message.type==="success"?"âœ…":"âš ï¸"),1),e("span",ma,o(r.$page.props.flash.message.message),1)]),e("button",{onClick:t[0]||(t[0]=n=>r.$page.props.flash.message=null),class:"text-gray-500 hover:text-gray-700 transition-colors"}," âœ• ")])],2)):f("",!0),e("nav",ca,[e("ol",pa,[e("li",null,[b(p(re),{href:r.route("projects.index"),class:"text-gray-600 hover:text-pink-600 transition-colors flex items-center gap-1"},{default:_(()=>[...t[18]||(t[18]=[e("span",{class:"text-lg"},"ðŸ’¼",-1),e("span",null,"Projects",-1)])]),_:1},8,["href"])]),e("li",ga,[t[19]||(t[19]=e("span",{class:"text-gray-400 mx-2"},"â€º",-1)),b(p(re),{href:r.route("projects.items.index",{project:a.project.id}),class:"text-gray-600 hover:text-pink-600 transition-colors"},{default:_(()=>[u(o(a.project.name),1)]),_:1},8,["href"])]),e("li",ba,[t[20]||(t[20]=e("span",{class:"text-gray-400 mx-2"},"â€º",-1)),e("span",xa,o(a.item.name),1)])])]),e("div",ya,[t[31]||(t[31]=e("div",{class:"absolute -top-10 -right-10 w-40 h-40 bg-pink-100/40 rounded-full blur-3xl"},null,-1)),t[32]||(t[32]=e("div",{class:"absolute -bottom-12 -left-12 w-48 h-48 bg-blue-100/40 rounded-full blur-3xl"},null,-1)),e("div",va,[e("div",fa,[e("div",ka,[e("span",ha,o(a.item.item_type_icon),1)]),e("div",null,[e("h1",_a,o(a.item.name),1),e("div",wa,[e("span",{class:P(["px-3 py-1 rounded-full text-sm font-medium",a.item.item_type_badge])},o(y(a.item.item_type)),3),e("span",{class:P(["px-3 py-1 rounded-full text-sm font-medium",a.item.status_badge])},o(a.item.status_icon)+" "+o(d(a.item.status)),3),a.item.item_category&&a.item.item_category!=="Uncategorized"?(m(),c("span",ja," ðŸ“‚ "+o(a.item.item_category),1)):f("",!0)])])]),e("div",$a,[j.value?(m(),le(T,{key:0,onClick:N,variant:"primary",size:"sm"},{icon:_(()=>[...t[21]||(t[21]=[u("âœï¸",-1)])]),default:_(()=>[t[22]||(t[22]=u(" Edit Item ",-1))]),_:1})):(m(),c("div",Ia," ðŸ”’ Read Only "))])]),e("div",Va,[e("div",Pa,[t[23]||(t[23]=e("div",{class:"text-2xl mb-2"},"ðŸ’°",-1)),e("div",Ca,o(a.item.formatted_planned_amount),1),t[24]||(t[24]=e("div",{class:"text-sm text-gray-600"},"Rencana Biaya",-1))]),e("div",Ta,[t[25]||(t[25]=e("div",{class:"text-2xl mb-2"},"ðŸ’¸",-1)),e("div",Ma,o(a.item.formatted_actual_spent),1),t[26]||(t[26]=e("div",{class:"text-sm text-gray-600"},"Realisasi",-1))]),e("div",Sa,[t[27]||(t[27]=e("div",{class:"text-2xl mb-2"},"ðŸ“Š",-1)),e("div",{class:P(["text-xl font-bold",a.item.remaining_amount>=0?"text-green-700":"text-red-700"])},o(a.item.formatted_remaining_amount),3),t[28]||(t[28]=e("div",{class:"text-sm text-gray-600"},"Sisa Anggaran",-1))]),e("div",Da,[t[29]||(t[29]=e("div",{class:"text-2xl mb-2"},"ðŸ“ˆ",-1)),e("div",Ba,o(a.item.progress_percentage.toFixed(1))+"%",1),t[30]||(t[30]=e("div",{class:"text-sm text-gray-600"},"Progress",-1))])])]),e("div",Ua,[e("div",Aa,[h.value&&a.item.details?(m(),c("div",qa,[t[38]||(t[38]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"ðŸ“Š"),u(" Informasi Kuantitas & Harga ")],-1)),e("div",Ea,[e("div",Oa,[t[34]||(t[34]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ðŸ“¦"),u(" Quantity ")],-1)),e("p",La,[u(o(a.item.details.quantity||0)+" ",1),t[33]||(t[33]=e("span",{class:"text-sm font-normal text-gray-500"},"unit",-1))])]),e("div",Fa,[t[35]||(t[35]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ðŸ’°"),u(" Harga Satuan ")],-1)),e("p",Ka,o(O(a.item.details.unit_price||0)),1)]),e("div",za,[t[37]||(t[37]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ðŸ§®"),u(" Perhitungan Total ")],-1)),e("div",Ja,[e("div",Na,[e("span",Ra,o(a.item.details.quantity||0)+" Ã— "+o(O(a.item.details.unit_price||0)),1),e("span",Ga," = "+o(O(a.item.planned_amount)),1)]),t[36]||(t[36]=e("p",{class:"text-xs text-gray-500 mt-1"}," Total rencana biaya dihitung otomatis dari quantity Ã— harga satuan ",-1))])])])])):f("",!0),e("div",Ha,[t[39]||(t[39]=e("h2",{class:"font-semibold text-xl text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ“ˆ"),u(" Progress Keuangan ")],-1)),e("div",Qa,[e("div",Wa,[e("span",Xa,o(a.item.progress_percentage.toFixed(1))+"%",1),e("span",Ya,o(a.item.formatted_actual_spent)+" / "+o(a.item.formatted_planned_amount),1)]),e("div",Za,[e("div",{class:"h-4 rounded-full transition-all duration-1000 bg-gradient-to-r from-pink-400 to-rose-500 shadow-lg",style:ie({width:Math.min(a.item.progress_percentage,100)+"%"})},null,4)]),e("div",es,[e("span",null,"Sisa: "+o(a.item.formatted_remaining_amount),1),a.item.remaining_amount<0?(m(),c("span",ts," âš ï¸ Melebihi budget ")):f("",!0)])])]),a.item.description?(m(),c("div",as,[t[40]||(t[40]=e("h2",{class:"font-semibold text-xl text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ“„"),u(" Deskripsi ")],-1)),e("p",ss,o(a.item.description),1)])):f("",!0),a.item.item_type==="goods"&&a.item.details&&K.value?(m(),c("div",ls,[t[50]||(t[50]=e("h2",{class:"font-semibold text-xl text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ›ï¸"),u(" Informasi Pembelian ")],-1)),e("div",os,[a.item.details.purchase_type?(m(),c("div",ns,[t[41]||(t[41]=e("span",{class:"text-sm text-gray-600 font-medium"},"Cara Pembelian:",-1)),e("span",is,[a.item.details.purchase_type==="online"?(m(),c("span",rs,"ðŸ›’")):(m(),c("span",ds,"ðŸª")),u(" "+o(a.item.details.purchase_type==="online"?"Beli Online":"Beli di Toko"),1)])])):f("",!0),a.item.details.purchase_type==="online"?(m(),c("div",us,[a.item.details.ecommerce_platform?(m(),c("div",ms,[t[42]||(t[42]=e("span",{class:"text-sm text-gray-600 font-medium"},"Platform:",-1)),e("span",{class:P(["font-medium flex items-center gap-2",B[a.item.details.ecommerce_platform]?.color])},[e("span",cs,o(B[a.item.details.ecommerce_platform]?.icon),1),u(" "+o(B[a.item.details.ecommerce_platform]?.name),1)],2)])):f("",!0),a.item.details.online_link?(m(),c("div",ps,[e("div",gs,[t[45]||(t[45]=e("span",{class:"text-sm text-gray-600 font-medium"},"Link Produk:",-1)),b(T,{onClick:t[1]||(t[1]=n=>X(a.item.details.online_link)),variant:"primary",size:"sm",class:"!px-4 !py-2"},{icon:_(()=>[...t[43]||(t[43]=[u("ðŸ”—",-1)])]),default:_(()=>[t[44]||(t[44]=u(" Buka Link ",-1))]),_:1})]),e("p",bs,o(a.item.details.online_link),1)])):f("",!0)])):f("",!0),a.item.details.purchase_type==="store"?(m(),c("div",xs,[a.item.details.store_maps?(m(),c("div",ys,[e("div",vs,[t[48]||(t[48]=e("span",{class:"text-sm text-gray-600 font-medium"},"Lokasi Toko:",-1)),b(T,{onClick:t[2]||(t[2]=n=>X(a.item.details.store_maps)),variant:"primary",size:"sm",class:"!px-4 !py-2"},{icon:_(()=>[...t[46]||(t[46]=[u("ðŸ—ºï¸",-1)])]),default:_(()=>[t[47]||(t[47]=u(" Buka Maps ",-1))]),_:1})]),e("p",fs,o(a.item.details.store_maps),1)])):f("",!0),a.item.details.store_address?(m(),c("div",ks,[t[49]||(t[49]=e("span",{class:"text-sm text-gray-600 font-medium block mb-3"},"Alamat Toko:",-1)),e("p",hs,o(a.item.details.store_address),1)])):f("",!0)])):f("",!0),F.value?(m(),c("div",_s,[(m(),c(R,null,G(["ukuran","warna","material","merk"],n=>e("div",{key:n},[a.item.details[n]?(m(),c("div",ws,[e("span",js,o(n),1),e("span",$s,o(a.item.details[n]),1)])):f("",!0)])),64))])):f("",!0)])])):f("",!0),a.item.details&&Object.keys(a.item.details).length>0&&a.item.item_type!=="goods"?(m(),c("div",Is,[t[51]||(t[51]=e("h2",{class:"font-semibold text-xl text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ”§"),u(" Detail Tambahan ")],-1)),e("div",Vs,[(m(!0),c(R,null,G(a.item.details,(n,i)=>(m(),c("div",{key:i,class:"p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200 hover:shadow-md transition-shadow"},[e("span",Ps,o(i.replace("_"," ")),1),e("span",Cs,o(n),1)]))),128))])])):f("",!0),b(st,{"project-item":a.item,checklists:a.item.checklists||[],"item-name":a.item.name,onChecklistUpdated:ee},null,8,["project-item","checklists","item-name"]),b(oa,{"project-item":a.item,payments:a.item.payments||[],"item-name":a.item.name,onPaymentUpdated:r.loadPayments},null,8,["project-item","payments","item-name","onPaymentUpdated"])]),e("div",Ts,[e("div",Ms,[t[56]||(t[56]=e("h3",{class:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ’¼"),u(" Project Info ")],-1)),e("div",Ss,[e("div",Ds,[t[52]||(t[52]=e("span",{class:"text-sm text-gray-600"},"Project",-1)),e("p",Bs,o(a.project.name),1)]),e("div",Us,[t[53]||(t[53]=e("span",{class:"text-sm text-gray-600"},"Kategori",-1)),e("p",As,o(a.project.category.name),1)]),e("div",qs,[t[54]||(t[54]=e("span",{class:"text-sm text-gray-600"},"Status Project",-1)),e("p",Es,o(w(a.project.status)),1)]),e("div",Os,[t[55]||(t[55]=e("span",{class:"text-sm text-gray-600"},"Target Budget",-1)),e("p",Ls,o(O(a.project.target_total_amount)),1)])])]),e("div",Fs,[t[60]||(t[60]=e("h3",{class:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"âš¡"),u(" Quick Actions ")],-1)),e("div",Ks,[j.value?(m(),le(T,{key:0,onClick:N,variant:"primary",class:"w-full justify-center"},{icon:_(()=>[...t[57]||(t[57]=[u("âœï¸",-1)])]),default:_(()=>[t[58]||(t[58]=u(" Edit Item ",-1))]),_:1})):(m(),c("div",zs,[...t[59]||(t[59]=[e("p",{class:"text-sm text-gray-600"},"Item sudah selesai, tidak dapat diedit",-1)])]))])]),e("div",Js,[t[65]||(t[65]=e("h3",{class:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2"},[e("span",null,"ðŸ•’"),u(" Timeline ")],-1)),e("div",Ns,[e("div",Rs,[t[62]||(t[62]=e("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white text-sm"},"âœ“")],-1)),e("div",null,[t[61]||(t[61]=e("p",{class:"text-sm font-medium text-gray-800"},"Dibuat",-1)),e("p",Gs,o(a.item.created_at),1)])]),e("div",Hs,[t[64]||(t[64]=e("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white text-sm"},"â†»")],-1)),e("div",null,[t[63]||(t[63]=e("p",{class:"text-sm font-medium text-gray-800"},"Terakhir Diupdate",-1)),e("p",Qs,o(a.item.updated_at),1)])])])])])]),b(pe,{show:k.value,"onUpdate:show":t[17]||(t[17]=n=>k.value=n),title:"Edit Item Project",description:"Perbarui informasi item project "+a.item.name,icon:"âœï¸","confirm-text":"Perbarui","confirm-loading":p(s).processing,onConfirm:z,onClose:J,size:"xl"},{default:_(()=>[e("div",Ws,[b(H,{modelValue:p(s).item_type,"onUpdate:modelValue":t[3]||(t[3]=n=>p(s).item_type=n),label:"Jenis Item",placeholder:"Pilih jenis item",options:Q,error:p(s).errors.item_type,icon:"ðŸ·ï¸",required:"",disabled:p(s).processing},null,8,["modelValue","error","disabled"]),e("div",Xs,[e("div",Ys,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},[e("span",{class:"text-lg"},"ðŸ“‚"),u(" Kategori Item ")],-1)),S.value?(m(),c("div",Zs,[b(T,{onClick:t[4]||(t[4]=n=>M.value=!1),variant:"secondary",size:"xs",class:P(U.value?"":"ring-2 ring-pink-400")},{icon:_(()=>[...t[66]||(t[66]=[u("ðŸ“‹",-1)])]),default:_(()=>[t[67]||(t[67]=u(" Pilih Kategori ",-1))]),_:1},8,["class"]),b(T,{onClick:t[5]||(t[5]=n=>M.value=!0),variant:"secondary",size:"xs",class:P(U.value?"ring-2 ring-pink-400":"")},{icon:_(()=>[...t[68]||(t[68]=[u("âž•",-1)])]),default:_(()=>[t[69]||(t[69]=u(" Kategori Baru ",-1))]),_:1},8,["class"])])):f("",!0)]),!U.value&&S.value?(m(),c("div",el,[b(H,{modelValue:p(s).item_category,"onUpdate:modelValue":t[6]||(t[6]=n=>p(s).item_category=n),label:"Pilih Kategori",placeholder:"Pilih kategori yang sudah ada",options:A.value,error:p(s).errors.item_category,icon:"ðŸ“‚",disabled:p(s).processing},null,8,["modelValue","options","error","disabled"]),e("p",tl," Pilih dari "+o(v.value.length)+" kategori yang sudah ada ",1)])):(m(),c("div",al,[b(ue,{modelValue:p(s).item_category,"onUpdate:modelValue":t[7]||(t[7]=n=>p(s).item_category=n),label:"Kategori Item",placeholder:"Contoh: Perlengkapan Kamar, Dekorasi, Katering, dll.",error:p(s).errors.item_category,icon:"ðŸ“‚",disabled:p(s).processing},null,8,["modelValue","error","disabled"]),S.value?(m(),c("p",sl,[t[71]||(t[71]=u(" Atau ",-1)),e("button",{type:"button",onClick:t[8]||(t[8]=n=>M.value=!1),class:"text-pink-500 hover:text-pink-700 underline"}," pilih dari kategori yang sudah ada ")])):f("",!0)]))]),b(ue,{modelValue:p(s).name,"onUpdate:modelValue":t[9]||(t[9]=n=>p(s).name=n),label:"Nama Item",placeholder:"Contoh: Cincin Nikah, Vendor Katering, IMB, Semen Portland",error:p(s).errors.name,icon:"ðŸ“",required:"",disabled:p(s).processing},null,8,["modelValue","error","disabled"]),b(ne,{modelValue:p(s).description,"onUpdate:modelValue":t[10]||(t[10]=n=>p(s).description=n),label:"Deskripsi",placeholder:"Deskripsi detail tentang item ini...",error:p(s).errors.description,icon:"ðŸ“„",disabled:p(s).processing},null,8,["modelValue","error","disabled"]),C.value?(m(),c("div",ll,[e("div",ol,[b(te,{label:"Qty Barang",modelValue:p(s).details.quantity,"onUpdate:modelValue":t[11]||(t[11]=n=>p(s).details.quantity=n),placeholder:"Jumlah barang",icon:"ðŸ’°",required:"",min:"1",disabled:p(s).processing,onInput:Y},null,8,["modelValue","disabled"]),b(te,{label:"Rencana Biaya",modelValue:p(s).details.unit_price,"onUpdate:modelValue":t[12]||(t[12]=n=>p(s).details.unit_price=n),placeholder:"Harga per unit",icon:"ðŸ’°",required:"","account-type":"account_number",min:"0",disabled:p(s).processing,onInput:Y},null,8,["modelValue","disabled"])]),e("div",nl,[e("div",il,[e("div",null,[t[72]||(t[72]=e("p",{class:"text-sm font-medium text-gray-700"},"Total Rencana Biaya:",-1)),e("p",rl,o(p(s).details.quantity||0)+" Ã— "+o(O(p(s).details.unit_price||0)),1)]),e("div",dl,[e("p",ul,o(O($.value)),1),t[73]||(t[73]=e("p",{class:"text-xs text-gray-500"},"Terhitung otomatis",-1))])])]),L(e("input",{type:"hidden","onUpdate:modelValue":t[13]||(t[13]=n=>p(s).planned_amount=n)},null,512),[[Z,p(s).planned_amount]])])):(m(),c("div",ml,[b(te,{modelValue:p(s).planned_amount,"onUpdate:modelValue":t[14]||(t[14]=n=>p(s).planned_amount=n),label:"Rencana Biaya",placeholder:"Biaya yang direncanakan",error:p(s).errors.planned_amount,icon:"ðŸ’°","account-type":"account_number",disabled:p(s).processing},null,8,["modelValue","error","disabled"])])),L(e("input",{type:"hidden","onUpdate:modelValue":t[15]||(t[15]=n=>p(s).actual_spent=n)},null,512),[[Z,p(s).actual_spent]]),b(H,{modelValue:p(s).status,"onUpdate:modelValue":t[16]||(t[16]=n=>p(s).status=n),label:"Status Item",placeholder:"Pilih status item",options:D,error:p(s).errors.status,icon:"ðŸŸ¢",required:"",disabled:p(s).processing},null,8,["modelValue","error","disabled"]),E.value.length>0?(m(),c("div",cl,[e("div",pl,[t[74]||(t[74]=e("h4",{class:"font-semibold text-gray-800 flex items-center gap-2 text-lg mb-4"},[e("span",null,"âœ¨"),u(" Detail Tambahan ")],-1)),e("div",gl,[(m(!0),c(R,null,G(E.value,n=>(m(),c("div",{key:n.key,class:"space-y-2"},[n.type==="radio"?(m(),c("div",bl,[e("label",xl,[e("span",yl,o(n.icon),1),u(" "+o(n.label),1)]),e("div",vl,[(m(!0),c(R,null,G(n.options,i=>(m(),c("label",{key:i.value,class:P(["flex items-center space-x-2 cursor-pointer p-3 rounded-xl border-2 transition-all",p(s).details[n.key]===i.value?"border-pink-400 bg-pink-50 shadow-sm":"border-gray-200 hover:border-pink-200"])},[L(e("input",{type:"radio",value:i.value,"onUpdate:modelValue":l=>p(s).details[n.key]=l,class:"text-pink-500 focus:ring-pink-400"},null,8,fl),[[ke,p(s).details[n.key]]]),e("span",kl,o(i.label),1)],2))),128))])])):n.type==="select"?(m(),c("div",hl,[e("label",_l,[e("span",wl,o(n.icon),1),u(" "+o(n.label),1)]),L(e("select",{"onUpdate:modelValue":i=>p(s).details[n.key]=i,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all bg-white"},[e("option",$l,"Pilih "+o(n.label.toLowerCase()),1),(m(!0),c(R,null,G(n.options,i=>(m(),c("option",{key:i.value,value:i.value},o(i.label),9,Il))),128))],8,jl),[[he,p(s).details[n.key]]])])):n.type==="text"||n.type==="url"?(m(),c("div",Vl,[e("label",Pl,[e("span",Cl,o(n.icon),1),u(" "+o(n.label),1)]),L(e("input",{type:n.type,"onUpdate:modelValue":i=>p(s).details[n.key]=i,placeholder:n.placeholder||`Masukkan ${n.label.toLowerCase()}`,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,Tl),[[_e,p(s).details[n.key]]])])):n.type==="textarea"?(m(),c("div",Ml,[e("label",Sl,[e("span",Dl,o(n.icon),1),u(" "+o(n.label),1)]),L(e("textarea",{"onUpdate:modelValue":i=>p(s).details[n.key]=i,placeholder:n.placeholder||`Masukkan ${n.label.toLowerCase()}`,rows:"3",class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all resize-none"},null,8,Bl),[[Z,p(s).details[n.key]]])])):n.type==="number"?(m(),c("div",Ul,[e("label",Al,[e("span",ql,o(n.icon),1),u(" "+o(n.label),1)]),L(e("input",{type:"number","onUpdate:modelValue":i=>p(s).details[n.key]=i,placeholder:n.placeholder||`Masukkan ${n.label.toLowerCase()}`,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,El),[[Z,p(s).details[n.key]]])])):n.type==="date"?(m(),c("div",Ol,[e("label",Ll,[e("span",Fl,o(n.icon),1),u(" "+o(n.label),1)]),L(e("input",{type:"date","onUpdate:modelValue":i=>p(s).details[n.key]=i,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,Kl),[[Z,p(s).details[n.key]]])])):f("",!0)]))),128))])])])):f("",!0),t[76]||(t[76]=e("div",{class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200"},[e("p",{class:"text-sm text-gray-700 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"ðŸ’¡"),e("span",null,[e("strong",{class:"block"},"Jenis Item:"),u(" â€¢ "),e("strong",null,"Barang ðŸ›ï¸"),u(": Physical goods yang dibeli (hitung otomatis dari quantity Ã— harga satuan)"),e("br"),u(" â€¢ "),e("strong",null,"Jasa ðŸ‘¨â€ðŸ’¼"),u(": Services dari vendor/penyedia jasa"),e("br"),u(" â€¢ "),e("strong",null,"Dokumen ðŸ“„"),u(": Legal documents dan surat-surat"),e("br"),u(" â€¢ "),e("strong",null,"Tugas âœ…"),u(": Tasks dan pekerjaan yang perlu diselesaikan"),e("br"),u(" â€¢ "),e("strong",null,"Material ðŸ—ï¸"),u(": Bahan bangunan dan material konstruksi (hitung otomatis dari quantity Ã— harga satuan) ")])])],-1)),p(s).hasErrors?(m(),c("div",zl,[...t[75]||(t[75]=[e("p",{class:"text-sm text-red-600 flex items-center gap-2"},[e("span",null,"âš ï¸"),u(" Terdapat kesalahan dalam pengisian form. Silakan periksa kembali input Anda. ")],-1)])])):f("",!0)])]),_:1},8,["show","description","confirm-loading"])])])]),_:1},8,["title"]))}},ao=ae(Jl,[["__scopeId","data-v-38920137"]]);export{ao as default};
