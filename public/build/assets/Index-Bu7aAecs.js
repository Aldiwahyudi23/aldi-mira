import{f as I,d,a as e,h as c,F as B,m as M,t as l,b as x,w as p,l as r,o as i,C as Se,j,i as Ie,G as W,s as De,c as ee,n as T,E as pe,k as u,e as V,J as A,N as Ce,K as $e,x as Pe,y as Te}from"./app-BIFzK2ru.js";import{A as Ve}from"./AppLayout-BgOVO345.js";import{_ as E,a as me}from"./BaseCard-Or1BuTQ0.js";import{_ as S,B as te,S as Be}from"./SelectInput-T2IrN6JD.js";import{_ as se}from"./AccountInput-DcIA036O.js";import{_ as Me}from"./TextInput-D2uvotQe.js";import{_ as Fe}from"./TextAreaInput-B8ty7dPd.js";/* empty css                                                                         */import{_ as Ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Le={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-4"},qe={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},ze={class:"flex flex-wrap gap-3"},Ae={class:"block text-sm font-medium text-gray-700 mb-1"},Oe=["value","onChange"],Ee=["value"],Re={class:"flex items-end"},Je={key:0,class:"mt-3 pt-3 border-t border-gray-100"},Ne={class:"flex items-center gap-2 flex-wrap"},He=["onClick"],Ke={__name:"BaseFilterItem",props:{filters:{type:Object,required:!0},options:{type:Object,required:!0}},emits:["update:filters"],setup(b,{emit:R}){const k=b,J=R,C=I(()=>Object.values(k.filters).some(g=>g!=="")),F=I(()=>Object.fromEntries(Object.entries(k.filters).filter(([g,o])=>o!==""))),$=(g,o)=>k.options[g]?.options.find(_=>_.value===o)?.label||o,P=(g,o)=>{J("update:filters",{...k.filters,[g]:o})},U=g=>{P(g,"")},h=()=>{const g={};Object.keys(k.filters).forEach(o=>{g[o]=""}),J("update:filters",g)};return(g,o)=>(i(),d("div",Le,[e("div",qe,[o[2]||(o[2]=e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-lg"},"🔍"),e("h3",{class:"font-semibold text-gray-800"},"Filter Data")],-1)),e("div",ze,[(i(!0),d(B,null,M(b.options,(v,_)=>(i(),d("div",{key:_,class:"min-w-[150px]"},[e("label",Ae,l(v.label),1),e("select",{value:b.filters[_],onChange:D=>P(_,D.target.value),class:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all text-sm"},[(i(!0),d(B,null,M(v.options,D=>(i(),d("option",{key:D.value,value:D.value},l(D.label),9,Ee))),128))],40,Oe)]))),128)),e("div",Re,[x(S,{onClick:h,variant:"secondary",size:"sm",class:"h-[42px]",disabled:!C.value},{icon:p(()=>[...o[0]||(o[0]=[r("🔄",-1)])]),default:p(()=>[o[1]||(o[1]=r(" Reset ",-1))]),_:1},8,["disabled"])])])]),C.value?(i(),d("div",Je,[e("div",Ne,[o[3]||(o[3]=e("span",{class:"text-sm text-gray-600"},"Filter aktif:",-1)),(i(!0),d(B,null,M(F.value,(v,_)=>(i(),d("span",{key:_,class:"inline-flex items-center gap-1 px-2 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium"},[r(l($(_,v))+" ",1),e("button",{onClick:D=>U(_),class:"hover:text-pink-900 transition-colors"}," × ",8,He)]))),128))])])):c("",!0)]))}},Ge={class:"py-2 min-h-screen relative overflow-hidden"},Qe={class:"w-full px-4 sm:px-6 lg:px-8 relative z-10"},We={class:"flex items-center justify-between"},Xe={class:"flex items-center gap-3"},Ye={class:"text-xl"},Ze={class:"font-medium"},et={class:"text-center mb-4"},tt={class:"text-gray-600 text-lg max-w-2xl mx-auto"},st={class:"text-blue-500 font-semibold"},at={class:"relative overflow-hidden bg-gradient-to-br from-pink-50 via-white to-blue-50 rounded-3xl border border-pink-100/40 shadow-md p-4 mb-4"},lt={class:"relative grid grid-cols-1 md:grid-cols-3 gap-6"},nt={class:"flex items-start gap-3"},ot={class:"text-base font-medium text-gray-800 tracking-wide"},rt={class:"text-xs text-gray-500 mt-1"},it={class:"italic"},dt={class:"flex items-start gap-3"},ut={class:"text-base font-medium text-gray-800"},pt={class:"flex items-start gap-3"},mt={class:"text-base font-medium text-gray-800 capitalize"},ct={class:"grid grid-cols-2 lg:grid-cols-4 gap-2 mb-4"},gt={class:"p-4"},xt={class:"text-xl font-bold text-gray-800 mb-1"},yt={key:0,class:"text-xs text-rose-500 mt-1"},bt={class:"p-4"},vt={class:"text-xl font-bold text-gray-800 mb-1"},_t={class:"p-4"},ft={class:"text-xl font-bold text-gray-800 mb-1"},kt={key:0,class:"text-xs text-gray-500 mt-1"},ht={class:"p-4"},wt={class:"text-xl font-bold text-gray-800 mb-1"},jt={class:"grid grid-cols-4 md:grid-cols-5 gap-2 mb-4"},St={class:"p-3"},It={class:"text-2xl mb-1"},Dt={class:"text-lg font-bold text-gray-800"},Ct={class:"text-xs text-gray-600 capitalize"},$t={key:0,class:"text-xs text-pink-500 mt-1"},Pt={key:1,class:"mb-8"},Tt={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200 mb-4"},Vt={class:"text-xl font-bold text-gray-800 flex items-center gap-3 mb-2"},Bt={class:"text-sm font-normal text-gray-600 bg-white px-3 py-1 rounded-full"},Mt={class:"text-gray-600"},Ft={class:"font-bold text-blue-600"},Ut={class:"flex items-center gap-2"},Lt={class:"text-lg"},qt={class:"flex items-center gap-2"},zt={class:"font-bold text-gray-800 text-sm text-blue-700"},At={class:"flex items-center gap-2"},Ot={class:"font-bold text-gray-800 text-sm text-orange-700"},Et={class:"flex items-center gap-2"},Rt={class:"space-y-1"},Jt={class:"flex justify-between text-xs"},Nt={class:"font-medium"},Ht={class:"w-full bg-gray-200 rounded-full h-2"},Kt={class:"flex items-center gap-2"},Gt={class:"text-lg"},Qt={class:"flex items-center gap-2"},Wt={class:"font-medium text-gray-700 text-sm"},Xt={key:2,class:"mb-8"},Yt={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200 mb-4"},Zt={class:"text-xl font-bold text-gray-800 flex items-center gap-3 mb-2"},es={class:"text-sm font-normal text-gray-600 bg-white px-3 py-1 rounded-full"},ts={class:"text-gray-600"},ss={class:"font-bold text-green-600"},as={class:"flex items-center gap-2"},ls={class:"text-lg"},ns={class:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700"},os={class:"flex items-center gap-2"},rs={class:"font-bold text-gray-800 text-sm text-blue-700"},is={class:"flex items-center gap-2"},ds={class:"font-bold text-gray-800 text-sm text-green-700"},us={class:"flex items-center gap-2"},ps={class:"font-medium text-gray-700 text-sm"},ms={key:3,class:"text-center mt-6"},cs={class:"bg-white/80 backdrop-blur-md rounded-3xl shadow-lg p-8 border border-gray-100"},gs={class:"text-xl font-bold text-gray-800 mb-2"},xs={class:"text-gray-600 mb-6 max-w-md mx-auto"},ys={key:0},bs={key:1},vs={class:"flex gap-3 justify-center"},_s={key:4,class:"text-center mt-6"},fs={class:"bg-white/80 backdrop-blur-md rounded-3xl shadow-lg p-8 border border-gray-100"},ks={class:"text-gray-600 mb-6 max-w-md mx-auto"},hs={class:"space-y-6 max-h-[70vh] overflow-y-auto pr-2"},ws={key:0,class:"space-y-4"},js={class:"grid grid-cols-2 gap-4"},Ss={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-200"},Is={class:"flex items-center justify-between"},Ds={class:"text-xs text-gray-500"},Cs={class:"text-right"},$s={class:"text-xl font-bold text-green-600"},Ps={key:1,class:"grid grid-cols-1 gap-4"},Ts={key:2,class:"space-y-4"},Vs={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-4 border border-pink-100"},Bs={class:"space-y-4"},Ms={key:0,class:"space-y-3"},Fs={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Us={class:"text-lg"},Ls={class:"flex gap-4"},qs=["value","onUpdate:modelValue"],zs={class:"text-sm font-medium text-gray-700"},As={key:1,class:"space-y-2"},Os={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Es={class:"text-lg"},Rs=["onUpdate:modelValue"],Js={value:""},Ns=["value"],Hs={key:2,class:"space-y-2"},Ks={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Gs={class:"text-lg"},Qs=["type","onUpdate:modelValue","placeholder"],Ws={key:3,class:"space-y-2"},Xs={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Ys={class:"text-lg"},Zs=["onUpdate:modelValue","placeholder"],ea={key:4,class:"space-y-2"},ta={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},sa={class:"text-lg"},aa=["onUpdate:modelValue","placeholder"],la={key:5,class:"space-y-2"},na={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},oa={class:"text-lg"},ra=["onUpdate:modelValue"],ia={key:3,class:"p-2 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl"},da={key:0,class:"space-y-6"},ua={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-6 border border-pink-100"},pa={class:"grid grid-cols-2 gap-4"},ma={class:"space-y-1"},ca={class:"font-medium text-gray-800 flex items-center gap-2"},ga={class:"space-y-1"},xa={class:"font-medium text-gray-800 flex items-center gap-2"},ya={class:"space-y-1"},ba={class:"font-bold text-blue-700 text-lg"},va={key:0,class:"text-xs text-gray-500"},_a={class:"space-y-1"},fa={class:"font-bold text-orange-700 text-lg"},ka={key:0,class:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100"},ha={class:"grid grid-cols-2 gap-4"},wa={class:"space-y-1"},ja={class:"font-bold text-gray-800 text-lg"},Sa={class:"space-y-1"},Ia={class:"font-bold text-green-600 text-lg"},Da={class:"col-span-2 space-y-1"},Ca={class:"bg-white/70 rounded-xl p-3 border border-gray-200"},$a={class:"flex items-center justify-between"},Pa={class:"text-sm text-gray-600"},Ta={class:"font-bold text-blue-600 text-lg"},Va={class:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100"},Ba={class:"space-y-3"},Ma={class:"flex justify-between text-sm"},Fa={class:"font-medium text-gray-700"},Ua={class:"text-gray-600"},La={class:"w-full bg-white rounded-full h-4 shadow-inner border"},qa={class:"flex justify-between text-xs text-gray-500"},za={key:0,class:"text-red-500 font-semibold"},Aa={key:1,class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100"},Oa={class:"text-gray-700 leading-relaxed bg-white/50 p-4 rounded-xl"},Ea={key:2,class:"bg-gradient-to-r from-purple-50 to-violet-50 rounded-2xl p-6 border border-purple-100"},Ra={class:"space-y-4"},Ja={key:0,class:"flex items-center justify-between p-3 bg-white rounded-xl border"},Na={class:"font-medium text-gray-800 flex items-center gap-2"},Ha={key:0},Ka={key:1},Ga={key:1,class:"space-y-3"},Qa={key:0,class:"flex items-center justify-between p-3 bg-white rounded-xl border"},Wa={key:1,class:"p-3 bg-white rounded-xl border"},Xa={class:"flex items-center justify-between mb-2"},Ya={class:"text-xs text-gray-500 break-all"},Za={key:2,class:"space-y-3"},el={key:0,class:"p-3 bg-white rounded-xl border"},tl={class:"flex items-center justify-between mb-2"},sl={class:"text-xs text-gray-500 break-all"},al={key:1,class:"p-3 bg-white rounded-xl border"},ll={class:"text-sm text-gray-700"},nl={class:"grid grid-cols-2 gap-3"},ol={key:0,class:"p-3 bg-white rounded-xl border text-center"},rl={class:"text-xs text-gray-500 block capitalize"},il={class:"font-medium text-gray-800"},dl={key:3,class:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 border border-orange-100"},ul={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},pl={class:"text-xs text-gray-500 block capitalize mb-1"},ml={class:"font-medium text-gray-800 text-sm"},cl={class:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl p-6 border border-gray-100"},gl={class:"grid grid-cols-2 gap-4"},xl={class:"text-center p-3 bg-white rounded-xl border"},yl={class:"font-medium text-gray-800"},bl={class:"text-center p-3 bg-white rounded-xl border"},vl={class:"font-medium text-gray-800"},_l={class:"space-y-4"},fl={key:0,class:"p-4 bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-2xl"},kl={class:"grid grid-cols-2 gap-4 text-sm"},hl={class:"font-medium text-gray-800"},wl={class:"font-medium text-gray-800"},jl={class:"font-bold text-blue-700"},Sl={class:"font-bold text-orange-700"},Il={class:"font-medium text-gray-800"},Dl={class:"font-medium text-gray-800"},Cl={__name:"Index",props:{items:Array,project:Object},setup(b){const R=Se();R.props.auth.user;const k=j([]),J=j({}),C=j(!1),F=j(!1),$=j(!1),P=j(!1),U=j(!1),h=j(null),g=j(null),o=j(null),v=j(null),_=I(()=>["goods","material"].includes(n.item_type)),D=I(()=>{if(!_.value)return n.planned_amount;const a=parseFloat(n.details.quantity)||0,t=parseFloat(n.details.unit_price)||0;return a*t}),X=()=>{_.value&&(n.planned_amount=D.value)},f=j({item_type:"",status:""});W(()=>R.props.flash,a=>{(a.success||a.error)&&(v.value={message:a.success||a.error,type:a.type||(a.success?"success":"error")},setTimeout(()=>{v.value=null},5e3))},{immediate:!0});const n=Ie({item_type:"goods",name:"",description:"",planned_amount:0,actual_spent:0,status:"needed",details:{}}),L=b,ae=[{value:"goods",label:"🛍️ Barang"},{value:"service",label:"👨‍💼 Jasa"},{value:"document",label:"📄 Dokumen"},{value:"task",label:"✅ Tugas"},{value:"material",label:"🏗️ Material"}],ce=[{value:"needed",label:"⏳ Diperlukan"},{value:"in_progress",label:"🚧 Dalam Proses"},{value:"ready",label:"📦 Siap"},{value:"complete",label:"✅ Selesai"},{value:"cancelled",label:"❌ Dibatalkan"}],ge=[{value:"online",label:"🛒 Beli Online"},{value:"store",label:"🏪 Beli di Toko"}],N={shopee:{name:"Shopee",icon:"🟠",color:"text-orange-500"},tokopedia:{name:"Tokopedia",icon:"🟢",color:"text-green-500"},lazada:{name:"Lazada",icon:"🔵",color:"text-blue-500"},blibli:{name:"Blibli",icon:"🔴",color:"text-red-500"},bukalapak:{name:"Bukalapak",icon:"🟡",color:"text-yellow-500"},other:{name:"Lainnya",icon:"🛒",color:"text-gray-500"}},xe=[{key:"name",label:"Nama Item",icon:"📝",sortable:!0},{key:"item_type",label:"Jenis",icon:"🏷️",sortable:!0,type:"badge"},{key:"planned_amount",label:"Rencana Biaya",icon:"💰",sortable:!0,type:"currency"},{key:"actual_spent",label:"Realisasi",icon:"💸",sortable:!0,type:"currency"},{key:"remaining_amount",label:"Sisa",icon:"📊",sortable:!0,type:"currency"},{key:"progress_percentage",label:"Progress",icon:"📈",sortable:!0,type:"progress"},{key:"status",label:"Status",icon:"🟢",sortable:!0,type:"badge"},{key:"created_at",label:"Dibuat",icon:"📅",sortable:!0,type:"date"}],ye=[{key:"name",label:"Nama Item",icon:"📝",sortable:!0},{key:"item_type",label:"Jenis",icon:"🏷️",sortable:!0,type:"badge"},{key:"planned_amount",label:"Rencana Biaya",icon:"💰",sortable:!0,type:"currency"},{key:"actual_spent",label:"Sisa Biaya",icon:"💸",sortable:!0,type:"currency"},{key:"status",label:"Status",icon:"✅",sortable:!0,type:"badge"},{key:"completed_at",label:"Selesai",icon:"📅",sortable:!0,type:"date"}],be={item_type:{label:"Jenis Item",options:[{value:"",label:"Semua Jenis"},...ae]},status:{label:"Status",options:[{value:"",label:"Semua Status"},...ce]}},H=I(()=>{let a=k.value;return f.value.item_type&&(a=a.filter(t=>t.item_type===f.value.item_type)),f.value.status&&(a=a.filter(t=>t.status===f.value.status)),a}),w=I(()=>{const a=H.value;return{total_items:a.length,goods_count:a.filter(t=>t.item_type==="goods").length,services_count:a.filter(t=>t.item_type==="service").length,documents_count:a.filter(t=>t.item_type==="document").length,tasks_count:a.filter(t=>t.item_type==="task").length,materials_count:a.filter(t=>t.item_type==="material").length,total_planned:a.reduce((t,s)=>t+parseFloat(s.planned_amount||0),0),total_spent:a.reduce((t,s)=>t+parseFloat(s.actual_spent||0),0),total_remaining:a.reduce((t,s)=>t+parseFloat(s.remaining_amount||0),0)}}),Y=async()=>{C.value=!0;try{const a=await axios.get(route("projects.items.index",{project:L.project.id}));k.value=a.data.items||a.data}catch(a){console.error("Error loading items:",a),v.value={message:"Gagal memuat data item",type:"error"}}finally{C.value=!1}},le=a=>a&&["goods","material"].includes(a.item_type),ve=a=>{if(!a.details)return!1;const t={...a.details};return delete t.quantity,delete t.unit_price,Object.keys(t).length>0},K=async()=>{try{const a=await axios.get(route("projects.items.api.summary",{project:L.project.id}));J.value=a.data}catch(a){console.error("Error loading item summary:",a)}};De(()=>{k.value=L.items,K()});const Z=()=>{h.value=null,n.reset(),n.item_type="goods",n.status="needed",n.planned_amount=0,n.actual_spent=0,n.details={quantity:1,unit_price:0},$.value=!0},ne=a=>{if(!a.can_edit){v.value={message:"Hanya pemilik kategori dan partner dalam family yang sama yang dapat mengedit item",type:"error"};return}h.value=a,n.item_type=a.item_type,n.name=a.name,n.description=a.description,n.planned_amount=a.planned_amount,n.actual_spent=a.actual_spent,n.status=a.status,n.details=a.details||{},["goods","material"].includes(a.item_type)&&(n.details.quantity||(n.details.quantity=1),n.details.unit_price||(n.details.unit_price=0)),$.value=!0},oe=a=>{if(!a.can_edit){v.value={message:"Hanya pemilik kategori dan partner dalam family yang sama yang dapat menghapus item",type:"error"};return}g.value=a,P.value=!0},re=a=>{o.value=a,U.value=!0},_e=()=>{h.value?n.put(route("projects.items.update",{project:L.project.id,item:h.value.id}),{preserveScroll:!0,onSuccess:()=>{$.value=!1,Y(),K(),n.reset(),h.value=null},onError:a=>{console.error("Update error:",a)}}):n.post(route("projects.items.store",{project:L.project.id}),{preserveScroll:!0,onSuccess:()=>{$.value=!1,Y(),K(),n.reset()},onError:a=>{console.error("Create error:",a)}})},fe=()=>{g.value&&(F.value=!0,Te.delete(route("projects.items.destroy",{project:L.project.id,item:g.value.id}),{preserveScroll:!0,onSuccess:()=>{P.value=!1,Y(),K(),g.value=null,F.value=!1},onError:a=>{console.error("Delete error:",a),P.value=!1,F.value=!1}}))},ke=()=>{$.value=!1,h.value=null,n.clearErrors(),n.reset()},y=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),G=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),O=a=>({goods:"Barang",service:"Jasa",document:"Dokumen",task:"Tugas",material:"Material"})[a]||a,Q=a=>({needed:"Diperlukan",in_progress:"Dalam Proses",ready:"Siap",complete:"Selesai",cancelled:"Dibatalkan"})[a]||a,ie=a=>{a&&window.open(a,"_blank")},de=I(()=>({goods:[{key:"purchase_type",label:"Cara Pembelian",type:"radio",icon:"🛒",options:ge},...n.details?.purchase_type==="online"?[{key:"ecommerce_platform",label:"Platform Online",type:"select",icon:"📱",options:Object.entries(N).map(([t,s])=>({value:t,label:`${s.icon} ${s.name}`}))},{key:"online_link",label:"Link Produk",type:"url",icon:"🔗",placeholder:"https://..."}]:[],...n.details?.purchase_type==="store"?[{key:"store_maps",label:"Link Google Maps",type:"url",icon:"🗺️",placeholder:"https://maps.google.com/..."},{key:"store_address",label:"Alamat Toko",type:"textarea",icon:"🏪",placeholder:"Alamat lengkap toko..."}]:[],{key:"ukuran",label:"Ukuran",type:"text",icon:"📏"},{key:"warna",label:"Warna",type:"text",icon:"🎨"},{key:"material",label:"Material",type:"text",icon:"⚙️"},{key:"merk",label:"Merk",type:"text",icon:"🏷️"}],service:[{key:"vendor_kontak",label:"Kontak Vendor",type:"text",icon:"📞"},{key:"tanggal_kontrak",label:"Tanggal Kontrak",type:"date",icon:"📅"},{key:"sisa_pembayaran",label:"Sisa Pembayaran",type:"number",icon:"💰"},{key:"menu_pilihan",label:"Menu Pilihan",type:"text",icon:"🍽️"},{key:"lokasi",label:"Lokasi",type:"text",icon:"📍"}],document:[{key:"tanggal_kadaluarsa",label:"Tanggal Kadaluarsa",type:"date",icon:"📅"},{key:"lokasi_fisik",label:"Lokasi Fisik",type:"text",icon:"📁"},{key:"status_legalitas",label:"Status Legalitas",type:"text",icon:"⚖️"},{key:"nomor_dokumen",label:"Nomor Dokumen",type:"text",icon:"🔢"}],task:[{key:"pihak_pengurus",label:"Pihak Pengurus",type:"text",icon:"👤"},{key:"biaya_administrasi",label:"Biaya Administrasi",type:"number",icon:"💰"},{key:"progress_persentase",label:"Progress (%)",type:"number",icon:"📊"},{key:"deadline",label:"Deadline",type:"date",icon:"⏰"}],material:[{key:"kuantitas_target",label:"Kuantitas Target",type:"number",icon:"📦"},{key:"satuan",label:"Satuan",type:"text",icon:"⚖️"},{key:"supplier_preferensi",label:"Supplier Preferensi",type:"text",icon:"🏪"},{key:"spesifikasi",label:"Spesifikasi",type:"text",icon:"📋"}]})[n.item_type]||[]),q=I(()=>H.value.filter(a=>a.status!=="complete")),z=I(()=>H.value.filter(a=>a.status==="complete")),he=I(()=>{const a=q.value;return{total_items:a.length,total_planned:a.reduce((t,s)=>t+parseFloat(s.planned_amount||0),0),total_spent:a.reduce((t,s)=>t+parseFloat(s.actual_spent||0),0)}}),we=I(()=>{const a=z.value;return{total_items:a.length,total_planned:a.reduce((t,s)=>t+parseFloat(s.planned_amount||0),0),total_spent:a.reduce((t,s)=>t+parseFloat(s.actual_spent||0),0)}});return W([()=>n.details.quantity,()=>n.details.unit_price],()=>{_.value&&(n.planned_amount=D.value)}),W(()=>n.item_type,a=>{["goods","material"].includes(a)&&(n.details.quantity||(n.details.quantity=1),n.details.unit_price||(n.details.unit_price=0),X())}),W(()=>n.item_type,a=>{if(a!=="goods"){const{purchase_type:t,ecommerce_platform:s,online_link:m,store_maps:ue,store_address:$l,...je}=n.details;n.details=je}}),(a,t)=>(i(),ee(Ve,{title:`Item Project - ${b.project.name}`},{default:p(()=>[e("div",Ge,[e("div",Qe,[v.value?(i(),d("div",{key:0,class:T(["mb-6 p-4 rounded-2xl border backdrop-blur-sm transition-all duration-300",{"bg-green-50 border-green-200 text-green-800":v.value.type==="success","bg-red-50 border-red-200 text-red-800":v.value.type==="error"}])},[e("div",We,[e("div",Xe,[e("span",Ye,l(v.value.type==="success"?"✅":"⚠️"),1),e("span",Ze,l(v.value.message),1)]),e("button",{onClick:t[0]||(t[0]=s=>v.value=null),class:"text-gray-500 hover:text-gray-700 transition-colors"}," ✕ ")])],2)):c("",!0),e("div",et,[t[22]||(t[22]=e("h1",{class:"text-3xl md:text-4xl font-extrabold text-rose-600 drop-shadow-md mb-3"}," 📋 Kelola Item Project ",-1)),e("p",tt,[t[20]||(t[20]=r(" Kelola semua item, barang, jasa, dokumen, dan tugas untuk project ",-1)),e("span",st,l(b.project.name),1),t[21]||(t[21]=r(". Pantau progress dan realisasi biaya untuk setiap item 💫 ",-1))])]),e("div",at,[t[30]||(t[30]=e("div",{class:"absolute -top-10 -right-10 w-40 h-40 bg-pink-100/40 rounded-full blur-3xl"},null,-1)),t[31]||(t[31]=e("div",{class:"absolute -bottom-12 -left-12 w-48 h-48 bg-blue-100/40 rounded-full blur-3xl"},null,-1)),t[32]||(t[32]=e("div",{class:"relative flex items-center gap-4 mb-6"},[e("div",{class:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-2xl flex items-center justify-center shadow-md"},[e("span",{class:"text-2xl text-white"},"🌷")]),e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800"},"Detail Proyek"),e("p",{class:"text-sm text-gray-500 italic"},"“Setiap proyek punya cerita yang indah di baliknya.”")])],-1)),e("div",lt,[e("div",nt,[t[25]||(t[25]=e("div",{class:"w-9 h-9 bg-gradient-to-r from-pink-200 to-rose-100 rounded-xl flex items-center justify-center shadow-sm"}," 💼 ",-1)),e("div",null,[t[24]||(t[24]=e("p",{class:"text-xs text-gray-500"},"Nama Project",-1)),e("p",ot,l(b.project.name),1),e("p",rt,[t[23]||(t[23]=r("Kategori: ",-1)),e("span",it,l(b.project.category),1)])])]),e("div",dt,[t[27]||(t[27]=e("div",{class:"w-9 h-9 bg-gradient-to-r from-yellow-200 to-orange-100 rounded-xl flex items-center justify-center shadow-sm"}," 💰 ",-1)),e("div",null,[t[26]||(t[26]=e("p",{class:"text-xs text-gray-500"},"Target Budget",-1)),e("p",ut,l(y(b.project.target_total_amount)),1)])]),e("div",pt,[t[29]||(t[29]=e("div",{class:"w-9 h-9 bg-gradient-to-r from-blue-200 to-indigo-100 rounded-xl flex items-center justify-center shadow-sm"}," 📊 ",-1)),e("div",null,[t[28]||(t[28]=e("p",{class:"text-xs text-gray-500"},"Status Project",-1)),e("p",mt,l(Q(b.project.status)),1)])])]),t[33]||(t[33]=e("div",{class:"mt-4 border-t border-pink-100 pt-4 text-center"},[e("p",{class:"text-sm text-gray-500 italic"}," “Sebuah proyek bukan sekadar angka, tapi tentang harapan, usaha, dan keindahan prosesnya.” 💖 ")],-1))]),x(Ke,{filters:f.value,"onUpdate:filters":t[1]||(t[1]=s=>f.value=s),options:be,class:"mb-4"},null,8,["filters"]),e("div",ct,[x(E,{class:"text-center hover:scale-[1.02] transition transform border border-rose-100"},{default:p(()=>[e("div",gt,[t[34]||(t[34]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-rose-400 to-pink-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"📋")],-1)),e("h3",xt,l(w.value.total_items||0),1),t[35]||(t[35]=e("p",{class:"text-sm text-gray-600"},"Total Item",-1)),f.value.item_type||f.value.status?(i(),d("p",yt," 🔍 Filter aktif ")):c("",!0)])]),_:1}),x(E,{class:"text-center hover:scale-[1.02] transition transform border border-blue-100"},{default:p(()=>[e("div",bt,[t[36]||(t[36]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"💰")],-1)),e("h3",vt,l(y(w.value.total_planned)),1),t[37]||(t[37]=e("p",{class:"text-sm text-gray-600"},"Rencana Biaya",-1))])]),_:1}),x(E,{class:"text-center hover:scale-[1.02] transition transform border border-orange-100"},{default:p(()=>[e("div",_t,[t[38]||(t[38]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"💸")],-1)),e("h3",ft,l(y(w.value.total_spent)),1),t[39]||(t[39]=e("p",{class:"text-sm text-gray-600"},"Realisasi",-1)),w.value.total_planned>0?(i(),d("p",kt,l((w.value.total_spent/w.value.total_planned*100).toFixed(1))+"% ",1)):c("",!0)])]),_:1}),x(E,{class:"text-center hover:scale-[1.02] transition transform border border-green-100"},{default:p(()=>[e("div",ht,[t[40]||(t[40]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"📊")],-1)),e("h3",wt,l(y(w.value.total_remaining)),1),t[41]||(t[41]=e("p",{class:"text-sm text-gray-600"},"Sisa Anggaran",-1))])]),_:1})]),e("div",jt,[(i(),d(B,null,M(["goods","service","document","task","material"],s=>x(E,{class:T(["text-center cursor-pointer transition-all duration-300 hover:scale-105",{"ring-2 ring-pink-400 shadow-lg":f.value.item_type===s,"hover:shadow-md":!f.value.item_type}]),key:s,onClick:m=>f.value.item_type=f.value.item_type===s?"":s},{default:p(()=>[e("div",St,[e("div",It,l(s==="goods"?"🛍️":s==="service"?"👨‍💼":s==="document"?"📄":s==="task"?"✅":"🏗️"),1),e("h3",Dt,l(s==="goods"?w.value.goods_count:s==="service"?w.value.services_count:s==="document"?w.value.documents_count:s==="task"?w.value.tasks_count:w.value.materials_count),1),e("p",Ct,l(O(s)),1),f.value.item_type===s?(i(),d("p",$t," ✓ Terfilter ")):c("",!0)])]),_:2},1032,["class","onClick"])),64))]),q.value.length>0?(i(),d("div",Pt,[e("div",Tt,[e("h3",Vt,[t[42]||(t[42]=e("span",{class:"text-2xl"},"🚀",-1)),t[43]||(t[43]=r(" Item Aktif ",-1)),e("span",Bt,l(q.value.length)+" item ",1)]),e("p",Mt,[t[44]||(t[44]=r(" Item yang masih dalam proses pengerjaan. Total rencana biaya: ",-1)),e("span",Ft,l(y(he.value.total_planned)),1)])]),x(me,{title:`Item Aktif - ${b.project.name}`,description:`${q.value.length} item sedang dalam proses`,columns:xe,data:q.value,loading:C.value,"show-actions":!0,pagination:!0,"items-per-page":10,onCreate:Z,onEdit:ne,onDelete:oe},{"column-item_type":p(({item:s})=>[e("div",Ut,[e("span",Lt,l(s.item_type_icon),1),e("span",{class:T(["px-2 py-1 rounded-full text-xs font-medium",s.item_type_badge])},l(O(s.item_type)),3)])]),"column-planned_amount":p(({item:s})=>[e("div",qt,[t[45]||(t[45]=e("span",{class:"text-lg text-blue-600"},"💰",-1)),e("span",zt,l(y(s.planned_amount)),1)])]),"column-actual_spent":p(({item:s})=>[e("div",At,[t[46]||(t[46]=e("span",{class:"text-lg text-orange-600"},"💸",-1)),e("span",Ot,l(y(s.actual_spent)),1)])]),"column-remaining_amount":p(({item:s})=>[e("div",Et,[e("span",{class:T(["text-lg",s.remaining_amount>=0?"text-green-600":"text-red-600"])}," 📊 ",2),e("span",{class:T(["font-bold text-sm",s.remaining_amount>=0?"text-green-700":"text-red-700"])},l(y(s.remaining_amount)),3)])]),"column-progress_percentage":p(({item:s})=>[e("div",Rt,[e("div",Jt,[e("span",Nt,l(s.progress_percentage.toFixed(1))+"%",1),e("span",null,l(y(s.actual_spent))+" / "+l(y(s.planned_amount)),1)]),e("div",Ht,[e("div",{class:T(["h-2 rounded-full transition-all duration-300",{"bg-red-500":s.progress_percentage>=100,"bg-orange-400":s.progress_percentage>=80&&s.progress_percentage<100,"bg-yellow-400":s.progress_percentage>=50&&s.progress_percentage<80,"bg-green-500":s.progress_percentage<50}]),style:pe({width:Math.min(s.progress_percentage,100)+"%"})},null,6)])])]),"column-status":p(({item:s})=>[e("div",Kt,[e("span",Gt,l(s.status_icon),1),e("span",{class:T(["px-2 py-1 rounded-full text-xs font-medium",s.status_badge])},l(Q(s.status)),3)])]),"column-created_at":p(({item:s})=>[e("div",Qt,[t[47]||(t[47]=e("span",{class:"text-lg"},"📅",-1)),e("span",Wt,l(G(s.created_at)),1)])]),actions:p(({item:s})=>[x(S,{onClick:m=>re(s),variant:"primary",size:"sm",class:"!px-2 !py-2",title:"Lihat detail item"},{icon:p(()=>[...t[48]||(t[48]=[r("👁️",-1)])]),default:p(()=>[t[49]||(t[49]=r(" Detail ",-1))]),_:1},8,["onClick"]),x(S,{onClick:m=>ne(s),variant:"secondary",size:"sm",class:"!px-2 !py-2",disabled:!s.can_edit,title:s.can_edit?"Edit item":"Hanya pemilik kategori dan partner yang dapat mengedit"},{icon:p(()=>[...t[50]||(t[50]=[r("✏️",-1)])]),default:p(()=>[t[51]||(t[51]=r(" Edit ",-1))]),_:1},8,["onClick","disabled","title"]),x(S,{onClick:m=>oe(s),variant:"danger",size:"sm",class:"!px-2 !py-2",disabled:!s.can_edit,title:s.can_edit?"Hapus item":"Hanya pemilik kategori dan partner yang dapat menghapus"},{icon:p(()=>[...t[52]||(t[52]=[r("🗑️",-1)])]),default:p(()=>[t[53]||(t[53]=r(" Hapus ",-1))]),_:1},8,["onClick","disabled","title"])]),_:1},8,["title","description","data","loading"])])):c("",!0),z.value.length>0?(i(),d("div",Xt,[e("div",Yt,[e("h3",Zt,[t[54]||(t[54]=e("span",{class:"text-2xl"},"✅",-1)),t[55]||(t[55]=r(" Item Selesai ",-1)),e("span",es,l(z.value.length)+" item ",1)]),e("p",ts,[t[56]||(t[56]=r(" Item yang sudah selesai dikerjakan. Total sisa biaya yang telah dihabiskan: ",-1)),e("span",ss,l(y(we.value.total_spent)),1)])]),x(me,{title:`Item Selesai - ${b.project.name}`,description:`${z.value.length} item sudah selesai`,columns:ye,data:z.value,loading:C.value,"show-actions":!0,"show-create-button":!1,pagination:!0,"items-per-page":10},{"column-item_type":p(({item:s})=>[e("div",as,[e("span",ls,l(s.item_type_icon),1),e("span",ns,l(O(s.item_type)),1)])]),"column-planned_amount":p(({item:s})=>[e("div",os,[t[57]||(t[57]=e("span",{class:"text-lg text-blue-600"},"💰",-1)),e("span",rs,l(y(s.planned_amount)),1)])]),"column-actual_spent":p(({item:s})=>[e("div",is,[t[58]||(t[58]=e("span",{class:"text-lg text-green-600"},"💸",-1)),e("span",ds,l(y(s.actual_spent)),1)])]),"column-status":p(({item:s})=>[...t[59]||(t[59]=[e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-lg"},"✅"),e("span",{class:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Selesai ")],-1)])]),"column-completed_at":p(({item:s})=>[e("div",us,[t[60]||(t[60]=e("span",{class:"text-lg"},"📅",-1)),e("span",ps,l(G(s.updated_at)),1)])]),actions:p(({item:s})=>[x(S,{onClick:m=>re(s),variant:"primary",size:"sm",class:"!px-2 !py-2",title:"Lihat detail item"},{icon:p(()=>[...t[61]||(t[61]=[r("👁️",-1)])]),default:p(()=>[t[62]||(t[62]=r(" Detail ",-1))]),_:1},8,["onClick"])]),_:1},8,["title","description","data","loading"])])):c("",!0),H.value.length===0&&!C.value?(i(),d("div",ms,[e("div",cs,[t[67]||(t[67]=e("div",{class:"text-6xl mb-4"},"📋",-1)),e("h3",gs,l(k.value.length===0?"Belum ada item":"Tidak ada item yang sesuai filter"),1),e("p",xs,[k.value.length===0?(i(),d("span",ys," Mulai dengan menambahkan item pertama untuk project "+l(b.project.name),1)):(i(),d("span",bs," Coba ubah filter atau hapus filter untuk melihat semua item "))]),e("div",vs,[k.value.length===0?(i(),ee(S,{key:0,onClick:Z,class:"px-6 py-3"},{icon:p(()=>[...t[63]||(t[63]=[r("➕",-1)])]),default:p(()=>[t[64]||(t[64]=r(" Tambah Item Pertama ",-1))]),_:1})):(i(),ee(S,{key:1,onClick:t[2]||(t[2]=s=>f.value={item_type:"",status:""}),variant:"secondary",class:"px-6 py-3"},{icon:p(()=>[...t[65]||(t[65]=[r("🔍",-1)])]),default:p(()=>[t[66]||(t[66]=r(" Hapus Filter ",-1))]),_:1}))])])])):q.value.length===0&&z.value.length>0&&!C.value?(i(),d("div",_s,[e("div",fs,[t[70]||(t[70]=e("div",{class:"text-6xl mb-4"},"🎉",-1)),t[71]||(t[71]=e("h3",{class:"text-xl font-bold text-gray-800 mb-2"}," Semua Item Sudah Selesai! ",-1)),e("p",ks," Selamat! Semua item untuk project "+l(b.project.name)+" sudah selesai dikerjakan. Anda bisa menambahkan item baru jika diperlukan. ",1),x(S,{onClick:Z,class:"px-6 py-3"},{icon:p(()=>[...t[68]||(t[68]=[r("➕",-1)])]),default:p(()=>[t[69]||(t[69]=r(" Tambah Item Baru ",-1))]),_:1})])])):c("",!0),x(te,{show:$.value,"onUpdate:show":t[12]||(t[12]=s=>$.value=s),title:h.value?"Edit Item Project":"Tambah Item Project Baru",description:h.value?"Perbarui informasi item project":"Tambahkan item baru untuk project "+b.project.name,icon:h.value?"✏️":"➕","confirm-text":h.value?"Perbarui":"Simpan","confirm-loading":u(n).processing,onConfirm:_e,onClose:ke,size:"xl"},{default:p(()=>[e("div",hs,[x(Be,{modelValue:u(n).item_type,"onUpdate:modelValue":t[3]||(t[3]=s=>u(n).item_type=s),label:"Jenis Item",placeholder:"Pilih jenis item",options:ae,error:u(n).errors.item_type,icon:"🏷️",required:"",disabled:u(n).processing},null,8,["modelValue","error","disabled"]),x(Me,{modelValue:u(n).name,"onUpdate:modelValue":t[4]||(t[4]=s=>u(n).name=s),label:"Nama Item",placeholder:"Contoh: Cincin Nikah, Vendor Katering, IMB, Semen Portland",error:u(n).errors.name,icon:"📝",required:"",disabled:u(n).processing},null,8,["modelValue","error","disabled"]),x(Fe,{modelValue:u(n).description,"onUpdate:modelValue":t[5]||(t[5]=s=>u(n).description=s),label:"Deskripsi",placeholder:"Deskripsi detail tentang item ini...",error:u(n).errors.description,icon:"📄",disabled:u(n).processing},null,8,["modelValue","error","disabled"]),_.value?(i(),d("div",ws,[e("div",js,[x(se,{label:"Qty Barang",modelValue:u(n).details.quantity,"onUpdate:modelValue":t[6]||(t[6]=s=>u(n).details.quantity=s),placeholder:"Jumlah barang",icon:"💰",required:"",min:"1",disabled:u(n).processing,onInput:X},null,8,["modelValue","disabled"]),x(se,{label:"Rencana Biaya",modelValue:u(n).details.unit_price,"onUpdate:modelValue":t[7]||(t[7]=s=>u(n).details.unit_price=s),placeholder:"Harga per unit",icon:"💰",required:"","account-type":"account_number",min:"0",disabled:u(n).processing,onInput:X},null,8,["modelValue","disabled"])]),e("div",Ss,[e("div",Is,[e("div",null,[t[72]||(t[72]=e("p",{class:"text-sm font-medium text-gray-700"},"Total Rencana Biaya:",-1)),e("p",Ds,l(u(n).details.quantity||0)+" × "+l(y(u(n).details.unit_price||0)),1)]),e("div",Cs,[e("p",$s,l(y(D.value)),1),t[73]||(t[73]=e("p",{class:"text-xs text-gray-500"},"Terhitung otomatis",-1))])])]),V(e("input",{type:"hidden","onUpdate:modelValue":t[8]||(t[8]=s=>u(n).planned_amount=s)},null,512),[[A,u(n).planned_amount]])])):(i(),d("div",Ps,[x(se,{modelValue:u(n).planned_amount,"onUpdate:modelValue":t[9]||(t[9]=s=>u(n).planned_amount=s),label:"Rencana Biaya",placeholder:"Biaya yang direncanakan",error:u(n).errors.planned_amount,icon:"💰","account-type":"account_number",disabled:u(n).processing},null,8,["modelValue","error","disabled"])])),V(e("input",{type:"hidden","onUpdate:modelValue":t[10]||(t[10]=s=>u(n).actual_spent=s)},null,512),[[A,u(n).actual_spent]]),V(e("input",{type:"hidden","onUpdate:modelValue":t[11]||(t[11]=s=>u(n).status=s)},null,512),[[A,u(n).status]]),de.value.length>0?(i(),d("div",Ts,[e("div",Vs,[t[74]||(t[74]=e("h4",{class:"font-semibold text-gray-800 flex items-center gap-2 text-lg mb-4"},[e("span",null,"✨"),r(" Detail Tambahan ")],-1)),e("div",Bs,[(i(!0),d(B,null,M(de.value,s=>(i(),d("div",{key:s.key,class:"space-y-2"},[s.type==="radio"?(i(),d("div",Ms,[e("label",Fs,[e("span",Us,l(s.icon),1),r(" "+l(s.label),1)]),e("div",Ls,[(i(!0),d(B,null,M(s.options,m=>(i(),d("label",{key:m.value,class:T(["flex items-center space-x-2 cursor-pointer p-3 rounded-xl border-2 transition-all",u(n).details[s.key]===m.value?"border-pink-400 bg-pink-50 shadow-sm":"border-gray-200 hover:border-pink-200"])},[V(e("input",{type:"radio",value:m.value,"onUpdate:modelValue":ue=>u(n).details[s.key]=ue,class:"text-pink-500 focus:ring-pink-400"},null,8,qs),[[Ce,u(n).details[s.key]]]),e("span",zs,l(m.label),1)],2))),128))])])):s.type==="select"?(i(),d("div",As,[e("label",Os,[e("span",Es,l(s.icon),1),r(" "+l(s.label),1)]),V(e("select",{"onUpdate:modelValue":m=>u(n).details[s.key]=m,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all bg-white"},[e("option",Js,"Pilih "+l(s.label.toLowerCase()),1),(i(!0),d(B,null,M(s.options,m=>(i(),d("option",{key:m.value,value:m.value},l(m.label),9,Ns))),128))],8,Rs),[[$e,u(n).details[s.key]]])])):s.type==="text"||s.type==="url"?(i(),d("div",Hs,[e("label",Ks,[e("span",Gs,l(s.icon),1),r(" "+l(s.label),1)]),V(e("input",{type:s.type,"onUpdate:modelValue":m=>u(n).details[s.key]=m,placeholder:s.placeholder||`Masukkan ${s.label.toLowerCase()}`,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,Qs),[[Pe,u(n).details[s.key]]])])):s.type==="textarea"?(i(),d("div",Ws,[e("label",Xs,[e("span",Ys,l(s.icon),1),r(" "+l(s.label),1)]),V(e("textarea",{"onUpdate:modelValue":m=>u(n).details[s.key]=m,placeholder:s.placeholder||`Masukkan ${s.label.toLowerCase()}`,rows:"3",class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all resize-none"},null,8,Zs),[[A,u(n).details[s.key]]])])):s.type==="number"?(i(),d("div",ea,[e("label",ta,[e("span",sa,l(s.icon),1),r(" "+l(s.label),1)]),V(e("input",{type:"number","onUpdate:modelValue":m=>u(n).details[s.key]=m,placeholder:s.placeholder||`Masukkan ${s.label.toLowerCase()}`,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,aa),[[A,u(n).details[s.key]]])])):s.type==="date"?(i(),d("div",la,[e("label",na,[e("span",oa,l(s.icon),1),r(" "+l(s.label),1)]),V(e("input",{type:"date","onUpdate:modelValue":m=>u(n).details[s.key]=m,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,ra),[[A,u(n).details[s.key]]])])):c("",!0)]))),128))])])])):c("",!0),t[76]||(t[76]=e("div",{class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200"},[e("p",{class:"text-sm text-gray-700 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"💡"),e("span",null,[e("strong",{class:"block"},"Jenis Item:"),r(" • "),e("strong",null,"Barang 🛍️"),r(": Physical goods yang dibeli (hitung otomatis dari quantity × harga satuan)"),e("br"),r(" • "),e("strong",null,"Jasa 👨‍💼"),r(": Services dari vendor/penyedia jasa"),e("br"),r(" • "),e("strong",null,"Dokumen 📄"),r(": Legal documents dan surat-surat"),e("br"),r(" • "),e("strong",null,"Tugas ✅"),r(": Tasks dan pekerjaan yang perlu diselesaikan"),e("br"),r(" • "),e("strong",null,"Material 🏗️"),r(": Bahan bangunan dan material konstruksi (hitung otomatis dari quantity × harga satuan) ")])])],-1)),u(n).hasErrors?(i(),d("div",ia,[...t[75]||(t[75]=[e("p",{class:"text-sm text-red-600 flex items-center gap-2"},[e("span",null,"⚠️"),r(" Terdapat kesalahan dalam pengisian form. Silakan periksa kembali input Anda. ")],-1)])])):c("",!0)])]),_:1},8,["show","title","description","icon","confirm-text","confirm-loading"]),x(te,{show:U.value,"onUpdate:show":t[16]||(t[16]=s=>U.value=s),title:o.value?o.value.name:"Detail Item",description:o.value?`Detail lengkap untuk item ${o.value.name}`:"Detail item",icon:"👁️",onClose:t[17]||(t[17]=s=>U.value=!1),size:"lg"},{default:p(()=>[o.value?(i(),d("div",da,[e("div",ua,[t[81]||(t[81]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"✨"),r(" Informasi Dasar ")],-1)),e("div",pa,[e("div",ma,[t[77]||(t[77]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"🏷️"),r(" Jenis Item ")],-1)),e("p",ca,[e("span",null,l(o.value.item_type_icon),1),r(" "+l(O(o.value.item_type)),1)])]),e("div",ga,[t[78]||(t[78]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"🟢"),r(" Status ")],-1)),e("p",xa,[e("span",null,l(o.value.status_icon),1),r(" "+l(Q(o.value.status)),1)])]),e("div",ya,[t[79]||(t[79]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"💰"),r(" Rencana Biaya ")],-1)),e("p",ba,l(y(o.value.planned_amount)),1),le(o.value)?(i(),d("p",va," Terhitung otomatis ")):c("",!0)]),e("div",_a,[t[80]||(t[80]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"💸"),r(" Realisasi ")],-1)),e("p",fa,l(y(o.value.actual_spent)),1)])])]),le(o.value)&&o.value.details?(i(),d("div",ka,[t[87]||(t[87]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"📊"),r(" Informasi Kuantitas & Harga ")],-1)),e("div",ha,[e("div",wa,[t[83]||(t[83]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"📦"),r(" Quantity ")],-1)),e("p",ja,[r(l(o.value.details.quantity||0)+" ",1),t[82]||(t[82]=e("span",{class:"text-sm font-normal text-gray-500"},"unit",-1))])]),e("div",Sa,[t[84]||(t[84]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"💰"),r(" Harga Satuan ")],-1)),e("p",Ia,l(y(o.value.details.unit_price||0)),1)]),e("div",Da,[t[86]||(t[86]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"🧮"),r(" Perhitungan Total ")],-1)),e("div",Ca,[e("div",$a,[e("span",Pa,l(o.value.details.quantity||0)+" × "+l(y(o.value.details.unit_price||0)),1),e("span",Ta," = "+l(y(o.value.planned_amount)),1)]),t[85]||(t[85]=e("p",{class:"text-xs text-gray-500 mt-1"}," Total rencana biaya dihitung otomatis dari quantity × harga satuan ",-1))])])])])):c("",!0),e("div",Va,[t[88]||(t[88]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"📈"),r(" Progress Keuangan ")],-1)),e("div",Ba,[e("div",Ma,[e("span",Fa,l(o.value.progress_percentage.toFixed(1))+"%",1),e("span",Ua,l(y(o.value.actual_spent))+" / "+l(y(o.value.planned_amount)),1)]),e("div",La,[e("div",{class:"h-4 rounded-full transition-all duration-1000 bg-gradient-to-r from-pink-400 to-rose-500 shadow-lg",style:pe({width:Math.min(o.value.progress_percentage,100)+"%"})},null,4)]),e("div",qa,[e("span",null,"Sisa: "+l(y(o.value.remaining_amount)),1),o.value.remaining_amount<0?(i(),d("span",za," ⚠️ Melebihi budget ")):c("",!0)])])]),o.value.description?(i(),d("div",Aa,[t[89]||(t[89]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-3 flex items-center gap-2"},[e("span",null,"📄"),r(" Deskripsi ")],-1)),e("p",Oa,l(o.value.description),1)])):c("",!0),o.value.item_type==="goods"&&o.value.details&&ve(o.value)?(i(),d("div",Ea,[t[99]||(t[99]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"🛍️"),r(" Informasi Pembelian ")],-1)),e("div",Ra,[o.value.details.purchase_type?(i(),d("div",Ja,[t[90]||(t[90]=e("span",{class:"text-sm text-gray-600"},"Cara Pembelian:",-1)),e("span",Na,[o.value.details.purchase_type==="online"?(i(),d("span",Ha,"🛒")):(i(),d("span",Ka,"🏪")),r(" "+l(o.value.details.purchase_type==="online"?"Beli Online":"Beli di Toko"),1)])])):c("",!0),o.value.details.purchase_type==="online"?(i(),d("div",Ga,[o.value.details.ecommerce_platform?(i(),d("div",Qa,[t[91]||(t[91]=e("span",{class:"text-sm text-gray-600"},"Platform:",-1)),e("span",{class:T(["font-medium flex items-center gap-2",N[o.value.details.ecommerce_platform]?.color])},[e("span",null,l(N[o.value.details.ecommerce_platform]?.icon),1),r(" "+l(N[o.value.details.ecommerce_platform]?.name),1)],2)])):c("",!0),o.value.details.online_link?(i(),d("div",Wa,[e("div",Xa,[t[94]||(t[94]=e("span",{class:"text-sm text-gray-600"},"Link Produk:",-1)),x(S,{onClick:t[13]||(t[13]=s=>ie(o.value.details.online_link)),variant:"primary",size:"xs",class:"!px-3 !py-1"},{icon:p(()=>[...t[92]||(t[92]=[r("🔗",-1)])]),default:p(()=>[t[93]||(t[93]=r(" Buka Link ",-1))]),_:1})]),e("p",Ya,l(o.value.details.online_link),1)])):c("",!0)])):c("",!0),o.value.details.purchase_type==="store"?(i(),d("div",Za,[o.value.details.store_maps?(i(),d("div",el,[e("div",tl,[t[97]||(t[97]=e("span",{class:"text-sm text-gray-600"},"Lokasi Toko:",-1)),x(S,{onClick:t[14]||(t[14]=s=>ie(o.value.details.store_maps)),variant:"primary",size:"xs",class:"!px-3 !py-1"},{icon:p(()=>[...t[95]||(t[95]=[r("🗺️",-1)])]),default:p(()=>[t[96]||(t[96]=r(" Buka Maps ",-1))]),_:1})]),e("p",sl,l(o.value.details.store_maps),1)])):c("",!0),o.value.details.store_address?(i(),d("div",al,[t[98]||(t[98]=e("span",{class:"text-sm text-gray-600 block mb-2"},"Alamat Toko:",-1)),e("p",ll,l(o.value.details.store_address),1)])):c("",!0)])):c("",!0),e("div",nl,[(i(),d(B,null,M(["ukuran","warna","material","merk"],s=>e("div",{key:s},[o.value.details[s]?(i(),d("div",ol,[e("span",rl,l(s),1),e("span",il,l(o.value.details[s]),1)])):c("",!0)])),64))])])])):c("",!0),o.value.details&&Object.keys(o.value.details).length>0&&o.value.item_type!=="goods"?(i(),d("div",dl,[t[100]||(t[100]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"🔧"),r(" Detail Tambahan ")],-1)),e("div",ul,[(i(!0),d(B,null,M(o.value.details,(s,m)=>(i(),d("div",{key:m,class:"p-3 bg-white rounded-xl border hover:shadow-sm transition-shadow"},[e("span",pl,l(m.replace("_"," ")),1),e("span",ml,l(s),1)]))),128))])])):c("",!0),e("div",cl,[t[103]||(t[103]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"⏰"),r(" Informasi Waktu ")],-1)),e("div",gl,[e("div",xl,[t[101]||(t[101]=e("span",{class:"text-xs text-gray-500 block"},"Dibuat",-1)),e("span",yl,l(G(o.value.created_at)),1)]),e("div",bl,[t[102]||(t[102]=e("span",{class:"text-xs text-gray-500 block"},"Diupdate",-1)),e("span",vl,l(G(o.value.updated_at)),1)])])]),x(S,{onClick:t[15]||(t[15]=s=>a.$inertia.visit(a.route("projects.items.show",{project:b.project.id,item:o.value.id}))),variant:"primary",size:"sm",class:"!px-2 !py-2",title:"Lihat detail lengkap item"},{icon:p(()=>[...t[104]||(t[104]=[r("👁️",-1)])]),default:p(()=>[t[105]||(t[105]=r(" Lihat detail lengkap item ",-1))]),_:1})])):c("",!0)]),_:1},8,["show","title","description"]),x(te,{show:P.value,"onUpdate:show":t[18]||(t[18]=s=>P.value=s),title:"Hapus Item Project",description:g.value?`Apakah Anda yakin ingin menghapus item ${g.value.name}?`:"Apakah Anda yakin ingin menghapus item ini?",icon:"🗑️","confirm-text":"Hapus","cancel-text":"Batal","confirm-variant":"danger","confirm-loading":F.value,onConfirm:fe,onClose:t[19]||(t[19]=s=>P.value=!1)},{default:p(()=>[e("div",_l,[t[113]||(t[113]=e("div",{class:"p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl"},[e("p",{class:"text-sm text-red-600 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"⚠️"),e("span",null,[e("strong",{class:"block"},"Tindakan ini tidak dapat dibatalkan!"),r(" Semua data yang terkait dengan item ini akan hilang. ")])])],-1)),g.value?(i(),d("div",fl,[t[112]||(t[112]=e("h4",{class:"font-semibold text-gray-800 mb-2"},"Detail Item:",-1)),e("div",kl,[e("div",null,[t[106]||(t[106]=e("span",{class:"text-gray-600"},"Nama:",-1)),e("p",hl,l(g.value.name),1)]),e("div",null,[t[107]||(t[107]=e("span",{class:"text-gray-600"},"Jenis:",-1)),e("p",wl,l(O(g.value.item_type)),1)]),e("div",null,[t[108]||(t[108]=e("span",{class:"text-gray-600"},"Rencana Biaya:",-1)),e("p",jl,l(y(g.value.planned_amount)),1)]),e("div",null,[t[109]||(t[109]=e("span",{class:"text-gray-600"},"Realisasi:",-1)),e("p",Sl,l(y(g.value.actual_spent)),1)]),e("div",null,[t[110]||(t[110]=e("span",{class:"text-gray-600"},"Status:",-1)),e("p",Il,l(Q(g.value.status)),1)]),e("div",null,[t[111]||(t[111]=e("span",{class:"text-gray-600"},"Progress:",-1)),e("p",Dl,l(g.value.progress_percentage.toFixed(1))+"%",1)])])])):c("",!0)])]),_:1},8,["show","description","confirm-loading"])])])]),_:1},8,["title"]))}},zl=Ue(Cl,[["__scopeId","data-v-81f303b9"]]);export{zl as default};
