import{P as Be,L as H,p as j,c as d,g as i,d as e,b as g,F,y as A,l as m,w as p,f as n,z as o,I as Me,r as k,t as Ue,o as Fe,k as oe,s as P,K as be,x as u,m as T,N as R,R as Ae,O as Le,C as ze,D as qe}from"./vendor-CaulYgOW.js";import{A as Oe}from"./AppLayout-C9Lt9nJP.js";import{_ as N,a as ve}from"./BaseCard-B18XuVDn.js";import{S as ie,_ as I,B as ne}from"./SelectInput-CCmOdJSq.js";import{_ as re}from"./AccountInput-DNx9eD28.js";import{_ as _e}from"./TextInput-X0I6SgWH.js";import{_ as Ke}from"./TextAreaInput-c3gpLd2_.js";/* empty css                                                                         */import{_ as Re}from"./app-BXVwXSr1.js";/* empty css            */const Ee={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-4"},Ne={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},He={class:"flex flex-wrap gap-2"},Je={class:"flex items-end"},Ge={key:0,class:"mt-3 pt-3 border-t border-gray-100"},Qe={class:"flex items-center gap-2 flex-wrap"},We=["onClick"],Xe={__name:"BaseFilterItem",props:{filters:{type:Object,required:!0},options:{type:Object,required:!0}},emits:["update:filters"],setup(b,{emit:J}){const V=b,G=J,v=Be({...V.filters});H(()=>V.filters,r=>{Object.assign(v,r)},{deep:!0});const L=(r,c)=>{v[r]=c,G("update:filters",{...v})},$=j(()=>Object.values(v).some(r=>r!=="")),B=j(()=>Object.fromEntries(Object.entries(v).filter(([r,c])=>c!==""))),z=(r,c)=>V.options[r]?.options.find(w=>w.value===c)?.label||c,S=r=>{L(r,"")},f=()=>{const r={};Object.keys(v).forEach(c=>r[c]=""),Object.assign(v,r),G("update:filters",{...r})};return(r,c)=>(i(),d("div",Ee,[e("div",Ne,[c[2]||(c[2]=e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ”"),e("h3",{class:"font-semibold text-gray-800"},"Filter Data")],-1)),e("div",He,[(i(!0),d(F,null,A(b.options,(h,w)=>(i(),d("div",{key:w,class:"min-w-[150px] flex-1"},[m(ie,{modelValue:v[w],"onUpdate:modelValue":[M=>v[w]=M,M=>L(w,M)],label:h.label,placeholder:h.placeholder||"Pilih "+h.label,options:h.options||[],icon:h.icon||"ğŸ’–",error:h.error},null,8,["modelValue","onUpdate:modelValue","label","placeholder","options","icon","error"])]))),128)),e("div",Je,[m(I,{onClick:f,variant:"secondary",size:"sm",class:"h-[42px]",disabled:!$.value},{icon:p(()=>[...c[0]||(c[0]=[n("ğŸ”„",-1)])]),default:p(()=>[c[1]||(c[1]=n(" Reset ",-1))]),_:1},8,["disabled"])])])]),$.value?(i(),d("div",Ge,[e("div",Qe,[c[3]||(c[3]=e("span",{class:"text-sm text-gray-600"},"Filter aktif:",-1)),(i(!0),d(F,null,A(B.value,(h,w)=>(i(),d("span",{key:w,class:"inline-flex items-center gap-1 px-2 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium"},[n(o(z(w,h))+" ",1),e("button",{onClick:M=>S(w),class:"hover:text-pink-900 transition-colors"}," Ã— ",8,We)]))),128))])])):g("",!0)]))}},Ye={class:"py-2 min-h-screen relative overflow-hidden"},Ze={class:"w-full px-4 sm:px-6 lg:px-8 relative z-10"},et={class:"flex items-center justify-between"},tt={class:"flex items-center gap-3"},st={class:"text-xl"},at={class:"font-medium"},lt={class:"text-center mb-4"},ot={class:"text-gray-600 text-lg max-w-2xl mx-auto"},nt={class:"text-blue-500 font-semibold"},rt={class:"relative overflow-hidden bg-gradient-to-br from-pink-50 via-white to-blue-50 rounded-3xl border border-pink-100/40 shadow-md p-4 mb-4"},it={class:"relative grid grid-cols-1 md:grid-cols-3 gap-6"},dt={class:"flex items-start gap-3"},ut={class:"text-base font-medium text-gray-800 tracking-wide"},pt={class:"text-xs text-gray-500 mt-1"},mt={class:"italic"},ct={class:"flex items-start gap-3"},gt={class:"text-base font-medium text-gray-800"},xt={class:"flex items-start gap-3"},yt={class:"text-base font-medium text-gray-800 capitalize"},bt={class:"grid grid-cols-2 lg:grid-cols-4 gap-2 mb-4"},vt={class:"p-4"},_t={class:"text-xl font-bold text-gray-800 mb-1"},ft={key:0,class:"text-xs text-rose-500 mt-1"},kt={class:"p-4"},ht={class:"text-xl font-bold text-gray-800 mb-1"},wt={class:"p-4"},jt={class:"text-xl font-bold text-gray-800 mb-1"},St={key:0,class:"text-xs text-gray-500 mt-1"},Ct={class:"p-4"},It={class:"text-xl font-bold text-gray-800 mb-1"},Dt={class:"grid grid-cols-4 md:grid-cols-5 gap-2 mb-4"},Pt={class:"p-3"},Vt={class:"text-2xl mb-1"},$t={class:"text-lg font-bold text-gray-800"},Tt={class:"text-xs text-gray-600 capitalize"},Bt={key:0,class:"text-xs text-pink-500 mt-1"},Mt={key:1,class:"mb-8"},Ut={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200 mb-4"},Ft={class:"text-xl font-bold text-gray-800 flex items-center gap-3 mb-2"},At={class:"text-sm font-normal text-gray-600 bg-white px-3 py-1 rounded-full"},Lt={class:"text-gray-600"},zt={class:"font-bold text-blue-600"},qt={class:"flex items-center gap-2"},Ot={class:"font-medium text-gray-700 text-sm"},Kt={class:"flex items-center gap-2"},Rt={class:"text-lg"},Et={class:"flex items-center gap-2"},Nt={class:"font-bold text-gray-800 text-sm text-blue-700"},Ht={class:"flex items-center gap-2"},Jt={class:"font-bold text-gray-800 text-sm text-orange-700"},Gt={class:"flex items-center gap-2"},Qt={class:"space-y-1"},Wt={class:"flex justify-between text-xs"},Xt={class:"font-medium"},Yt={class:"w-full bg-gray-200 rounded-full h-2"},Zt={class:"flex items-center gap-2"},es={class:"text-lg"},ts={class:"flex items-center gap-2"},ss={class:"font-medium text-gray-700 text-sm"},as={key:2,class:"mb-8"},ls={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200 mb-4"},os={class:"text-xl font-bold text-gray-800 flex items-center gap-3 mb-2"},ns={class:"text-sm font-normal text-gray-600 bg-white px-3 py-1 rounded-full"},rs={class:"text-gray-600"},is={class:"font-bold text-green-600"},ds={class:"flex items-center gap-2"},us={class:"text-lg"},ps={class:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700"},ms={class:"flex items-center gap-2"},cs={class:"font-bold text-gray-800 text-sm text-blue-700"},gs={class:"flex items-center gap-2"},xs={class:"font-bold text-gray-800 text-sm text-green-700"},ys={class:"flex items-center gap-2"},bs={class:"font-medium text-gray-700 text-sm"},vs={key:3,class:"text-center mt-6"},_s={class:"bg-white/80 backdrop-blur-md rounded-3xl shadow-lg p-8 border border-gray-100"},fs={class:"text-xl font-bold text-gray-800 mb-2"},ks={class:"text-gray-600 mb-6 max-w-md mx-auto"},hs={key:0},ws={key:1},js={class:"flex gap-3 justify-center"},Ss={key:4,class:"text-center mt-6"},Cs={class:"bg-white/80 backdrop-blur-md rounded-3xl shadow-lg p-8 border border-gray-100"},Is={class:"text-gray-600 mb-6 max-w-md mx-auto"},Ds={class:"space-y-6 max-h-[70vh] overflow-y-auto pr-2"},Ps={class:"space-y-4"},Vs={class:"flex items-center justify-between"},$s={key:0,class:"flex gap-2"},Ts={key:0},Bs={class:"text-xs text-gray-500 mt-1"},Ms={key:1},Us={key:0,class:"text-xs text-gray-500 mt-1"},Fs={key:0,class:"space-y-4"},As={class:"grid grid-cols-2 gap-4"},Ls={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-200"},zs={class:"flex items-center justify-between"},qs={class:"text-xs text-gray-500"},Os={class:"text-right"},Ks={class:"text-xl font-bold text-green-600"},Rs={key:1,class:"grid grid-cols-1 gap-4"},Es={key:2,class:"space-y-4"},Ns={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-4 border border-pink-100"},Hs={class:"space-y-4"},Js={key:0,class:"space-y-3"},Gs={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},Qs={class:"text-lg"},Ws={class:"flex gap-4"},Xs=["value","onUpdate:modelValue"],Ys={class:"text-sm font-medium text-gray-700"},Zs={key:1,class:"space-y-2"},ea={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},ta={class:"text-lg"},sa=["onUpdate:modelValue"],aa={value:""},la=["value"],oa={key:2,class:"space-y-2"},na={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},ra={class:"text-lg"},ia=["type","onUpdate:modelValue","placeholder"],da={key:3,class:"space-y-2"},ua={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},pa={class:"text-lg"},ma=["onUpdate:modelValue","placeholder"],ca={key:4,class:"space-y-2"},ga={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},xa={class:"text-lg"},ya=["onUpdate:modelValue","placeholder"],ba={key:5,class:"space-y-2"},va={class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},_a={class:"text-lg"},fa=["onUpdate:modelValue"],ka={key:3,class:"p-2 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl"},ha={key:0,class:"space-y-6"},wa={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-6 border border-pink-100"},ja={class:"grid grid-cols-2 gap-4"},Sa={class:"space-y-1"},Ca={class:"font-medium text-gray-800 flex items-center gap-2"},Ia={class:"space-y-1"},Da={class:"font-medium text-gray-800 flex items-center gap-2"},Pa={class:"space-y-1"},Va={class:"font-bold text-blue-700 text-lg"},$a={key:0,class:"text-xs text-gray-500"},Ta={class:"space-y-1"},Ba={class:"font-bold text-orange-700 text-lg"},Ma={key:0,class:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100"},Ua={class:"grid grid-cols-2 gap-4"},Fa={class:"space-y-1"},Aa={class:"font-bold text-gray-800 text-lg"},La={class:"space-y-1"},za={class:"font-bold text-green-600 text-lg"},qa={class:"col-span-2 space-y-1"},Oa={class:"bg-white/70 rounded-xl p-3 border border-gray-200"},Ka={class:"flex items-center justify-between"},Ra={class:"text-sm text-gray-600"},Ea={class:"font-bold text-blue-600 text-lg"},Na={class:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100"},Ha={class:"space-y-3"},Ja={class:"flex justify-between text-sm"},Ga={class:"font-medium text-gray-700"},Qa={class:"text-gray-600"},Wa={class:"w-full bg-white rounded-full h-4 shadow-inner border"},Xa={class:"flex justify-between text-xs text-gray-500"},Ya={key:0,class:"text-red-500 font-semibold"},Za={key:1,class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100"},el={class:"text-gray-700 leading-relaxed bg-white/50 p-4 rounded-xl"},tl={key:2,class:"bg-gradient-to-r from-purple-50 to-violet-50 rounded-2xl p-6 border border-purple-100"},sl={class:"space-y-4"},al={key:0,class:"flex items-center justify-between p-3 bg-white rounded-xl border"},ll={class:"font-medium text-gray-800 flex items-center gap-2"},ol={key:0},nl={key:1},rl={key:1,class:"space-y-3"},il={key:0,class:"flex items-center justify-between p-3 bg-white rounded-xl border"},dl={key:1,class:"p-3 bg-white rounded-xl border"},ul={class:"flex items-center justify-between mb-2"},pl={class:"text-xs text-gray-500 break-all"},ml={key:2,class:"space-y-3"},cl={key:0,class:"p-3 bg-white rounded-xl border"},gl={class:"flex items-center justify-between mb-2"},xl={class:"text-xs text-gray-500 break-all"},yl={key:1,class:"p-3 bg-white rounded-xl border"},bl={class:"text-sm text-gray-700"},vl={class:"grid grid-cols-2 gap-3"},_l={key:0,class:"p-3 bg-white rounded-xl border text-center"},fl={class:"text-xs text-gray-500 block capitalize"},kl={class:"font-medium text-gray-800"},hl={key:3,class:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 border border-orange-100"},wl={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},jl={class:"text-xs text-gray-500 block capitalize mb-1"},Sl={class:"font-medium text-gray-800 text-sm"},Cl={class:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl p-6 border border-gray-100"},Il={class:"grid grid-cols-2 gap-4"},Dl={class:"text-center p-3 bg-white rounded-xl border"},Pl={class:"font-medium text-gray-800"},Vl={class:"text-center p-3 bg-white rounded-xl border"},$l={class:"font-medium text-gray-800"},Tl={class:"space-y-4"},Bl={key:0,class:"p-4 bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-2xl"},Ml={class:"grid grid-cols-2 gap-4 text-sm"},Ul={class:"font-medium text-gray-800"},Fl={class:"font-medium text-gray-800"},Al={class:"font-bold text-blue-700"},Ll={class:"font-bold text-orange-700"},zl={class:"font-medium text-gray-800"},ql={class:"font-medium text-gray-800"},Ol={__name:"Index",props:{items:Array,project:Object},setup(b){const J=Me();J.props.auth.user;const V=k([]),G=k({}),v=k(!1),L=k(!1),$=k(!1),B=k(!1),z=k(!1),S=k(null),f=k(null),r=k(null),c=k(null),h=j(()=>["goods","material"].includes(l.item_type)),w=j(()=>{if(!h.value)return l.planned_amount;const a=parseFloat(l.details.quantity)||0,t=parseFloat(l.details.unit_price)||0;return a*t}),M=()=>{h.value&&(l.planned_amount=w.value)};k([]);const q=k(!1),C=k([]),Q=j(()=>C.value&&C.value.length>0),se=j(()=>q.value||!Q.value),_=k({item_type:"",status:"",item_category:""});H(()=>J.props.flash,a=>{(a.success||a.error)&&(c.value={message:a.success||a.error,type:a.type||(a.success?"success":"error")},setTimeout(()=>{c.value=null},5e3))},{immediate:!0});const W=async()=>{try{console.log("Loading categories for project:",U.project.id);const a=await axios.get(route("projects.items.api.categories",{project:U.project.id}));console.log("Categories API response:",a.data),a.data&&a.data.success?C.value=a.data.categories||[]:Array.isArray(a.data)?C.value=a.data:a.data&&Array.isArray(a.data.categories)?C.value=a.data.categories:(console.warn("Unexpected categories response format:",a.data),C.value=[]),console.log("Final available categories:",C.value)}catch(a){console.error("Error loading categories:",a),a.response&&(console.error("Response status:",a.response.status),console.error("Response data:",a.response.data)),C.value=[]}},l=Ue({item_type:"goods",item_category:"",name:"",description:"",planned_amount:0,actual_spent:0,status:"needed",details:{}}),U=b,de=[{value:"goods",label:"ğŸ›ï¸ Barang"},{value:"service",label:"ğŸ‘¨â€ğŸ’¼ Jasa"},{value:"document",label:"ğŸ“„ Dokumen"},{value:"task",label:"âœ… Tugas"},{value:"material",label:"ğŸ—ï¸ Material"}],fe=[{value:"needed",label:"â³ Diperlukan"},{value:"in_progress",label:"ğŸš§ Dalam Proses"},{value:"ready",label:"ğŸ“¦ Siap"},{value:"complete",label:"âœ… Selesai"},{value:"cancelled",label:"âŒ Dibatalkan"}],ke=[{value:"online",label:"ğŸ›’ Beli Online"},{value:"store",label:"ğŸª Beli di Toko"}],X={shopee:{name:"Shopee",icon:"ğŸŸ ",color:"text-orange-500"},tokopedia:{name:"Tokopedia",icon:"ğŸŸ¢",color:"text-green-500"},lazada:{name:"Lazada",icon:"ğŸ”µ",color:"text-blue-500"},blibli:{name:"Blibli",icon:"ğŸ”´",color:"text-red-500"},bukalapak:{name:"Bukalapak",icon:"ğŸŸ¡",color:"text-yellow-500"},other:{name:"Lainnya",icon:"ğŸ›’",color:"text-gray-500"}},he=[{key:"name",label:"Nama Item",icon:"ğŸ“",sortable:!0},{key:"item_type",label:"Jenis",icon:"ğŸ·ï¸",sortable:!0,type:"badge"},{key:"item_category",label:"Kategori",icon:"ğŸ“‚",sortable:!0},{key:"planned_amount",label:"Rencana Biaya",icon:"ğŸ’°",sortable:!0,type:"currency"},{key:"actual_spent",label:"Realisasi",icon:"ğŸ’¸",sortable:!0,type:"currency"},{key:"remaining_amount",label:"Sisa",icon:"ğŸ“Š",sortable:!0,type:"currency"},{key:"progress_percentage",label:"Progress",icon:"ğŸ“ˆ",sortable:!0,type:"progress"},{key:"status",label:"Status",icon:"ğŸŸ¢",sortable:!0,type:"badge"},{key:"created_at",label:"Dibuat",icon:"ğŸ“…",sortable:!0,type:"date"}],we=[{key:"name",label:"Nama Item",icon:"ğŸ“",sortable:!0},{key:"item_type",label:"Jenis",icon:"ğŸ·ï¸",sortable:!0,type:"badge"},{key:"item_category",label:"Kategori",icon:"ğŸ“‚",sortable:!0},{key:"planned_amount",label:"Rencana Biaya",icon:"ğŸ’°",sortable:!0,type:"currency"},{key:"actual_spent",label:"Sisa Biaya",icon:"ğŸ’¸",sortable:!0,type:"currency"},{key:"status",label:"Status",icon:"âœ…",sortable:!0,type:"badge"},{key:"completed_at",label:"Selesai",icon:"ğŸ“…",sortable:!0,type:"date"}],je={item_type:{label:"Jenis Item",options:[{value:"",label:"Semua Jenis"},...de]},status:{label:"Status",options:[{value:"",label:"Semua Status"},...fe]}},Se=j(()=>{const a={...je};return C.value&&C.value.length>0&&(a.item_category={label:"Kategori",options:[{value:"",label:"Semua Kategori"},...C.value.map(t=>({value:t,label:t}))]}),a}),Y=j(()=>{let a=[...V.value];return _.value.item_type&&(a=a.filter(t=>t.item_type===_.value.item_type)),_.value.status&&(a=a.filter(t=>t.status===_.value.status)),_.value.item_category&&(a=a.filter(t=>t.item_category===_.value.item_category)),a.sort((t,s)=>t.item_type!==s.item_type?t.item_type.localeCompare(s.item_type):t.item_category!==s.item_category?t.item_category.localeCompare(s.item_category):t.status!==s.status?t.status.localeCompare(s.status):t.name.localeCompare(s.name))}),D=j(()=>{const a=Y.value;return{total_items:a.length,goods_count:a.filter(t=>t.item_type==="goods").length,services_count:a.filter(t=>t.item_type==="service").length,documents_count:a.filter(t=>t.item_type==="document").length,tasks_count:a.filter(t=>t.item_type==="task").length,materials_count:a.filter(t=>t.item_type==="material").length,total_planned:a.reduce((t,s)=>t+parseFloat(s.planned_amount||0),0),total_spent:a.reduce((t,s)=>t+parseFloat(s.actual_spent||0),0),total_remaining:a.reduce((t,s)=>t+parseFloat(s.remaining_amount||0),0)}}),ae=async()=>{v.value=!0;try{const a=await axios.get(route("projects.items.index",{project:U.project.id}));V.value=a.data.items||a.data}catch(a){console.error("Error loading items:",a),c.value={message:"Gagal memuat data item",type:"error"}}finally{v.value=!1}},ue=a=>a&&["goods","material"].includes(a.item_type),Ce=a=>{if(!a.details)return!1;const t={...a.details};return delete t.quantity,delete t.unit_price,Object.keys(t).length>0},Z=async()=>{try{const a=await axios.get(route("projects.items.api.summary",{project:U.project.id}));G.value=a.data}catch(a){console.error("Error loading item summary:",a)}};Fe(()=>{V.value=U.items,Z(),W()});const le=()=>{S.value=null,l.reset(),l.item_type="goods",l.item_category="",l.status="needed",l.planned_amount=0,l.actual_spent=0,l.details={quantity:1,unit_price:0},q.value=!1,$.value=!0},pe=a=>{if(!a.can_edit){c.value={message:"Hanya pemilik kategori dan partner dalam family yang sama yang dapat mengedit item",type:"error"};return}S.value=a,l.item_type=a.item_type,l.item_category=a.item_category,l.name=a.name,l.description=a.description,l.planned_amount=a.planned_amount,l.actual_spent=a.actual_spent,l.status=a.status,l.details=a.details||{},q.value=!0,["goods","material"].includes(a.item_type)&&(l.details.quantity||(l.details.quantity=1),l.details.unit_price||(l.details.unit_price=0)),$.value=!0},me=a=>{if(!a.can_edit){c.value={message:"Hanya pemilik kategori dan partner dalam family yang sama yang dapat menghapus item",type:"error"};return}f.value=a,B.value=!0},ce=a=>{r.value=a,z.value=!0},Ie=()=>{S.value?l.put(route("projects.items.update",{project:U.project.id,item:S.value.id}),{preserveScroll:!0,onSuccess:()=>{$.value=!1,ae(),Z(),W(),l.reset(),S.value=null},onError:a=>{console.error("Update error:",a)}}):l.post(route("projects.items.store",{project:U.project.id}),{preserveScroll:!0,onSuccess:()=>{$.value=!1,ae(),Z(),W(),l.reset()},onError:a=>{console.error("Create error:",a)}})},De=()=>{f.value&&(L.value=!0,qe.delete(route("projects.items.destroy",{project:U.project.id,item:f.value.id}),{preserveScroll:!0,onSuccess:()=>{B.value=!1,ae(),Z(),W(),f.value=null,L.value=!1},onError:a=>{console.error("Delete error:",a),B.value=!1,L.value=!1}}))},Pe=()=>{$.value=!1,S.value=null,l.clearErrors(),l.reset()},y=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),ee=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),E=a=>({goods:"Barang",service:"Jasa",document:"Dokumen",task:"Tugas",material:"Material"})[a]||a,te=a=>({needed:"Diperlukan",in_progress:"Dalam Proses",ready:"Siap",complete:"Selesai",cancelled:"Dibatalkan"})[a]||a,ge=a=>{a&&window.open(a,"_blank")},xe=j(()=>({goods:[{key:"purchase_type",label:"Cara Pembelian",type:"radio",icon:"ğŸ›’",options:ke},...l.details?.purchase_type==="online"?[{key:"ecommerce_platform",label:"Platform Online",type:"select",icon:"ğŸ“±",options:Object.entries(X).map(([t,s])=>({value:t,label:`${s.icon} ${s.name}`}))},{key:"online_link",label:"Link Produk",type:"url",icon:"ğŸ”—",placeholder:"https://..."}]:[],...l.details?.purchase_type==="store"?[{key:"store_maps",label:"Link Google Maps",type:"url",icon:"ğŸ—ºï¸",placeholder:"https://maps.google.com/..."},{key:"store_address",label:"Alamat Toko",type:"textarea",icon:"ğŸª",placeholder:"Alamat lengkap toko..."}]:[],{key:"ukuran",label:"Ukuran",type:"text",icon:"ğŸ“"},{key:"warna",label:"Warna",type:"text",icon:"ğŸ¨"},{key:"material",label:"Material",type:"text",icon:"âš™ï¸"},{key:"merk",label:"Merk",type:"text",icon:"ğŸ·ï¸"}],service:[{key:"vendor_kontak",label:"Kontak Vendor",type:"text",icon:"ğŸ“"},{key:"tanggal_kontrak",label:"Tanggal Kontrak",type:"date",icon:"ğŸ“…"},{key:"sisa_pembayaran",label:"Sisa Pembayaran",type:"number",icon:"ğŸ’°"},{key:"menu_pilihan",label:"Menu Pilihan",type:"text",icon:"ğŸ½ï¸"},{key:"lokasi",label:"Lokasi",type:"text",icon:"ğŸ“"}],document:[{key:"tanggal_kadaluarsa",label:"Tanggal Kadaluarsa",type:"date",icon:"ğŸ“…"},{key:"lokasi_fisik",label:"Lokasi Fisik",type:"text",icon:"ğŸ“"},{key:"status_legalitas",label:"Status Legalitas",type:"text",icon:"âš–ï¸"},{key:"nomor_dokumen",label:"Nomor Dokumen",type:"text",icon:"ğŸ”¢"}],task:[{key:"pihak_pengurus",label:"Pihak Pengurus",type:"text",icon:"ğŸ‘¤"},{key:"biaya_administrasi",label:"Biaya Administrasi",type:"number",icon:"ğŸ’°"},{key:"progress_persentase",label:"Progress (%)",type:"number",icon:"ğŸ“Š"},{key:"deadline",label:"Deadline",type:"date",icon:"â°"}],material:[{key:"kuantitas_target",label:"Kuantitas Target",type:"number",icon:"ğŸ“¦"},{key:"satuan",label:"Satuan",type:"text",icon:"âš–ï¸"},{key:"supplier_preferensi",label:"Supplier Preferensi",type:"text",icon:"ğŸª"},{key:"spesifikasi",label:"Spesifikasi",type:"text",icon:"ğŸ“‹"}]})[l.item_type]||[]),O=j(()=>Y.value.filter(a=>a.status!=="complete")),K=j(()=>Y.value.filter(a=>a.status==="complete")),Ve=j(()=>{const a=O.value;return{total_items:a.length,total_planned:a.reduce((t,s)=>t+parseFloat(s.planned_amount||0),0),total_spent:a.reduce((t,s)=>t+parseFloat(s.actual_spent||0),0)}}),$e=j(()=>{const a=K.value;return{total_items:a.length,total_planned:a.reduce((t,s)=>t+parseFloat(s.planned_amount||0),0),total_spent:a.reduce((t,s)=>t+parseFloat(s.actual_spent||0),0)}});return H([()=>l.details.quantity,()=>l.details.unit_price],()=>{h.value&&(l.planned_amount=w.value)}),H(()=>l.item_type,a=>{["goods","material"].includes(a)&&(l.details.quantity||(l.details.quantity=1),l.details.unit_price||(l.details.unit_price=0),M())}),H(()=>l.item_type,a=>{if(a!=="goods"){const{purchase_type:t,ecommerce_platform:s,online_link:x,store_maps:ye,store_address:Kl,...Te}=l.details;l.details=Te}}),(a,t)=>(i(),oe(Oe,{title:`Item Project - ${b.project.name}`},{default:p(()=>[e("div",Ye,[e("div",Ze,[c.value?(i(),d("div",{key:0,class:P(["mb-6 p-4 rounded-2xl border backdrop-blur-sm transition-all duration-300",{"bg-green-50 border-green-200 text-green-800":c.value.type==="success","bg-red-50 border-red-200 text-red-800":c.value.type==="error"}])},[e("div",et,[e("div",tt,[e("span",st,o(c.value.type==="success"?"âœ…":"âš ï¸"),1),e("span",at,o(c.value.message),1)]),e("button",{onClick:t[0]||(t[0]=s=>c.value=null),class:"text-gray-500 hover:text-gray-700 transition-colors"}," âœ• ")])],2)):g("",!0),e("div",lt,[t[27]||(t[27]=e("h1",{class:"text-3xl md:text-4xl font-extrabold text-rose-600 drop-shadow-md mb-3"}," ğŸ“‹ Kelola Item Project ",-1)),e("p",ot,[t[25]||(t[25]=n(" Kelola semua item, barang, jasa, dokumen, dan tugas untuk project ",-1)),e("span",nt,o(b.project.name),1),t[26]||(t[26]=n(". Pantau progress dan realisasi biaya untuk setiap item ğŸ’« ",-1))])]),e("div",rt,[t[35]||(t[35]=e("div",{class:"absolute -top-10 -right-10 w-40 h-40 bg-pink-100/40 rounded-full blur-3xl"},null,-1)),t[36]||(t[36]=e("div",{class:"absolute -bottom-12 -left-12 w-48 h-48 bg-blue-100/40 rounded-full blur-3xl"},null,-1)),t[37]||(t[37]=e("div",{class:"relative flex items-center gap-4 mb-6"},[e("div",{class:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-2xl flex items-center justify-center shadow-md"},[e("span",{class:"text-2xl text-white"},"ğŸŒ·")]),e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800"},"Detail Proyek"),e("p",{class:"text-sm text-gray-500 italic"},"â€œSetiap proyek punya cerita yang indah di baliknya.â€")])],-1)),e("div",it,[e("div",dt,[t[30]||(t[30]=e("div",{class:"w-9 h-9 bg-gradient-to-r from-pink-200 to-rose-100 rounded-xl flex items-center justify-center shadow-sm"}," ğŸ’¼ ",-1)),e("div",null,[t[29]||(t[29]=e("p",{class:"text-xs text-gray-500"},"Nama Project",-1)),e("p",ut,o(b.project.name),1),e("p",pt,[t[28]||(t[28]=n("Kategori: ",-1)),e("span",mt,o(b.project.category),1)])])]),e("div",ct,[t[32]||(t[32]=e("div",{class:"w-9 h-9 bg-gradient-to-r from-yellow-200 to-orange-100 rounded-xl flex items-center justify-center shadow-sm"}," ğŸ’° ",-1)),e("div",null,[t[31]||(t[31]=e("p",{class:"text-xs text-gray-500"},"Target Budget",-1)),e("p",gt,o(y(b.project.target_total_amount)),1)])]),e("div",xt,[t[34]||(t[34]=e("div",{class:"w-9 h-9 bg-gradient-to-r from-blue-200 to-indigo-100 rounded-xl flex items-center justify-center shadow-sm"}," ğŸ“Š ",-1)),e("div",null,[t[33]||(t[33]=e("p",{class:"text-xs text-gray-500"},"Status Project",-1)),e("p",yt,o(te(b.project.status)),1)])])]),t[38]||(t[38]=e("div",{class:"mt-4 border-t border-pink-100 pt-4 text-center"},[e("p",{class:"text-sm text-gray-500 italic"}," â€œSebuah proyek bukan sekadar angka, tapi tentang harapan, usaha, dan keindahan prosesnya.â€ ğŸ’– ")],-1))]),m(Xe,{filters:_.value,"onUpdate:filters":t[1]||(t[1]=s=>_.value=s),options:Se.value,class:"mb-4"},null,8,["filters","options"]),e("div",bt,[m(N,{class:"text-center hover:scale-[1.02] transition transform border border-rose-100"},{default:p(()=>[e("div",vt,[t[39]||(t[39]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-rose-400 to-pink-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"ğŸ“‹")],-1)),e("h3",_t,o(D.value.total_items||0),1),t[40]||(t[40]=e("p",{class:"text-sm text-gray-600"},"Total Item",-1)),_.value.item_type||_.value.status?(i(),d("p",ft," ğŸ” Filter aktif ")):g("",!0)])]),_:1}),m(N,{class:"text-center hover:scale-[1.02] transition transform border border-blue-100"},{default:p(()=>[e("div",kt,[t[41]||(t[41]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"ğŸ’°")],-1)),e("h3",ht,o(y(D.value.total_planned)),1),t[42]||(t[42]=e("p",{class:"text-sm text-gray-600"},"Rencana Biaya",-1))])]),_:1}),m(N,{class:"text-center hover:scale-[1.02] transition transform border border-orange-100"},{default:p(()=>[e("div",wt,[t[43]||(t[43]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"ğŸ’¸")],-1)),e("h3",jt,o(y(D.value.total_spent)),1),t[44]||(t[44]=e("p",{class:"text-sm text-gray-600"},"Realisasi",-1)),D.value.total_planned>0?(i(),d("p",St,o((D.value.total_spent/D.value.total_planned*100).toFixed(1))+"% ",1)):g("",!0)])]),_:1}),m(N,{class:"text-center hover:scale-[1.02] transition transform border border-green-100"},{default:p(()=>[e("div",Ct,[t[45]||(t[45]=e("div",{class:"w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-md"},[e("span",{class:"text-xl text-white"},"ğŸ“Š")],-1)),e("h3",It,o(y(D.value.total_remaining)),1),t[46]||(t[46]=e("p",{class:"text-sm text-gray-600"},"Sisa Anggaran",-1))])]),_:1})]),e("div",Dt,[(i(),d(F,null,A(["goods","service","document","task","material"],s=>m(N,{class:P(["text-center cursor-pointer transition-all duration-300 hover:scale-105",{"ring-2 ring-pink-400 shadow-lg":_.value.item_type===s,"hover:shadow-md":!_.value.item_type}]),key:s,onClick:x=>_.value.item_type=_.value.item_type===s?"":s},{default:p(()=>[e("div",Pt,[e("div",Vt,o(s==="goods"?"ğŸ›ï¸":s==="service"?"ğŸ‘¨â€ğŸ’¼":s==="document"?"ğŸ“„":s==="task"?"âœ…":"ğŸ—ï¸"),1),e("h3",$t,o(s==="goods"?D.value.goods_count:s==="service"?D.value.services_count:s==="document"?D.value.documents_count:s==="task"?D.value.tasks_count:D.value.materials_count),1),e("p",Tt,o(E(s)),1),_.value.item_type===s?(i(),d("p",Bt," âœ“ Terfilter ")):g("",!0)])]),_:2},1032,["class","onClick"])),64))]),O.value.length>0?(i(),d("div",Mt,[e("div",Ut,[e("h3",Ft,[t[47]||(t[47]=e("span",{class:"text-2xl"},"ğŸš€",-1)),t[48]||(t[48]=n(" Item Aktif ",-1)),e("span",At,o(O.value.length)+" item ",1)]),e("p",Lt,[t[49]||(t[49]=n(" Item yang masih dalam proses pengerjaan. Total rencana biaya: ",-1)),e("span",zt,o(y(Ve.value.total_planned)),1)])]),m(ve,{title:`Item Aktif - ${b.project.name}`,description:`${O.value.length} item sedang dalam proses`,columns:he,data:O.value,loading:v.value,"show-actions":!0,pagination:!0,"items-per-page":10,onCreate:le,onEdit:pe,onDelete:me},{"column-item_category":p(({item:s})=>[e("div",qt,[t[50]||(t[50]=e("span",{class:"text-lg"},"ğŸ“‚",-1)),e("span",Ot,o(s.item_category||"Uncategorized"),1)])]),"column-item_type":p(({item:s})=>[e("div",Kt,[e("span",Rt,o(s.item_type_icon),1),e("span",{class:P(["px-2 py-1 rounded-full text-xs font-medium",s.item_type_badge])},o(E(s.item_type)),3)])]),"column-planned_amount":p(({item:s})=>[e("div",Et,[t[51]||(t[51]=e("span",{class:"text-lg text-blue-600"},"ğŸ’°",-1)),e("span",Nt,o(y(s.planned_amount)),1)])]),"column-actual_spent":p(({item:s})=>[e("div",Ht,[t[52]||(t[52]=e("span",{class:"text-lg text-orange-600"},"ğŸ’¸",-1)),e("span",Jt,o(y(s.actual_spent)),1)])]),"column-remaining_amount":p(({item:s})=>[e("div",Gt,[e("span",{class:P(["text-lg",s.remaining_amount>=0?"text-green-600":"text-red-600"])}," ğŸ“Š ",2),e("span",{class:P(["font-bold text-sm",s.remaining_amount>=0?"text-green-700":"text-red-700"])},o(y(s.remaining_amount)),3)])]),"column-progress_percentage":p(({item:s})=>[e("div",Qt,[e("div",Wt,[e("span",Xt,o(s.progress_percentage.toFixed(1))+"%",1),e("span",null,o(y(s.actual_spent))+" / "+o(y(s.planned_amount)),1)]),e("div",Yt,[e("div",{class:P(["h-2 rounded-full transition-all duration-300",{"bg-red-500":s.progress_percentage>=100,"bg-orange-400":s.progress_percentage>=80&&s.progress_percentage<100,"bg-yellow-400":s.progress_percentage>=50&&s.progress_percentage<80,"bg-green-500":s.progress_percentage<50}]),style:be({width:Math.min(s.progress_percentage,100)+"%"})},null,6)])])]),"column-status":p(({item:s})=>[e("div",Zt,[e("span",es,o(s.status_icon),1),e("span",{class:P(["px-2 py-1 rounded-full text-xs font-medium",s.status_badge])},o(te(s.status)),3)])]),"column-created_at":p(({item:s})=>[e("div",ts,[t[53]||(t[53]=e("span",{class:"text-lg"},"ğŸ“…",-1)),e("span",ss,o(ee(s.created_at)),1)])]),actions:p(({item:s})=>[m(I,{onClick:x=>ce(s),variant:"primary",size:"sm",class:"!px-2 !py-2",title:"Lihat detail item"},{icon:p(()=>[...t[54]||(t[54]=[n("ğŸ‘ï¸",-1)])]),default:p(()=>[t[55]||(t[55]=n(" Detail ",-1))]),_:1},8,["onClick"]),m(I,{onClick:x=>pe(s),variant:"secondary",size:"sm",class:"!px-2 !py-2",disabled:!s.can_edit,title:s.can_edit?"Edit item":"Hanya pemilik kategori dan partner yang dapat mengedit"},{icon:p(()=>[...t[56]||(t[56]=[n("âœï¸",-1)])]),default:p(()=>[t[57]||(t[57]=n(" Edit ",-1))]),_:1},8,["onClick","disabled","title"]),m(I,{onClick:x=>me(s),variant:"danger",size:"sm",class:"!px-2 !py-2",disabled:!s.can_edit,title:s.can_edit?"Hapus item":"Hanya pemilik kategori dan partner yang dapat menghapus"},{icon:p(()=>[...t[58]||(t[58]=[n("ğŸ—‘ï¸",-1)])]),default:p(()=>[t[59]||(t[59]=n(" Hapus ",-1))]),_:1},8,["onClick","disabled","title"])]),_:1},8,["title","description","data","loading"])])):g("",!0),K.value.length>0?(i(),d("div",as,[e("div",ls,[e("h3",os,[t[60]||(t[60]=e("span",{class:"text-2xl"},"âœ…",-1)),t[61]||(t[61]=n(" Item Selesai ",-1)),e("span",ns,o(K.value.length)+" item ",1)]),e("p",rs,[t[62]||(t[62]=n(" Item yang sudah selesai dikerjakan. Total sisa biaya yang telah dihabiskan: ",-1)),e("span",is,o(y($e.value.total_spent)),1)])]),m(ve,{title:`Item Selesai - ${b.project.name}`,description:`${K.value.length} item sudah selesai`,columns:we,data:K.value,loading:v.value,"show-actions":!0,"show-create-button":!1,pagination:!0,"items-per-page":10},{"column-item_type":p(({item:s})=>[e("div",ds,[e("span",us,o(s.item_type_icon),1),e("span",ps,o(E(s.item_type)),1)])]),"column-planned_amount":p(({item:s})=>[e("div",ms,[t[63]||(t[63]=e("span",{class:"text-lg text-blue-600"},"ğŸ’°",-1)),e("span",cs,o(y(s.planned_amount)),1)])]),"column-actual_spent":p(({item:s})=>[e("div",gs,[t[64]||(t[64]=e("span",{class:"text-lg text-green-600"},"ğŸ’¸",-1)),e("span",xs,o(y(s.actual_spent)),1)])]),"column-status":p(({item:s})=>[...t[65]||(t[65]=[e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-lg"},"âœ…"),e("span",{class:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Selesai ")],-1)])]),"column-completed_at":p(({item:s})=>[e("div",ys,[t[66]||(t[66]=e("span",{class:"text-lg"},"ğŸ“…",-1)),e("span",bs,o(ee(s.updated_at)),1)])]),actions:p(({item:s})=>[m(I,{onClick:x=>ce(s),variant:"primary",size:"sm",class:"!px-2 !py-2",title:"Lihat detail item"},{icon:p(()=>[...t[67]||(t[67]=[n("ğŸ‘ï¸",-1)])]),default:p(()=>[t[68]||(t[68]=n(" Detail ",-1))]),_:1},8,["onClick"])]),_:1},8,["title","description","data","loading"])])):g("",!0),Y.value.length===0&&!v.value?(i(),d("div",vs,[e("div",_s,[t[73]||(t[73]=e("div",{class:"text-6xl mb-4"},"ğŸ“‹",-1)),e("h3",fs,o(V.value.length===0?"Belum ada item":"Tidak ada item yang sesuai filter"),1),e("p",ks,[V.value.length===0?(i(),d("span",hs," Mulai dengan menambahkan item pertama untuk project "+o(b.project.name),1)):(i(),d("span",ws," Coba ubah filter atau hapus filter untuk melihat semua item "))]),e("div",js,[V.value.length===0?(i(),oe(I,{key:0,onClick:le,class:"px-6 py-3"},{icon:p(()=>[...t[69]||(t[69]=[n("â•",-1)])]),default:p(()=>[t[70]||(t[70]=n(" Tambah Item Pertama ",-1))]),_:1})):(i(),oe(I,{key:1,onClick:t[2]||(t[2]=s=>_.value={item_type:"",status:""}),variant:"secondary",class:"px-6 py-3"},{icon:p(()=>[...t[71]||(t[71]=[n("ğŸ”",-1)])]),default:p(()=>[t[72]||(t[72]=n(" Hapus Filter ",-1))]),_:1}))])])])):O.value.length===0&&K.value.length>0&&!v.value?(i(),d("div",Ss,[e("div",Cs,[t[76]||(t[76]=e("div",{class:"text-6xl mb-4"},"ğŸ‰",-1)),t[77]||(t[77]=e("h3",{class:"text-xl font-bold text-gray-800 mb-2"}," Semua Item Sudah Selesai! ",-1)),e("p",Is," Selamat! Semua item untuk project "+o(b.project.name)+" sudah selesai dikerjakan. Anda bisa menambahkan item baru jika diperlukan. ",1),m(I,{onClick:le,class:"px-6 py-3"},{icon:p(()=>[...t[74]||(t[74]=[n("â•",-1)])]),default:p(()=>[t[75]||(t[75]=n(" Tambah Item Baru ",-1))]),_:1})])])):g("",!0),m(ne,{show:$.value,"onUpdate:show":t[17]||(t[17]=s=>$.value=s),title:S.value?"Edit Item Project":"Tambah Item Project Baru",description:S.value?"Perbarui informasi item project":"Tambahkan item baru untuk project "+b.project.name,icon:S.value?"âœï¸":"â•","confirm-text":S.value?"Perbarui":"Simpan","confirm-loading":u(l).processing,onConfirm:Ie,onClose:Pe,size:"xl"},{default:p(()=>[e("div",Ds,[m(ie,{modelValue:u(l).item_type,"onUpdate:modelValue":t[3]||(t[3]=s=>u(l).item_type=s),label:"Jenis Item",placeholder:"Pilih jenis item",options:de,error:u(l).errors.item_type,icon:"ğŸ·ï¸",required:"",disabled:u(l).processing},null,8,["modelValue","error","disabled"]),e("div",Ps,[e("div",Vs,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ“‚"),n(" Kategori Item ")],-1)),Q.value&&!S.value?(i(),d("div",$s,[m(I,{onClick:t[4]||(t[4]=s=>q.value=!1),variant:"secondary",size:"xs",class:P(se.value?"":"ring-2 ring-pink-400")},{icon:p(()=>[...t[78]||(t[78]=[n("ğŸ“‹",-1)])]),default:p(()=>[t[79]||(t[79]=n(" Pilih Kategori ",-1))]),_:1},8,["class"]),m(I,{onClick:t[5]||(t[5]=s=>q.value=!0),variant:"secondary",size:"xs",class:P(se.value?"ring-2 ring-pink-400":"")},{icon:p(()=>[...t[80]||(t[80]=[n("â•",-1)])]),default:p(()=>[t[81]||(t[81]=n(" Kategori Baru ",-1))]),_:1},8,["class"])])):g("",!0)]),!se.value&&Q.value?(i(),d("div",Ts,[m(ie,{modelValue:u(l).item_category,"onUpdate:modelValue":t[6]||(t[6]=s=>u(l).item_category=s),label:"Pilih Kategori",placeholder:"Pilih kategori yang sudah ada",options:C.value.map(s=>({value:s,label:s})),error:u(l).errors.item_category,icon:"ğŸ“‚",disabled:u(l).processing},null,8,["modelValue","options","error","disabled"]),e("p",Bs," Pilih dari "+o(C.value.length)+" kategori yang sudah ada ",1)])):(i(),d("div",Ms,[m(_e,{modelValue:u(l).item_category,"onUpdate:modelValue":t[7]||(t[7]=s=>u(l).item_category=s),label:"Kategori Item",placeholder:"Contoh: Perlengkapan Kamar, Dekorasi, Katering, dll.",error:u(l).errors.item_category,icon:"ğŸ“‚",disabled:u(l).processing},null,8,["modelValue","error","disabled"]),Q.value?(i(),d("p",Us,[t[83]||(t[83]=n(" Atau ",-1)),e("button",{type:"button",onClick:t[8]||(t[8]=s=>q.value=!1),class:"text-pink-500 hover:text-pink-700 underline"}," pilih dari kategori yang sudah ada ")])):g("",!0)]))]),m(_e,{modelValue:u(l).name,"onUpdate:modelValue":t[9]||(t[9]=s=>u(l).name=s),label:"Nama Item",placeholder:"Contoh: Cincin Nikah, Vendor Katering, IMB, Semen Portland",error:u(l).errors.name,icon:"ğŸ“",required:"",disabled:u(l).processing},null,8,["modelValue","error","disabled"]),m(Ke,{modelValue:u(l).description,"onUpdate:modelValue":t[10]||(t[10]=s=>u(l).description=s),label:"Deskripsi",placeholder:"Deskripsi detail tentang item ini...",error:u(l).errors.description,icon:"ğŸ“„",disabled:u(l).processing},null,8,["modelValue","error","disabled"]),h.value?(i(),d("div",Fs,[e("div",As,[m(re,{label:"Qty Barang",modelValue:u(l).details.quantity,"onUpdate:modelValue":t[11]||(t[11]=s=>u(l).details.quantity=s),placeholder:"Jumlah barang",icon:"ğŸ’°",required:"",min:"1",disabled:u(l).processing,onInput:M},null,8,["modelValue","disabled"]),m(re,{label:"Rencana Biaya",modelValue:u(l).details.unit_price,"onUpdate:modelValue":t[12]||(t[12]=s=>u(l).details.unit_price=s),placeholder:"Harga per unit",icon:"ğŸ’°",required:"","account-type":"account_number",min:"0",disabled:u(l).processing,onInput:M},null,8,["modelValue","disabled"])]),e("div",Ls,[e("div",zs,[e("div",null,[t[84]||(t[84]=e("p",{class:"text-sm font-medium text-gray-700"},"Total Rencana Biaya:",-1)),e("p",qs,o(u(l).details.quantity||0)+" Ã— "+o(y(u(l).details.unit_price||0)),1)]),e("div",Os,[e("p",Ks,o(y(w.value)),1),t[85]||(t[85]=e("p",{class:"text-xs text-gray-500"},"Terhitung otomatis",-1))])])]),T(e("input",{type:"hidden","onUpdate:modelValue":t[13]||(t[13]=s=>u(l).planned_amount=s)},null,512),[[R,u(l).planned_amount]])])):(i(),d("div",Rs,[m(re,{modelValue:u(l).planned_amount,"onUpdate:modelValue":t[14]||(t[14]=s=>u(l).planned_amount=s),label:"Rencana Biaya",placeholder:"Biaya yang direncanakan",error:u(l).errors.planned_amount,icon:"ğŸ’°","account-type":"account_number",disabled:u(l).processing},null,8,["modelValue","error","disabled"])])),T(e("input",{type:"hidden","onUpdate:modelValue":t[15]||(t[15]=s=>u(l).actual_spent=s)},null,512),[[R,u(l).actual_spent]]),T(e("input",{type:"hidden","onUpdate:modelValue":t[16]||(t[16]=s=>u(l).status=s)},null,512),[[R,u(l).status]]),xe.value.length>0?(i(),d("div",Es,[e("div",Ns,[t[86]||(t[86]=e("h4",{class:"font-semibold text-gray-800 flex items-center gap-2 text-lg mb-4"},[e("span",null,"âœ¨"),n(" Detail Tambahan ")],-1)),e("div",Hs,[(i(!0),d(F,null,A(xe.value,s=>(i(),d("div",{key:s.key,class:"space-y-2"},[s.type==="radio"?(i(),d("div",Js,[e("label",Gs,[e("span",Qs,o(s.icon),1),n(" "+o(s.label),1)]),e("div",Ws,[(i(!0),d(F,null,A(s.options,x=>(i(),d("label",{key:x.value,class:P(["flex items-center space-x-2 cursor-pointer p-3 rounded-xl border-2 transition-all",u(l).details[s.key]===x.value?"border-pink-400 bg-pink-50 shadow-sm":"border-gray-200 hover:border-pink-200"])},[T(e("input",{type:"radio",value:x.value,"onUpdate:modelValue":ye=>u(l).details[s.key]=ye,class:"text-pink-500 focus:ring-pink-400"},null,8,Xs),[[Ae,u(l).details[s.key]]]),e("span",Ys,o(x.label),1)],2))),128))])])):s.type==="select"?(i(),d("div",Zs,[e("label",ea,[e("span",ta,o(s.icon),1),n(" "+o(s.label),1)]),T(e("select",{"onUpdate:modelValue":x=>u(l).details[s.key]=x,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all bg-white"},[e("option",aa,"Pilih "+o(s.label.toLowerCase()),1),(i(!0),d(F,null,A(s.options,x=>(i(),d("option",{key:x.value,value:x.value},o(x.label),9,la))),128))],8,sa),[[Le,u(l).details[s.key]]])])):s.type==="text"||s.type==="url"?(i(),d("div",oa,[e("label",na,[e("span",ra,o(s.icon),1),n(" "+o(s.label),1)]),T(e("input",{type:s.type,"onUpdate:modelValue":x=>u(l).details[s.key]=x,placeholder:s.placeholder||`Masukkan ${s.label.toLowerCase()}`,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,ia),[[ze,u(l).details[s.key]]])])):s.type==="textarea"?(i(),d("div",da,[e("label",ua,[e("span",pa,o(s.icon),1),n(" "+o(s.label),1)]),T(e("textarea",{"onUpdate:modelValue":x=>u(l).details[s.key]=x,placeholder:s.placeholder||`Masukkan ${s.label.toLowerCase()}`,rows:"3",class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all resize-none"},null,8,ma),[[R,u(l).details[s.key]]])])):s.type==="number"?(i(),d("div",ca,[e("label",ga,[e("span",xa,o(s.icon),1),n(" "+o(s.label),1)]),T(e("input",{type:"number","onUpdate:modelValue":x=>u(l).details[s.key]=x,placeholder:s.placeholder||`Masukkan ${s.label.toLowerCase()}`,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,ya),[[R,u(l).details[s.key]]])])):s.type==="date"?(i(),d("div",ba,[e("label",va,[e("span",_a,o(s.icon),1),n(" "+o(s.label),1)]),T(e("input",{type:"date","onUpdate:modelValue":x=>u(l).details[s.key]=x,class:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"},null,8,fa),[[R,u(l).details[s.key]]])])):g("",!0)]))),128))])])])):g("",!0),t[88]||(t[88]=e("div",{class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200"},[e("p",{class:"text-sm text-gray-700 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"ğŸ’¡"),e("span",null,[e("strong",{class:"block"},"Jenis Item:"),n(" â€¢ "),e("strong",null,"Barang ğŸ›ï¸"),n(": Physical goods yang dibeli (hitung otomatis dari quantity Ã— harga satuan)"),e("br"),n(" â€¢ "),e("strong",null,"Jasa ğŸ‘¨â€ğŸ’¼"),n(": Services dari vendor/penyedia jasa"),e("br"),n(" â€¢ "),e("strong",null,"Dokumen ğŸ“„"),n(": Legal documents dan surat-surat"),e("br"),n(" â€¢ "),e("strong",null,"Tugas âœ…"),n(": Tasks dan pekerjaan yang perlu diselesaikan"),e("br"),n(" â€¢ "),e("strong",null,"Material ğŸ—ï¸"),n(": Bahan bangunan dan material konstruksi (hitung otomatis dari quantity Ã— harga satuan) ")])])],-1)),u(l).hasErrors?(i(),d("div",ka,[...t[87]||(t[87]=[e("p",{class:"text-sm text-red-600 flex items-center gap-2"},[e("span",null,"âš ï¸"),n(" Terdapat kesalahan dalam pengisian form. Silakan periksa kembali input Anda. ")],-1)])])):g("",!0)])]),_:1},8,["show","title","description","icon","confirm-text","confirm-loading"]),m(ne,{show:z.value,"onUpdate:show":t[21]||(t[21]=s=>z.value=s),title:r.value?r.value.name:"Detail Item",description:r.value?`Detail lengkap untuk item ${r.value.name}`:"Detail item",icon:"ğŸ‘ï¸",onClose:t[22]||(t[22]=s=>z.value=!1),size:"lg"},{default:p(()=>[r.value?(i(),d("div",ha,[e("div",wa,[t[93]||(t[93]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"âœ¨"),n(" Informasi Dasar ")],-1)),e("div",ja,[e("div",Sa,[t[89]||(t[89]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ·ï¸"),n(" Jenis Item ")],-1)),e("p",Ca,[e("span",null,o(r.value.item_type_icon),1),n(" "+o(E(r.value.item_type)),1)])]),e("div",Ia,[t[90]||(t[90]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸŸ¢"),n(" Status ")],-1)),e("p",Da,[e("span",null,o(r.value.status_icon),1),n(" "+o(te(r.value.status)),1)])]),e("div",Pa,[t[91]||(t[91]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ’°"),n(" Rencana Biaya ")],-1)),e("p",Va,o(y(r.value.planned_amount)),1),ue(r.value)?(i(),d("p",$a," Terhitung otomatis ")):g("",!0)]),e("div",Ta,[t[92]||(t[92]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ’¸"),n(" Realisasi ")],-1)),e("p",Ba,o(y(r.value.actual_spent)),1)])])]),ue(r.value)&&r.value.details?(i(),d("div",Ma,[t[99]||(t[99]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"ğŸ“Š"),n(" Informasi Kuantitas & Harga ")],-1)),e("div",Ua,[e("div",Fa,[t[95]||(t[95]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ“¦"),n(" Quantity ")],-1)),e("p",Aa,[n(o(r.value.details.quantity||0)+" ",1),t[94]||(t[94]=e("span",{class:"text-sm font-normal text-gray-500"},"unit",-1))])]),e("div",La,[t[96]||(t[96]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ’°"),n(" Harga Satuan ")],-1)),e("p",za,o(y(r.value.details.unit_price||0)),1)]),e("div",qa,[t[98]||(t[98]=e("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[e("span",{class:"text-lg"},"ğŸ§®"),n(" Perhitungan Total ")],-1)),e("div",Oa,[e("div",Ka,[e("span",Ra,o(r.value.details.quantity||0)+" Ã— "+o(y(r.value.details.unit_price||0)),1),e("span",Ea," = "+o(y(r.value.planned_amount)),1)]),t[97]||(t[97]=e("p",{class:"text-xs text-gray-500 mt-1"}," Total rencana biaya dihitung otomatis dari quantity Ã— harga satuan ",-1))])])])])):g("",!0),e("div",Na,[t[100]||(t[100]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"ğŸ“ˆ"),n(" Progress Keuangan ")],-1)),e("div",Ha,[e("div",Ja,[e("span",Ga,o(r.value.progress_percentage.toFixed(1))+"%",1),e("span",Qa,o(y(r.value.actual_spent))+" / "+o(y(r.value.planned_amount)),1)]),e("div",Wa,[e("div",{class:"h-4 rounded-full transition-all duration-1000 bg-gradient-to-r from-pink-400 to-rose-500 shadow-lg",style:be({width:Math.min(r.value.progress_percentage,100)+"%"})},null,4)]),e("div",Xa,[e("span",null,"Sisa: "+o(y(r.value.remaining_amount)),1),r.value.remaining_amount<0?(i(),d("span",Ya," âš ï¸ Melebihi budget ")):g("",!0)])])]),r.value.description?(i(),d("div",Za,[t[101]||(t[101]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-3 flex items-center gap-2"},[e("span",null,"ğŸ“„"),n(" Deskripsi ")],-1)),e("p",el,o(r.value.description),1)])):g("",!0),r.value.item_type==="goods"&&r.value.details&&Ce(r.value)?(i(),d("div",tl,[t[111]||(t[111]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"ğŸ›ï¸"),n(" Informasi Pembelian ")],-1)),e("div",sl,[r.value.details.purchase_type?(i(),d("div",al,[t[102]||(t[102]=e("span",{class:"text-sm text-gray-600"},"Cara Pembelian:",-1)),e("span",ll,[r.value.details.purchase_type==="online"?(i(),d("span",ol,"ğŸ›’")):(i(),d("span",nl,"ğŸª")),n(" "+o(r.value.details.purchase_type==="online"?"Beli Online":"Beli di Toko"),1)])])):g("",!0),r.value.details.purchase_type==="online"?(i(),d("div",rl,[r.value.details.ecommerce_platform?(i(),d("div",il,[t[103]||(t[103]=e("span",{class:"text-sm text-gray-600"},"Platform:",-1)),e("span",{class:P(["font-medium flex items-center gap-2",X[r.value.details.ecommerce_platform]?.color])},[e("span",null,o(X[r.value.details.ecommerce_platform]?.icon),1),n(" "+o(X[r.value.details.ecommerce_platform]?.name),1)],2)])):g("",!0),r.value.details.online_link?(i(),d("div",dl,[e("div",ul,[t[106]||(t[106]=e("span",{class:"text-sm text-gray-600"},"Link Produk:",-1)),m(I,{onClick:t[18]||(t[18]=s=>ge(r.value.details.online_link)),variant:"primary",size:"xs",class:"!px-3 !py-1"},{icon:p(()=>[...t[104]||(t[104]=[n("ğŸ”—",-1)])]),default:p(()=>[t[105]||(t[105]=n(" Buka Link ",-1))]),_:1})]),e("p",pl,o(r.value.details.online_link),1)])):g("",!0)])):g("",!0),r.value.details.purchase_type==="store"?(i(),d("div",ml,[r.value.details.store_maps?(i(),d("div",cl,[e("div",gl,[t[109]||(t[109]=e("span",{class:"text-sm text-gray-600"},"Lokasi Toko:",-1)),m(I,{onClick:t[19]||(t[19]=s=>ge(r.value.details.store_maps)),variant:"primary",size:"xs",class:"!px-3 !py-1"},{icon:p(()=>[...t[107]||(t[107]=[n("ğŸ—ºï¸",-1)])]),default:p(()=>[t[108]||(t[108]=n(" Buka Maps ",-1))]),_:1})]),e("p",xl,o(r.value.details.store_maps),1)])):g("",!0),r.value.details.store_address?(i(),d("div",yl,[t[110]||(t[110]=e("span",{class:"text-sm text-gray-600 block mb-2"},"Alamat Toko:",-1)),e("p",bl,o(r.value.details.store_address),1)])):g("",!0)])):g("",!0),e("div",vl,[(i(),d(F,null,A(["ukuran","warna","material","merk"],s=>e("div",{key:s},[r.value.details[s]?(i(),d("div",_l,[e("span",fl,o(s),1),e("span",kl,o(r.value.details[s]),1)])):g("",!0)])),64))])])])):g("",!0),r.value.details&&Object.keys(r.value.details).length>0&&r.value.item_type!=="goods"?(i(),d("div",hl,[t[112]||(t[112]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"ğŸ”§"),n(" Detail Tambahan ")],-1)),e("div",wl,[(i(!0),d(F,null,A(r.value.details,(s,x)=>(i(),d("div",{key:x,class:"p-3 bg-white rounded-xl border hover:shadow-sm transition-shadow"},[e("span",jl,o(x.replace("_"," ")),1),e("span",Sl,o(s),1)]))),128))])])):g("",!0),e("div",Cl,[t[115]||(t[115]=e("h3",{class:"font-semibold text-gray-800 text-lg mb-4 flex items-center gap-2"},[e("span",null,"â°"),n(" Informasi Waktu ")],-1)),e("div",Il,[e("div",Dl,[t[113]||(t[113]=e("span",{class:"text-xs text-gray-500 block"},"Dibuat",-1)),e("span",Pl,o(ee(r.value.created_at)),1)]),e("div",Vl,[t[114]||(t[114]=e("span",{class:"text-xs text-gray-500 block"},"Diupdate",-1)),e("span",$l,o(ee(r.value.updated_at)),1)])])]),m(I,{onClick:t[20]||(t[20]=s=>a.$inertia.visit(a.route("projects.items.show",{project:b.project.id,item:r.value.id}))),variant:"primary",size:"sm",class:"!px-2 !py-2",title:"Lihat detail lengkap item"},{icon:p(()=>[...t[116]||(t[116]=[n("ğŸ‘ï¸",-1)])]),default:p(()=>[t[117]||(t[117]=n(" Lihat detail lengkap item ",-1))]),_:1})])):g("",!0)]),_:1},8,["show","title","description"]),m(ne,{show:B.value,"onUpdate:show":t[23]||(t[23]=s=>B.value=s),title:"Hapus Item Project",description:f.value?`Apakah Anda yakin ingin menghapus item ${f.value.name}?`:"Apakah Anda yakin ingin menghapus item ini?",icon:"ğŸ—‘ï¸","confirm-text":"Hapus","cancel-text":"Batal","confirm-variant":"danger","confirm-loading":L.value,onConfirm:De,onClose:t[24]||(t[24]=s=>B.value=!1)},{default:p(()=>[e("div",Tl,[t[125]||(t[125]=e("div",{class:"p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl"},[e("p",{class:"text-sm text-red-600 flex items-start gap-2"},[e("span",{class:"text-lg mt-0.5"},"âš ï¸"),e("span",null,[e("strong",{class:"block"},"Tindakan ini tidak dapat dibatalkan!"),n(" Semua data yang terkait dengan item ini akan hilang. ")])])],-1)),f.value?(i(),d("div",Bl,[t[124]||(t[124]=e("h4",{class:"font-semibold text-gray-800 mb-2"},"Detail Item:",-1)),e("div",Ml,[e("div",null,[t[118]||(t[118]=e("span",{class:"text-gray-600"},"Nama:",-1)),e("p",Ul,o(f.value.name),1)]),e("div",null,[t[119]||(t[119]=e("span",{class:"text-gray-600"},"Jenis:",-1)),e("p",Fl,o(E(f.value.item_type)),1)]),e("div",null,[t[120]||(t[120]=e("span",{class:"text-gray-600"},"Rencana Biaya:",-1)),e("p",Al,o(y(f.value.planned_amount)),1)]),e("div",null,[t[121]||(t[121]=e("span",{class:"text-gray-600"},"Realisasi:",-1)),e("p",Ll,o(y(f.value.actual_spent)),1)]),e("div",null,[t[122]||(t[122]=e("span",{class:"text-gray-600"},"Status:",-1)),e("p",zl,o(te(f.value.status)),1)]),e("div",null,[t[123]||(t[123]=e("span",{class:"text-gray-600"},"Progress:",-1)),e("p",ql,o(f.value.progress_percentage.toFixed(1))+"%",1)])])])):g("",!0)])]),_:1},8,["show","description","confirm-loading"])])])]),_:1},8,["title"]))}},Zl=Re(Ol,[["__scopeId","data-v-c83f579c"]]);export{Zl as default};
